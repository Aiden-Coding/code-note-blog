"use strict";(self.webpackChunkcode_note_blog=self.webpackChunkcode_note_blog||[]).push([[4291],{61932:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>a,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>p});var i=r(11527),t=r(88672);const o={},s=void 0,c={id:"Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e8c\uff09\uff1a\u51c6\u5907\u8fd0\u884c\u73af\u5883",title:"SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e8c\uff09\uff1a\u51c6\u5907\u8fd0\u884c\u73af\u5883",description:"\u63a5\u4e0a\u6587\uff0c\u6211\u4eec\u7ee7\u7eed\u5206\u6790\uff0c\u672c\u6587\u5c06\u5206\u6790SpringApplication#run(String...)\u65b9\u6cd5\u3002",source:"@site/docs/Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e8c\uff09\uff1a\u51c6\u5907\u8fd0\u884c\u73af\u5883.md",sourceDirName:"Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790",slug:"/Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e8c\uff09\uff1a\u51c6\u5907\u8fd0\u884c\u73af\u5883",permalink:"/code-note-blog/docs/Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e8c\uff09\uff1a\u51c6\u5907\u8fd0\u884c\u73af\u5883",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e8c\uff09\uff1a\u51c6\u5907\u8fd0\u884c\u73af\u5883.md",tags:[],version:"current",frontMatter:{},sidebar:"spring",previous:{title:"@SpringBootApplication\u6ce8\u89e3",permalink:"/code-note-blog/docs/Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/@SpringBootApplication\u6ce8\u89e3"},next:{title:"SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u516d\uff09\uff1a\u542f\u52a8\u6d41\u7a0b\u603b\u7ed3",permalink:"/code-note-blog/docs/Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u516d\uff09\uff1a\u542f\u52a8\u6d41\u7a0b\u603b\u7ed3"}},a={},p=[{value:"3.<code>springboot</code>\u7684\u8fd0\u884c\uff1a<code>SpringApplication#run(String...)</code>",id:"3springboot\u7684\u8fd0\u884cspringapplicationrunstring",level:2},{value:"3.1<code>stopWatch</code>\uff1a\u521b\u5efa\u8ba1\u65f6\u5668\u5e76\u542f\u52a8",id:"31stopwatch\u521b\u5efa\u8ba1\u65f6\u5668\u5e76\u542f\u52a8",level:3},{value:"3.2 \u8bbe\u7f6e<code>java.awt.headless</code>\u5c5e\u6027\u503c",id:"32-\u8bbe\u7f6ejavaawtheadless\u5c5e\u6027\u503c",level:3},{value:"3.3 \u83b7\u53d6\u8fd0\u884c\u76d1\u542c\u5668",id:"33-\u83b7\u53d6\u8fd0\u884c\u76d1\u542c\u5668",level:3},{value:"3.4 \u8fd0\u884c\u76d1\u542c\u5668\u65b9\u6cd5\uff1a<code>listeners.starting()</code>",id:"34-\u8fd0\u884c\u76d1\u542c\u5668\u65b9\u6cd5listenersstarting",level:3},{value:"3.5 \u51c6\u5907\u8fd0\u884c\u65f6\u73af\u5883",id:"35-\u51c6\u5907\u8fd0\u884c\u65f6\u73af\u5883",level:3},{value:"1. \u83b7\u53d6\u6216\u521b\u5efa<code>Environment</code>",id:"1-\u83b7\u53d6\u6216\u521b\u5efaenvironment",level:4},{value:"2. \u914d\u7f6e\u73af\u5883",id:"2-\u914d\u7f6e\u73af\u5883",level:4},{value:"3.6 \u914d\u7f6e\u7cfb\u7edf\u53c2\u6570",id:"36-\u914d\u7f6e\u7cfb\u7edf\u53c2\u6570",level:3},{value:"3.7 \u6253\u5370<code>banner</code>",id:"37-\u6253\u5370banner",level:3}];function l(n){const e={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.p,{children:["\u63a5\u4e0a\u6587\uff0c\u6211\u4eec\u7ee7\u7eed\u5206\u6790\uff0c\u672c\u6587\u5c06\u5206\u6790",(0,i.jsx)(e.code,{children:"SpringApplication#run(String...)"}),"\u65b9\u6cd5\u3002"]}),"\n",(0,i.jsxs)(e.h2,{id:"3springboot\u7684\u8fd0\u884cspringapplicationrunstring",children:["3.",(0,i.jsx)(e.code,{children:"springboot"}),"\u7684\u8fd0\u884c\uff1a",(0,i.jsx)(e.code,{children:"SpringApplication#run(String...)"})]}),"\n",(0,i.jsx)(e.p,{children:"\u65b9\u6cd5\u5185\u5bb9\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"public ConfigurableApplicationContext run(String... args) {\n    // 1\\. \u521b\u5efa StopWatch \u5b9e\u4f8b\uff0c\u5176\u5b9e\u5c31\u662f\u4e2a\u8ba1\u65f6\u5668\uff0c\u7528\u6765\u7edf\u8ba1springboot\u542f\u52a8\u8017\u65f6\n    StopWatch stopWatch = new StopWatch();\n    stopWatch.start();\n    // \u51c6\u5907\u7a7a\u7684ApplicationContext\uff0c\u4ee5\u53ca\u4e00\u7ec4\u5f02\u5e38\u62a5\u544a\u5668\n    ConfigurableApplicationContext context = null;\n    Collection<SpringBootExceptionReporter> exceptionReporters = new ArrayList<>();\n    // 2\\. \u914d\u7f6e\u4e00\u4e2a\u7cfb\u7edf\u5c5e\u6027\uff1ajava.awt.headless\uff0cjava.awt.headless\u6a21\u5f0f\u662f\u7cfb\u7edf\u7684\u4e00\u79cd\u914d\u7f6e\u6a21\u5f0f\uff0c\n    // \u5728\u7cfb\u7edf\u53ef\u80fd\u7f3a\u5c11\u663e\u793a\u8bbe\u5907\u3001\u952e\u76d8\u6216\u9f20\u6807\u8fd9\u4e9b\u5916\u8bbe\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u8be5\u6a21\u5f0f\n    configureHeadlessProperty();\n    // 3\\. \u83b7\u53d6\u76d1\u542c\u5668\uff0c\u4e5f\u662f\u4ece META-INF/spring.factories \u4e2d\u83b7\u53d6\n    SpringApplicationRunListeners listeners = getRunListeners(args);\n    // starting()\uff1a\u9996\u6b21\u542f\u52a8run\u65b9\u6cd5\u65f6\u7acb\u5373\u8c03\u7528\u3002\u53ef\u7528\u4e8e\u975e\u5e38\u65e9\u671f\u7684\u521d\u59cb\u5316\uff08\u51c6\u5907\u8fd0\u884c\u65f6\u73af\u5883\u4e4b\u524d\uff09\u3002\n    // 4\\. \u53d1\u5e03\u4e8b\u4ef6\n    listeners.starting();\n    try {\n        // \u5c01\u88c5\u4f20\u5165\u7684\u53c2\u6570\n        ApplicationArguments applicationArguments = new DefaultApplicationArguments(args);\n        // 5\\. \u5904\u7406\u73af\u5883\u53c2\u6570\n        ConfigurableEnvironment environment \n                = prepareEnvironment(listeners, applicationArguments);\n        // 6\\. \u5982\u679c\u6709\u914d\u7f6e spring.beaninfo.ignore\uff0c\u5219\u5c06\u8be5\u914d\u7f6e\u8bbe\u7f6e\u8fdb\u7cfb\u7edf\u53c2\u6570\n        configureIgnoreBeanInfo(environment);\n        // 7\\. \u8f93\u51fabanner\n        Banner printedBanner = printBanner(environment);\n        // 8\\. \u521b\u5efaapplicationContext\n        context = createApplicationContext();\n        // \u542f\u52a8\u9519\u8bef\u62a5\u544a\u7684\u81ea\u5b9a\u4e49\u56de\u8c03\u63a5\u53e3\n        exceptionReporters = getSpringFactoriesInstances(SpringBootExceptionReporter.class,\n                new Class[] { ConfigurableApplicationContext.class }, context);\n        // 9\\. \u51c6\u5907\u4e0a\u4e0b\u6587\uff0c\u8bbe\u7f6e\u4e86\u4e00\u7cfb\u5217\u7684\u5c5e\u6027\u503c\n        prepareContext(context, environment, listeners, applicationArguments, printedBanner);\n        // 10\\. \u8c03\u7528 AbstractApplicationContext.refresh\uff0c\u542f\u52a8spring\u5bb9\u5668\n        refreshContext(context);\n        // 11\\. \u5237\u65b0\u540e\u7684\u5904\u7406\n        afterRefresh(context, applicationArguments);\n        stopWatch.stop();\n        if (this.logStartupInfo) {\n            new StartupInfoLogger(this.mainApplicationClass)\n                .logStarted(getApplicationLog(), stopWatch);\n        }\n        // 12\\. \u53d1\u5e03\u4e8b\u4ef6\n        listeners.started(context);\n        // 13\\. \u8c03\u7528 runner\uff0c\u5b9e\u73b0\u4e86 ApplicationRunner\u6216CommandLineRunner \u7684\u63a5\u53e3\n        callRunners(context, applicationArguments);\n    }\n    catch (Throwable ex) {\n        handleRunFailure(context, ex, exceptionReporters, listeners);\n        throw new IllegalStateException(ex);\n    }\n    try {\n        // 14\\. \u53d1\u5e03\u4e8b\u4ef6\n        listeners.running(context);\n    }\n    catch (Throwable ex) {\n        handleRunFailure(context, ex, exceptionReporters, null);\n        throw new IllegalStateException(ex);\n    }\n    return context;\n}\n\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u6574\u4e2a\u542f\u52a8\u6d41\u7a0b\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://oscimg.oschina.net/oscnet/up-07a6b491fbe69b8dcbd41e59a8543f06671.png",alt:""})}),"\n",(0,i.jsx)(e.p,{children:"\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u91cd\u70b9\u5206\u6790\u8fd9 13 \u4e2a\u542f\u52a8\u6d41\u7a0b\u3002"}),"\n",(0,i.jsxs)(e.h3,{id:"31stopwatch\u521b\u5efa\u8ba1\u65f6\u5668\u5e76\u542f\u52a8",children:["3.1",(0,i.jsx)(e.code,{children:"stopWatch"}),"\uff1a\u521b\u5efa\u8ba1\u65f6\u5668\u5e76\u542f\u52a8"]}),"\n",(0,i.jsxs)(e.p,{children:["\u4e00\u5f00\u59cb\uff0cspringboot \u5c31\u521b\u5efa\u4e86",(0,i.jsx)(e.code,{children:"stopWatch"}),"\u5b9e\u4f8b\uff0c\u7136\u540e\u8c03\u7528",(0,i.jsx)(e.code,{children:"StopWatch#start()"}),"\u542f\u52a8\u8ba1\u65f6\u529f\u80fd\uff0c\u5173\u4e8e\u8fd9\u4e2a\u7c7b\u6ca1\u5565\u597d\u8bf4\u7684\uff0c\u5b83\u5c31\u662f\u4e2a\u8ba1\u65f6\u5668\uff0c\u8fd9\u91cc\u662f\u7528\u6765\u8ba1\u7b97 springboot \u542f\u52a8\u8017\u65f6\uff0c\u4ee5\u4e0b\u65e5\u5fd7\u4e2d\u7684\u65f6\u95f4\u5c31\u662f\u7531\u8fd9\u4e2a\u8ba1\u65f6\u5668\u5f97\u5230\u7684\uff1a"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://oscimg.oschina.net/oscnet/up-70a9e95e6c1208288334341bdb54bd59c17.png",alt:""})}),"\n",(0,i.jsxs)(e.h3,{id:"32-\u8bbe\u7f6ejavaawtheadless\u5c5e\u6027\u503c",children:["3.2 \u8bbe\u7f6e",(0,i.jsx)(e.code,{children:"java.awt.headless"}),"\u5c5e\u6027\u503c"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"SpringApplication#configureHeadlessProperty"}),"\u65b9\u6cd5\u7684\u76f8\u5173\u4ee3\u7801\u5982\u4e0b\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'public class SpringApplication {\n\n    private static final String SYSTEM_PROPERTY_JAVA_AWT_HEADLESS = "java.awt.headless";\n\n    ...\n\n    private boolean headless = true;\n\n    public void setHeadless(boolean headless) {\n        this.headless = headless;\n    }\n    ...\n\n    private void configureHeadlessProperty() {\n        // \u5c06 java.awt.headless \u7684\u503c\u914d\u7f6e\u5230\u7cfb\u7edf\u53d8\u91cf\n        System.setProperty(SYSTEM_PROPERTY_JAVA_AWT_HEADLESS,\n                System.getProperty(SYSTEM_PROPERTY_JAVA_AWT_HEADLESS, \n                Boolean.toString(this.headless)));\n    }\n    ...\n}\n\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\u8fd9\u4e2a\u65b9\u6cd5\u4ec5\u4ec5\u662f\u5c06",(0,i.jsx)(e.code,{children:"java.awt.headless"}),"\u7684\u503c\u8bbe\u7f6e\u5230\u4e86\u7cfb\u7edf\u53d8\u91cf\uff0c\u8bbe\u7f6e\u6210",(0,i.jsx)(e.code,{children:"true"}),"\uff0c\u8868\u793a\u542f\u52a8",(0,i.jsx)(e.code,{children:"java.awt.headless"}),"\u6a21\u5f0f\u3002\u90a3\u4e48\u5b83\u662f\u4e2a\u5565\u6a21\u5f0f\u5462\uff1f\u7b80\u5355\u6765\u8bf4\uff0c\u8be5\u6a21\u5f0f\u5c31\u662f\u7cfb\u7edf\u7f3a\u5c11\u4e86\u663e\u793a\u8bbe\u5907\u3001\u952e\u76d8\u6216\u9f20\u6807\u7b49\u60c5\u51b5\u7684\u6a21\u5f0f\uff0c\u670d\u52a1\u5668\u4e00\u822c\u90fd\u662f\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5de5\u4f5c\u7684\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"33-\u83b7\u53d6\u8fd0\u884c\u76d1\u542c\u5668",children:"3.3 \u83b7\u53d6\u8fd0\u884c\u76d1\u542c\u5668"}),"\n",(0,i.jsx)(e.p,{children:"\u7ee7\u7eed\uff0c\u8fd9\u4e00\u6b65\u662f\u83b7\u53d6\u8fd0\u884c\u76d1\u542c\u5668\uff0c\u53ef\u4ee5\u76d1\u542c\u8fd0\u884c\u671f\u95f4\u7684\u4e00\u4e9b\u72b6\u6001\uff0c\u770b\u4ee3\u7801\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"// \u83b7\u53d6\u76d1\u542c\u5668\uff0c\u4e5f\u662f\u4ece META-INF/spring.factories \u4e2d\u83b7\u53d6\nSpringApplicationRunListeners listeners = getRunListeners(args);\n\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u8fdb\u5165",(0,i.jsx)(e.code,{children:"SpringApplication#getRunListeners"}),"\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"public class SpringApplication {\n    ...\n\n    private SpringApplicationRunListeners getRunListeners(String[] args) {\n        Class<?>[] types = new Class<?>[] { SpringApplication.class, String[].class };\n        return new SpringApplicationRunListeners(logger,\n                // \u4f9d\u7136\u662f\u4eceMETA-INF/spring.factories \u4e2d\u83b7\u53d6\uff0ckey \u662f SpringApplicationRunListener\n                getSpringFactoriesInstances(SpringApplicationRunListener.class, types, this, args));\n    }\n    ...\n}\n\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u53ef\u4ee5\u770b\u5230\uff0c",(0,i.jsx)(e.code,{children:"SpringApplicationRunListener"}),"\u4f9d\u7136\u662f\u4ece",(0,i.jsx)(e.code,{children:"META-INF/spring.factories"}),"\u4e2d\u83b7\u53d6\uff0c\u90a3",(0,i.jsx)(e.code,{children:"SpringApplicationRunListener"}),"\u662f\u4e2a\u5565\u5462\uff1f\u6211\u4eec\u6765\u770b\u4ee3\u7801\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"public interface SpringApplicationRunListener {\n\n    /**\n     * \u9996\u6b21\u542f\u52a8run\u65b9\u6cd5\u65f6\u7acb\u5373\u8c03\u7528\u3002\u53ef\u7528\u4e8e\u975e\u5e38\u65e9\u671f\u7684\u521d\u59cb\u5316\u3002\n     */\n    default void starting() {\n    }\n\n    /**\n     * \u51c6\u5907\u597d\u73af\u5883\uff08Environment\u6784\u5efa\u5b8c\u6210\uff09\uff0c\u4f46\u5728\u521b\u5efaApplicationContext\u4e4b\u524d\u8c03\u7528\u3002\n     */\n    default void environmentPrepared(ConfigurableEnvironment environment) {\n    }\n\n    /**\n     * \u5728\u521b\u5efa\u548c\u6784\u5efaApplicationContext\u4e4b\u540e\uff0c\u4f46\u5728\u52a0\u8f7d\u4e4b\u524d\u8c03\u7528\u3002\n     */\n    default void contextPrepared(ConfigurableApplicationContext context) {\n    }\n\n    /**\n     * ApplicationContext\u5df2\u52a0\u8f7d\u4f46\u5728\u5237\u65b0\u4e4b\u524d\u8c03\u7528\u3002\n     */\n    default void contextLoaded(ConfigurableApplicationContext context) {\n    }\n\n    /**\n     * ApplicationContext\u5df2\u5237\u65b0\uff0c\u5e94\u7528\u7a0b\u5e8f\u5df2\u542f\u52a8\uff0c\n     * \u4f46\u5c1a\u672a\u8c03\u7528CommandLineRunners\u548cApplicationRunners\u3002\n     */\n    default void started(ConfigurableApplicationContext context) {\n    }\n\n    /**\n     * \u5728\u8fd0\u884c\u65b9\u6cd5\u5f7b\u5e95\u5b8c\u6210\u4e4b\u524d\u7acb\u5373\u8c03\u7528\uff0c\n     * \u5237\u65b0ApplicationContext\u5e76\u8c03\u7528\u6240\u6709CommandLineRunners\u548cApplicationRunner\u3002\n     */\n    default void running(ConfigurableApplicationContext context) {\n    }\n\n    /**\n     * \u5728\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\u65f6\u5931\u8d25\u65f6\u8c03\u7528\u3002\n     */\n    default void failed(ConfigurableApplicationContext context, Throwable exception) {\n    }\n}\n\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"SpringApplicationRunListener"}),"\u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u7684\u65b9\u6cd5\u6765\u76d1\u542c springboot \u7684\u542f\u52a8\u8fc7\u7a0b\uff0c\u65b9\u6cd5\u7684\u8bf4\u660e\u5df2\u7ecf\u5728\u6587\u6863\u4e2d\u6709\u8be6\u7ec6\u5b9a\u4e49\uff0c\u5982\u679c\u6211\u4eec\u9700\u8981\u5728 springboot \u7684\u542f\u52a8\u4e2d\u7684\u67d0\u4e2a\u8fc7\u7a0b\u505a\u4e00\u4e9b\u4e8b\u60c5\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0",(0,i.jsx)(e.code,{children:"SpringApplicationRunListener"}),"\u7136\u540e\u91cd\u5199\u5bf9\u5e94\u7684\u65b9\u6cd5\u3002"]}),"\n",(0,i.jsx)(e.p,{children:"\u901a\u8fc7\u8c03\u8bd5\uff0c\u53d1\u73b0 springboot \u83b7\u5f97\u7684\u8fd0\u884c\u76d1\u542c\u5668\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://oscimg.oschina.net/oscnet/up-3ed62d827b3bf1989af74f9c4db1fc0b9ce.png",alt:""})}),"\n",(0,i.jsxs)(e.h3,{id:"34-\u8fd0\u884c\u76d1\u542c\u5668\u65b9\u6cd5listenersstarting",children:["3.4 \u8fd0\u884c\u76d1\u542c\u5668\u65b9\u6cd5\uff1a",(0,i.jsx)(e.code,{children:"listeners.starting()"})]}),"\n",(0,i.jsxs)(e.p,{children:["\u56de\u5230",(0,i.jsx)(e.code,{children:"SpringApplication#run(java.lang.String...)"}),"\uff0c\u83b7\u53d6\u5230\u8fd0\u884c\u76d1\u542c\u5668\u540e\uff0c\u4f1a\u7acb\u5373\u8c03\u7528",(0,i.jsx)(e.code,{children:"starting()"}),"\u65b9\u6cd5\u6765\u53d1\u5e03\u542f\u52a8\u4e8b\u4ef6\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"// \u83b7\u53d6\u76d1\u542c\u5668\nSpringApplicationRunListeners listeners = getRunListeners(args);\n// starting()\uff1a\u9996\u6b21\u542f\u52a8run\u65b9\u6cd5\u65f6\u7acb\u5373\u8c03\u7528\u3002\u53ef\u7528\u4e8e\u975e\u5e38\u65e9\u671f\u7684\u521d\u59cb\u5316\uff08\u51c6\u5907\u8fd0\u884c\u65f6\u73af\u5883\u4e4b\u524d\uff09\u3002\nlisteners.starting();\n\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u8fdb\u5165",(0,i.jsx)(e.code,{children:"SpringApplicationRunListeners#starting"}),"\u65b9\u6cd5\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"void starting() {\n    for (SpringApplicationRunListener listener : this.listeners) {\n        listener.starting();\n    }\n}\n\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u53ef\u4ee5\u770b\u5230\uff0c\u6240\u8c13\u7684\u53d1\u5e03\u4e8b\u4ef6\uff0c\u5c31\u662f\u904d\u5386\u6240\u6709\u7684\u76d1\u542c\u5668\uff0c\u9010\u4e00\u8c03\u7528\u5176",(0,i.jsx)(e.code,{children:"starting()"}),"\u7f62\u4e86\uff0c",(0,i.jsx)(e.code,{children:"this.listeners"}),"\u5c31\u662f\u4e0a\u9762\u83b7\u53d6\u5230\u7684\u6240\u6709\u7684\u8fd0\u884c\u76d1\u542c\u5668\u3002\u4e0d\u4ec5\u5982\u6b64\uff0c",(0,i.jsx)(e.code,{children:"SpringApplicationRunListener"}),"\u7684\u5176\u4ed6\u65b9\u6cd5\u5982",(0,i.jsx)(e.code,{children:"environmentPrepared(...)"}),"\u3001",(0,i.jsx)(e.code,{children:"contextPrepared(...)"}),"\u7b49\u90fd\u662f\u8fd9\u6837\u7684\u8c03\u7528\u5957\u8def\uff0c\u540e\u9762\u770b\u5230\u4e86\u5c31\u4e0d\u91cd\u590d\u5206\u6790\u4e86\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"35-\u51c6\u5907\u8fd0\u884c\u65f6\u73af\u5883",children:"3.5 \u51c6\u5907\u8fd0\u884c\u65f6\u73af\u5883"}),"\n",(0,i.jsx)(e.p,{children:"\u63a5\u4e0b\u6211\u4eec\u6765\u770b\u770b\u73af\u5883\u53c2\u6570\u7684\u5904\u7406\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"// \u5c01\u88c5\u4f20\u5165\u7684\u53c2\u6570\nApplicationArguments applicationArguments = new DefaultApplicationArguments(args);\n// \u5904\u7406\u73af\u5883\u53c2\u6570\nConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments);\n\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u8fdb\u5165",(0,i.jsx)(e.code,{children:"SpringApplication#prepareEnvironment"}),"\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"private ConfigurableEnvironment prepareEnvironment(SpringApplicationRunListeners listeners,\n        ApplicationArguments applicationArguments) {\n    // \u83b7\u53d6\u73af\u5883\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\n    ConfigurableEnvironment environment = getOrCreateEnvironment();\n    // \u914d\u7f6e\u8fd0\u884c\u65f6\u73af\u5883\n    configureEnvironment(environment, applicationArguments.getSourceArgs());\n    ConfigurationPropertySources.attach(environment);\n    //  SpringApplicationRunListener \u7684 environmentPrepared \u65b9\u6cd5\n    // \uff08Environment\u6784\u5efa\u5b8c\u6210\uff0c\u4f46\u5728\u521b\u5efaApplicationContext\u4e4b\u524d\uff09\n    listeners.environmentPrepared(environment);\n    // \u73af\u5883\u4e0e\u5e94\u7528\u7ed1\u5b9a\n    bindToSpringApplication(environment);\n    if (!this.isCustomEnvironment) {\n        environment = new EnvironmentConverter(getClassLoader())\n                .convertEnvironmentIfNecessary(environment, deduceEnvironmentClass());\n    }\n    ConfigurationPropertySources.attach(environment);\n    return environment;\n}\n\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u53ef\u4ee5\u770b\u5230\u5404\u79cd\u73af\u5883\u51c6\u5907\uff0c\u54b1\u4eec\u6311\u91cd\u70b9\u8bb2\u3002"}),"\n",(0,i.jsxs)(e.h4,{id:"1-\u83b7\u53d6\u6216\u521b\u5efaenvironment",children:["1. \u83b7\u53d6\u6216\u521b\u5efa",(0,i.jsx)(e.code,{children:"Environment"})]}),"\n",(0,i.jsxs)(e.p,{children:["\u76f4\u63a5\u8fdb\u5165",(0,i.jsx)(e.code,{children:"SpringApplication#getOrCreateEnvironment"}),"\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"private ConfigurableEnvironment getOrCreateEnvironment() {\n    if (this.environment != null) {\n        return this.environment;\n    }\n    switch (this.webApplicationType) {\n    case SERVLET:\n        return new StandardServletEnvironment();\n    case REACTIVE:\n        return new StandardReactiveWebEnvironment();\n    default:\n        return new StandardEnvironment();\n    }\n}\n\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u4ece\u4ee3\u7801\u6765\u770b\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u6839\u636e\u5e94\u7528\u7c7b\u578b\u6765\u521b\u5efa\u5bf9\u5e94\u7684",(0,i.jsx)(e.code,{children:"Environment"}),"\u5b9e\u4f8b\uff0c\u5f53\u524d\u5e94\u7528\u7c7b\u578b\u662f",(0,i.jsx)(e.code,{children:"SERVLET"}),"\uff0c\u54b1\u4eec\u76f4\u63a5\u770b",(0,i.jsx)(e.code,{children:"StandardServletEnvironment"}),"\u662f\u5982\u4f55\u521b\u5efa\u7684\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u6211\u4eec\u77e5\u9053\uff0c\u5728 java \u4e2d\uff0c\u521b\u5efa\u7c7b\u65f6\uff0c\u4f1a\u5148\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u65b9\u6cd5\uff0c\u8fd9\u91cc\u6211\u4eec\u76f4\u63a5\u8fdb\u5165",(0,i.jsx)(e.code,{children:"AbstractEnvironment"}),"\u6784\u9020\u65b9\u6cd5\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\npublic abstract class AbstractEnvironment implements ConfigurableEnvironment {\n\n    ...\n\n    public AbstractEnvironment() {\n        customizePropertySources(this.propertySources);\n    }\n\n    ...\n}\n\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u53d1\u73b0\u5728",(0,i.jsx)(e.code,{children:"AbstractEnvironment"}),"\u7684\u6784\u9020\u65b9\u6cd5\u4e2d\uff0c\u8c03\u7528\u4e86",(0,i.jsx)(e.code,{children:"customizePropertySources()"}),"\uff0c\u800c\u8fd9\u4e2a\u65b9\u6cd5\u5728",(0,i.jsx)(e.code,{children:"StandardServletEnvironment"}),"\u5b9e\u73b0\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'public class StandardServletEnvironment extends StandardEnvironment \n        implements ConfigurableWebEnvironment {\n    public static final String SERVLET_CONTEXT_PROPERTY_SOURCE_NAME = "servletContextInitParams";\n    public static final String SERVLET_CONFIG_PROPERTY_SOURCE_NAME = "servletConfigInitParams";\n    public static final String JNDI_PROPERTY_SOURCE_NAME = "jndiProperties";\n\n    @Override\n    protected void customizePropertySources(MutablePropertySources propertySources) {\n        // \u6dfb\u52a0 servletConfigInitParams\n        propertySources.addLast(new StubPropertySource(SERVLET_CONFIG_PROPERTY_SOURCE_NAME));\n        // \u6dfb\u52a0 servletContextInitParams\n        propertySources.addLast(new StubPropertySource(SERVLET_CONTEXT_PROPERTY_SOURCE_NAME));\n        if (JndiLocatorDelegate.isDefaultJndiEnvironmentAvailable()) {\n            propertySources.addLast(new JndiPropertySource(JNDI_PROPERTY_SOURCE_NAME));\n        }\n        // \u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5\n        super.customizePropertySources(propertySources);\n    }\n\n    @Override\n    public void initPropertySources(@Nullable ServletContext servletContext, \n            @Nullable ServletConfig servletConfig) {\n        // \u66ff\u6362\u4e0a\u9762\u8bbe\u7f6e\u7684 servletContextInitParams \u4e3a servletContext\n        // \u66ff\u6362\u4e0a\u9762\u8bbe\u7f6e\u7684 servletConfigInitParams \u4e3a servletConfig\n        WebApplicationContextUtils.initServletPropertySources(\n                getPropertySources(), servletContext, servletConfig);\n    }\n\n}\n\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\u53ef\u4ee5\u770b\u5230\uff0c",(0,i.jsx)(e.code,{children:"StandardServletEnvironment"}),"\u7684",(0,i.jsx)(e.code,{children:"customizePropertySources()"}),"\u65b9\u6cd5\u53ea\u662f\u6dfb\u52a0\u4e86\u51e0\u4e2a servlet \u76f8\u5173\u7684\u53c2\u6570\uff0c\u7136\u540e\u5c31\u53bb\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u65b9\u6cd5\u4e86\uff0c\u6211\u4eec\u7ee7\u7eed\u8fdb\u5165",(0,i.jsx)(e.code,{children:"StandardEnvironment"}),"\uff1a"]}),"\n",(0,i.jsx)(e.p,{children:"\u8fd9\u4e2a\u7c7b\u4f3c\u4e4e\u5e76\u6ca1\u6709\u505a\u4ec0\u4e48\uff0c\u6211\u4eec\u7ee7\u7eed\u8ffd\u8e2a\uff0c\u770b\u5b83\u7236\u7c7b\u7684\u6784\u9020\u65b9\u6cd5\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'public class StandardEnvironment extends AbstractEnvironment {\n\n    /** \u7cfb\u7edf\u73af\u5883 */\n    public static final String SYSTEM_ENVIRONMENT_PROPERTY_SOURCE_NAME = "systemEnvironment";\n\n    /** \u7cfb\u7edf\u5c5e\u6027 */\n    public static final String SYSTEM_PROPERTIES_PROPERTY_SOURCE_NAME = "systemProperties";\n\n    @Override\n    protected void customizePropertySources(MutablePropertySources propertySources) {\n        // \u83b7\u53d6\u7cfb\u7edf\u5c5e\u6027\uff0c\u8c03\u7528\u7684\u662f System.getenv()\n        propertySources.addLast(new PropertiesPropertySource(\n                SYSTEM_PROPERTIES_PROPERTY_SOURCE_NAME, getSystemProperties()));\n        // \u83b7\u53d6\u7cfb\u7edf\u73af\u5883\uff0c\u8c03\u7528\u7684\u662f System.getProperties()\n        propertySources.addLast(new SystemEnvironmentPropertySource(\n                SYSTEM_ENVIRONMENT_PROPERTY_SOURCE_NAME, getSystemEnvironment()));\n    }\n\n}\n\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\u53ef\u4ee5\u770b\u5230\uff0c",(0,i.jsx)(e.code,{children:"StandardEnvironment"}),"\u7684",(0,i.jsx)(e.code,{children:"customizePropertySources()"}),"\u65b9\u6cd5\u4e3b\u8981\u662f\u5c06\u7cfb\u7edf\u5c5e\u6027\u4e0e\u7cfb\u7edf\u73af\u5883\u6dfb\u52a0\u5230",(0,i.jsx)(e.code,{children:"Environment"}),"\u4e2d\u3002\u800c\u5b9e\u9645\u4e0a\uff0c",(0,i.jsx)(e.code,{children:"Environment"}),"\u4e2d\u5305\u542b\u4e86\u8bb8\u591a\u7684\u7cfb\u7edf\u4e0e\u73af\u5883\u76f8\u5173\u7684\u53c2\u6570\uff0c\u672c\u8eab\u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e9b",(0,i.jsx)(e.code,{children:"getter"}),"\u65b9\u6cd5\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u83b7\u53d6\u8fd9\u4e9b\u53c2\u6570\uff1a"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://oscimg.oschina.net/oscnet/up-d2d69692db15146f2981db94633e7c575d5.png",alt:""})}),"\n",(0,i.jsxs)(e.p,{children:["\u5230\u8fd9\u91cc\uff0c\u6211\u4eec\u5c31\u660e\u767d\u4e86\uff0c",(0,i.jsx)(e.code,{children:"StandardServletEnvironment"}),"\u4e2d\u5305\u542b\u4e86\u5982\u4e0b\u5185\u5bb9\uff1a"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u7cfb\u7edf\u5c5e\u6027\uff0c\u6211\u4eec\u5e73\u65f6\u8c03\u7528",(0,i.jsx)(e.code,{children:"System.getenv()"}),"\u5f97\u5230\u7684\u53c2\u6570\uff1b"]}),"\n",(0,i.jsxs)(e.li,{children:["\u7cfb\u7edf\u73af\u5883\uff0c\u6211\u4eec\u5e73\u65f6\u8c03\u7528",(0,i.jsx)(e.code,{children:"System.getProperties()"}),"\u5f97\u5230\u7684\u53c2\u6570\uff1b"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"servlet"}),"\u7684",(0,i.jsx)(e.code,{children:"servletContext"}),"\u4e0e",(0,i.jsx)(e.code,{children:"servletConfig"}),"."]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"2-\u914d\u7f6e\u73af\u5883",children:"2. \u914d\u7f6e\u73af\u5883"}),"\n",(0,i.jsxs)(e.p,{children:["\u6211\u4eec\u7ee7\u7eed\u5206\u6790\uff0c\u63a5\u7740\u770b\u770b\u914d\u7f6e\u73af\u5883\u7684\u6d41\u7a0b\uff0c\u4e5f\u5c31\u662f",(0,i.jsx)(e.code,{children:"SpringApplication#configureEnvironment"}),"\u65b9\u6cd5\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"protected void configureEnvironment(ConfigurableEnvironment environment, String[] args) {\n    if (this.addConversionService) {\n        // \u6dfb\u52a0\u8f6c\u6362\u5668\uff0c\u5904\u7406\u53c2\u6570\u7c7b\u578b\u8f6c\u6362\uff0c\u5982 String\u8f6cNumber\uff0cInteger\u8f6cEnum\u7b49\n        ConversionService conversionService = ApplicationConversionService.getSharedInstance();\n        environment.setConversionService((ConfigurableConversionService) conversionService);\n    }\n    // \u5c06\u542f\u52a8\u53c2\u6570\u6dfb\u52a0\u5230 environment \u4e2d\n    configurePropertySources(environment, args);\n    // \u5904\u7406 ActiveProfiles \u503c\n    configureProfiles(environment, args);\n}\n\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u8fd9\u4e2a\u65b9\u6cd5\u4ee3\u7801\u4e0d\u591a\uff0c\u5173\u952e\u70b9\u90fd\u5df2\u5728\u4ee3\u7801\u4e2d\u6ce8\u91ca\u6e05\u695a\u4e86\uff0c\u8fd9\u91cc\u9700\u8981\u7a0d\u5fae\u63d0\u4e0b",(0,i.jsx)(e.code,{children:"SpringApplication#configurePropertySources"}),"\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'protected void configurePropertySources(ConfigurableEnvironment environment, String[] args) {\n    MutablePropertySources sources = environment.getPropertySources();\n    // \u8bbe\u7f6e\u9ed8\u8ba4\u5c5e\u6027\uff0c\u5982\u679c\u6307\u5b9a\u4e86\u9ed8\u8ba4\u5c5e\u6027\uff0c\u5c31\u5728\u8fd9\u91cc\u914d\u7f6e\n    if (this.defaultProperties != null && !this.defaultProperties.isEmpty()) {\n        sources.addLast(new MapPropertySource("defaultProperties", this.defaultProperties));\n    }\n    if (this.addCommandLineProperties && args.length > 0) {\n        String name = CommandLinePropertySource.COMMAND_LINE_PROPERTY_SOURCE_NAME;\n        if (sources.contains(name)) {\n            PropertySource<?> source = sources.get(name);\n            CompositePropertySource composite = new CompositePropertySource(name);\n            composite.addPropertySource(\n                    // \u89e3\u6790\u542f\u52a8\u65f6\u4f20\u5165\u7684\u53c2\u6570\n                    new SimpleCommandLinePropertySource("springApplicationCommandLineArgs", args));\n            composite.addPropertySource(source);\n            sources.replace(name, composite);\n        }\n        else {\n            sources.addFirst(new SimpleCommandLinePropertySource(args));\n        }\n    }\n}\n\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\u5728\u8fd9\u4e2a\u65b9\u6cd5\u91cc\u4f1a\u5bf9\u4f20\u5165\u7684\u53c2\u6570\u8fdb\u884c\u89e3\u6790\uff0c\u8fdb\u5165",(0,i.jsx)(e.code,{children:"SimpleCommandLinePropertySource"}),"\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"public class SimpleCommandLinePropertySource \n        extends CommandLinePropertySource<CommandLineArgs> {\n\n    public SimpleCommandLinePropertySource(String... args) {\n        super(new SimpleCommandLineArgsParser().parse(args));\n    }\n    ...\n}\n\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u6700\u7ec8\u89e3\u6790\u7684\u65b9\u6cd5\u662f",(0,i.jsx)(e.code,{children:"SimpleCommandLineArgsParser#parse"}),"\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'public class SimpleCommandLineArgsParser {\n    public CommandLineArgs parse(String... args) {\n        CommandLineArgs commandLineArgs = new CommandLineArgs();\n        for (String arg : args) {\n            if (arg.startsWith("--")) {\n                String optionText = arg.substring(2, arg.length());\n                String optionName;\n                String optionValue = null;\n                if (optionText.contains("=")) {\n                    // -- \u5f00\u5934\u4e14\u5305\u542b = \u7684\u53c2\u6570\uff0c\u4f1a\u88ab\u89e3\u6790\u6210 key/value\n                    optionName = optionText.substring(0, optionText.indexOf(\'=\'));\n                    optionValue = optionText.substring(optionText.indexOf(\'=\')+1, optionText.length());\n                }\n                else {\n                    optionName = optionText;\n                }\n                if (optionName.isEmpty() || (optionValue != null && optionValue.isEmpty())) {\n                    throw new IllegalArgumentException("Invalid argument syntax: " + arg);\n                }\n                commandLineArgs.addOptionArg(optionName, optionValue);\n            }\n            else {\n                commandLineArgs.addNonOptionArg(arg);\n            }\n        }\n        return commandLineArgs;\n    }\n\n    ...\n}\n\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u89e3\u6790\u65b9\u6cd5\u8fd8\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u5c31\u662f\u5b57\u7b26\u4e32\u7684\u5904\u7406\u800c\u5df2\u3002"}),"\n",(0,i.jsx)(e.p,{children:"springboot \u7684\u542f\u52a8\u53c2\u6570\u6709\u5565\u597d\u89e3\u6790\u7684\u5462\uff1f\u5728\u542f\u52a8 spring \u9879\u76ee\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a\u53c2\u6570\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"java -jar xxx.jar --a1=aaa --b1=bbb\n\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u7136\u540e\u6211\u4eec\u5c31\u80fd\u901a\u8fc7",(0,i.jsx)(e.code,{children:'@Value("${a1}")'}),"\u83b7\u53d6\u5230\uff0c\u5173\u952e\u5c31\u662f\u5728\u8fd9\u91cc\uff0c\u53ef\u4ee5\u770b\u5230\uff0cspringboot \u4f1a\u628a\u4f20\u5165\u7684",(0,i.jsx)(e.code,{children:"--a1=aaa"}),"\u3001",(0,i.jsx)(e.code,{children:"--b1=bbb"}),"\u89e3\u6790\u6210",(0,i.jsx)(e.code,{children:"a1/aaa"}),"\u3001",(0,i.jsx)(e.code,{children:"b1/bbb"}),"\u952e\u503c\u5bf9\u7684\u5f62\u5f0f\uff0c\u4fdd\u5b58\u5230",(0,i.jsx)(e.code,{children:"Environment"}),"\uff0c\u540e\u7eed\u8981\u7528\u5230\u65f6\uff0c\u5c31\u53ef\u5f88\u65b9\u4fbf\u5730\u4ece",(0,i.jsx)(e.code,{children:"Environment"}),"\u4e2d\u83b7\u53d6\u4e86\u3002"]}),"\n",(0,i.jsx)(e.p,{children:"\u597d\u4e86\uff0c\u51c6\u5907\u73af\u5883\u7684\u5206\u6790\u5c31\u5230\u8fd9\u91cc\u4e86\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"36-\u914d\u7f6e\u7cfb\u7edf\u53c2\u6570",children:"3.6 \u914d\u7f6e\u7cfb\u7edf\u53c2\u6570"}),"\n",(0,i.jsxs)(e.p,{children:["\u8fd9\u5757\u4e3b\u8981\u662f\u914d\u7f6e\u4e86\u4e00\u4e2a\u53c2\u6570\uff1a",(0,i.jsx)(e.code,{children:"spring.beaninfo.ignore"}),"\uff0c\u7528\u6765\u63a7\u5236\u662f\u5426\u8df3\u8fc7",(0,i.jsx)(e.code,{children:"BeanInfo"}),"\u7c7b\u7684\u641c\u7d22\uff0c",(0,i.jsx)(e.code,{children:"\u5e76\u4e14\u7531\u6e90\u7801\u53ef\u77e5\u9ed8\u8ba4\u503c\u662ftrue"}),"\uff0c\u611f\u89c9\u7528\u7684\u4e0d\u591a\uff0c\u5c31\u4e0d\u5206\u6790\u4e86\u3002"]}),"\n",(0,i.jsxs)(e.h3,{id:"37-\u6253\u5370banner",children:["3.7 \u6253\u5370",(0,i.jsx)(e.code,{children:"banner"})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"banner"}),"\u662f\u5728\u8fd9\u91cc\u6253\u5370\u51fa\u7684\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"Banner printedBanner = printBanner(environment);\n\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u4e5f\u53ef\u4ee5\u81ea\u5df1\u5b9a\u4e49 banner\uff0c\u8fd9\u4e2a\u7f51\u4e0a\u6559\u7a0b\u4e00\u5927\u5806\uff0cdemo \u5c31\u4e0d\u63d0\u4f9b\u4e86\u3002"}),"\n",(0,i.jsxs)(e.p,{children:["\u5173\u4e8e",(0,i.jsx)(e.code,{children:"banner"}),"\uff0c\u4e0e springboot \u7684\u542f\u52a8\u6d41\u7a0b\u5173\u7cfb\u4e0d\u5927\uff0c\u5c31\u4e0d\u5206\u6790\u4e86\uff0c\u5c0f\u4f19\u4f34\u4eec\u53ea\u9700\u4e86\u89e3\u600e\u4e48\u6837\u7528\u5373\u53ef\u3002"]}),"\n",(0,i.jsx)(e.p,{children:"\u597d\u4e86\uff0c\u9650\u4e8e\u7bc7\u5e45\uff0c\u672c\u6587\u5c31\u5230\u8fd9\u91cc\u4e86\uff0c\u4e0b\u7bc7\u6211\u4eec\u7ee7\u7eed\u3002"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://oscimg.oschina.net/oscnet/up-38d3824690292937a6b0cba5b081c8f8fec.png",alt:""})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.em,{children:["\u672c\u6587\u539f\u6587\u94fe\u63a5\uff1a",(0,i.jsx)(e.a,{href:"https://my.oschina.net/funcy/blog/4882417",children:"https://my.oschina.net/funcy/blog/4882417"}),"\uff0c\u9650\u4e8e\u4f5c\u8005\u4e2a\u4eba\u6c34\u5e73\uff0c\u6587\u4e2d\u96be\u514d\u6709\u9519\u8bef\u4e4b\u5904\uff0c\u6b22\u8fce\u6307\u6b63\uff01\u539f\u521b\u4e0d\u6613\uff0c\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002"]})})]})}function d(n={}){const{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},88672:(n,e,r)=>{r.d(e,{Z:()=>c,a:()=>s});var i=r(50959);const t={},o=i.createContext(t);function s(n){const e=i.useContext(o);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:s(n.components),i.createElement(o.Provider,{value:e},n.children)}}}]);