"use strict";(self.webpackChunkcode_note_blog=self.webpackChunkcode_note_blog||[]).push([[4483],{10953:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>p,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>a});var t=r(11527),i=r(88672);const o={},s=void 0,c={id:"Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e94\uff09\uff1a\u5b8c\u6210\u542f\u52a8",title:"SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e94\uff09\uff1a\u5b8c\u6210\u542f\u52a8",description:"\u4e0a\u4e00\u7bc7\u6587\u7ae0\u603b\u7ed3 springboot \u542f\u52a8\u6d41\u7a0b\u5982\u4e0b\uff1a",source:"@site/docs/Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e94\uff09\uff1a\u5b8c\u6210\u542f\u52a8.md",sourceDirName:"Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790",slug:"/Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e94\uff09\uff1a\u5b8c\u6210\u542f\u52a8",permalink:"/code-note-blog/docs/Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e94\uff09\uff1a\u5b8c\u6210\u542f\u52a8",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e94\uff09\uff1a\u5b8c\u6210\u542f\u52a8.md",tags:[],version:"current",frontMatter:{},sidebar:"spring",previous:{title:"SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e09\uff09\uff1a\u51c6\u5907IOC\u5bb9\u5668",permalink:"/code-note-blog/docs/Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e09\uff09\uff1a\u51c6\u5907IOC\u5bb9\u5668"},next:{title:"SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e00\uff09\uff1a\u51c6\u5907SpringApplication",permalink:"/code-note-blog/docs/Spring\u5168\u5bb6\u6876/SpringBoot\u6e90\u7801\u89e3\u6790/SpringBoot\u542f\u52a8\u6d41\u7a0b\uff08\u4e00\uff09\uff1a\u51c6\u5907SpringApplication"}},p={},a=[{value:"3.11 \u5237\u65b0\u540e\u7684\u5904\u7406",id:"311-\u5237\u65b0\u540e\u7684\u5904\u7406",level:3},{value:"3.12 \u53d1\u5e03 <code>started</code> \u4e8b\u4ef6",id:"312-\u53d1\u5e03-started-\u4e8b\u4ef6",level:3},{value:"3.13 \u8fd0\u884c\u5668\u56de\u8c03",id:"313-\u8fd0\u884c\u5668\u56de\u8c03",level:3},{value:"3.14 \u8fd0\u884c\u76d1\u542c\u5668\u65b9\u6cd5\uff1a <code>listeners.running(...)</code>",id:"314-\u8fd0\u884c\u76d1\u542c\u5668\u65b9\u6cd5-listenersrunning",level:3}];function l(n){const e={a:"a",code:"code",em:"em",h3:"h3",hr:"hr",img:"img",p:"p",pre:"pre",...(0,i.a)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.p,{children:"\u4e0a\u4e00\u7bc7\u6587\u7ae0\u603b\u7ed3 springboot \u542f\u52a8\u6d41\u7a0b\u5982\u4e0b\uff1a"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/up-07a6b491fbe69b8dcbd41e59a8543f06671.png",alt:"img"})}),"\n",(0,t.jsx)(e.p,{children:"\u63a5\u4e0a\u6587\uff0c\u6211\u4eec\u7ee7\u7eed\u5206\u6790\u63a5\u4e0b\u6765\u7684\u6b65\u9aa4\u3002"}),"\n",(0,t.jsx)(e.h3,{id:"311-\u5237\u65b0\u540e\u7684\u5904\u7406",children:"3.11 \u5237\u65b0\u540e\u7684\u5904\u7406"}),"\n",(0,t.jsxs)(e.p,{children:["\u5237\u65b0\u540e\u7684\u5904\u7406\u65b9\u6cd5\u4e3a ",(0,t.jsx)(e.code,{children:"SpringApplication#afterRefresh"}),"\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"protected void afterRefresh(ConfigurableApplicationContext context, ApplicationArguments args) {\n}\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u662f\u4e00\u4e2a\u7a7a\u65b9\u6cd5\uff0cspringboot \u63d0\u4f9b\u7684\u6269\u5c55\u3002"}),"\n",(0,t.jsxs)(e.h3,{id:"312-\u53d1\u5e03-started-\u4e8b\u4ef6",children:["3.12 \u53d1\u5e03 ",(0,t.jsx)(e.code,{children:"started"})," \u4e8b\u4ef6"]}),"\n",(0,t.jsxs)(e.p,{children:["\u8be5\u64cd\u4f5c\u7684\u65b9\u6cd5\u4e3a ",(0,t.jsx)(e.code,{children:"listeners.started(context)"}),"\uff0c\u53d1\u5e03\u903b\u8f91\u524d\u9762\u5df2\u7ecf\u5206\u6790\u8fc7\uff0c\u8fd9\u91cc\u5c31\u4e0d\u518d\u5206\u6790\u4e86\u3002"]}),"\n",(0,t.jsx)(e.h3,{id:"313-\u8fd0\u884c\u5668\u56de\u8c03",children:"3.13 \u8fd0\u884c\u5668\u56de\u8c03"}),"\n",(0,t.jsxs)(e.p,{children:["\u5904\u7406\u8fd0\u884c\u5668\u7684\u65b9\u6cd5\u662f ",(0,t.jsx)(e.code,{children:"SpringApplication#callRunners"}),"\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'private void callRunners(ApplicationContext context, ApplicationArguments args) {\n    List<Object> runners = new ArrayList<>();\n    // \u83b7\u53d6\u6240\u6709\u7684 ApplicationRunner \u4e0e CommandLineRunner\n    runners.addAll(context.getBeansOfType(ApplicationRunner.class).values());\n    runners.addAll(context.getBeansOfType(CommandLineRunner.class).values());\n    // \u6392\u5e8f\n    AnnotationAwareOrderComparator.sort(runners);\n    // \u904d\u5386\u8c03\u7528\n    for (Object runner : new LinkedHashSet<>(runners)) {\n        // \u8c03\u7528 ApplicationRunner#run \u65b9\u6cd5\n        if (runner instanceof ApplicationRunner) {\n            callRunner((ApplicationRunner) runner, args);\n        }\n        // \u8c03\u7528 CommandLineRunner#run \u65b9\u6cd5\n        if (runner instanceof CommandLineRunner) {\n            callRunner((CommandLineRunner) runner, args);\n        }\n    }\n}\n\n/**\n * \u8c03\u7528 ApplicationRunner#run \u65b9\u6cd5\n */\nprivate void callRunner(ApplicationRunner runner, ApplicationArguments args) {\n    try {\n        (runner).run(args);\n    }\n    catch (Exception ex) {\n        throw new IllegalStateException("Failed to execute ApplicationRunner", ex);\n    }\n}\n\n/**\n * \u8c03\u7528 CommandLineRunner#run \u65b9\u6cd5\n */\nprivate void callRunner(CommandLineRunner runner, ApplicationArguments args) {\n    try {\n        (runner).run(args.getSourceArgs());\n    }\n    catch (Exception ex) {\n        throw new IllegalStateException("Failed to execute CommandLineRunner", ex);\n    }\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u8868\u793a\uff0cspringboot \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e24\u4e2a\u63a5\u53e3\uff1a",(0,t.jsx)(e.code,{children:"ApplicationRunner"})," \u4e0e ",(0,t.jsx)(e.code,{children:"CommandLineRunner"}),"\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0\u5b83\u6765\u5b8c\u6210\u4e00\u4e9b\u64cd\u4f5c\uff0c\u5e94\u7528\u793a\u4f8b\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'/**\n * ApplicationRunner \u793a\u4f8b\n */\n@Component\npublic class MyApplicationRunner implements ApplicationRunner {\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        System.out.println("MyApplicationRunner: hello world");\n    }\n}\n\n/**\n * CommandLineRunner \u793a\u4f8b\n */\n@Component\npublic class MyCommandLineRunner implements CommandLineRunner {\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println("MyCommandLineRunner: hello world!");\n    }\n}\n'})}),"\n",(0,t.jsxs)(e.h3,{id:"314-\u8fd0\u884c\u76d1\u542c\u5668\u65b9\u6cd5-listenersrunning",children:["3.14 \u8fd0\u884c\u76d1\u542c\u5668\u65b9\u6cd5\uff1a ",(0,t.jsx)(e.code,{children:"listeners.running(...)"})]}),"\n",(0,t.jsxs)(e.p,{children:["\u8fd9\u4e2a\u65b9\u6cd5\u7684\u8fd0\u884c\u540c\u524d\u9762\u5206\u6790\u7684 ",(0,t.jsx)(e.code,{children:"listeners.starting()"})," \u5957\u8def\u4e00\u6837\uff0c\u8fd9\u91cc\u5c31\u4e0d\u5206\u6790\u4e86\u3002"]}),"\n",(0,t.jsx)(e.p,{children:"\u597d\u4e86\uff0c\u672c\u6587\u7684\u5206\u6790\u5c31\u5230\u8fd9\u91cc\u4e86\uff0c\u5173\u4e8e springboot \u7684\u542f\u52a8\u6d41\u7a0b\u7684\u5206\u6790\u4e5f\u5230\u8fd9\u91cc\u4e86\u3002"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/up-9b539b547c6004c40d2b6f8bd59481b8e34.png",alt:"img"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsxs)(e.em,{children:["\u672c\u6587\u539f\u6587\u94fe\u63a5\uff1a",(0,t.jsx)(e.a,{href:"https://my.oschina.net/funcy/blog/4906553",children:"https://my.oschina.net/funcy/blog/4906553"})," \uff0c\u9650\u4e8e\u4f5c\u8005\u4e2a\u4eba\u6c34\u5e73\uff0c\u6587\u4e2d\u96be\u514d\u6709\u9519\u8bef\u4e4b\u5904\uff0c\u6b22\u8fce\u6307\u6b63\uff01\u539f\u521b\u4e0d\u6613\uff0c\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002"]})})]})}function d(n={}){const{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(l,{...n})}):l(n)}},88672:(n,e,r)=>{r.d(e,{Z:()=>c,a:()=>s});var t=r(50959);const i={},o=t.createContext(i);function s(n){const e=t.useContext(o);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);