"use strict";(self.webpackChunkcode_note_blog=self.webpackChunkcode_note_blog||[]).push([[58],{76408:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var c=r(11527),t=r(88672);const s={},a=void 0,i={id:"Spring\u5168\u5bb6\u6876/Spring\u6e90\u7801\u5206\u6790/SpringAOP/SpringAop\uff08\u4e94\uff09\uff1acglib\u4ee3\u7406",title:"SpringAop\uff08\u4e94\uff09\uff1acglib\u4ee3\u7406",description:"\ufffd\ufffd\u04bb\u01aa\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd spring \ufffd\ufffd jdK \ufffd\ufffd\u032c\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd spring \ufffd\ufffd cglib \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd",source:"@site/docs/Spring\u5168\u5bb6\u6876/Spring\u6e90\u7801\u5206\u6790/SpringAOP/SpringAop\uff08\u4e94\uff09\uff1acglib\u4ee3\u7406.md",sourceDirName:"Spring\u5168\u5bb6\u6876/Spring\u6e90\u7801\u5206\u6790/SpringAOP",slug:"/Spring\u5168\u5bb6\u6876/Spring\u6e90\u7801\u5206\u6790/SpringAOP/SpringAop\uff08\u4e94\uff09\uff1acglib\u4ee3\u7406",permalink:"/code-note-blog/docs/Spring\u5168\u5bb6\u6876/Spring\u6e90\u7801\u5206\u6790/SpringAOP/SpringAop\uff08\u4e94\uff09\uff1acglib\u4ee3\u7406",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Spring\u5168\u5bb6\u6876/Spring\u6e90\u7801\u5206\u6790/SpringAOP/SpringAop\uff08\u4e94\uff09\uff1acglib\u4ee3\u7406.md",tags:[],version:"current",frontMatter:{},sidebar:"spring",previous:{title:"SpringAop\uff08\u56db\uff09\uff1ajdk\u52a8\u6001\u4ee3\u7406",permalink:"/code-note-blog/docs/Spring\u5168\u5bb6\u6876/Spring\u6e90\u7801\u5206\u6790/SpringAOP/SpringAop\uff08\u56db\uff09\uff1ajdk\u52a8\u6001\u4ee3\u7406"},next:{title:"\u7ed9\u4f60\u4e00\u4efdSpringBoot\u77e5\u8bc6\u6e05\u5355",permalink:"/code-note-blog/docs/Spring\u5168\u5bb6\u6876/SpringBoot/\u7ed9\u4f60\u4e00\u4efdSpringBoot\u77e5\u8bc6\u6e05\u5355"}},o={},l=[{value:"1. cglib \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd",id:"1-cglib-",level:3},{value:"2. cglib \ufffd\ufffd\ufffd\ufffd\u02be\ufffd\ufffd",id:"2-cglib-\u02be",level:3},{value:"3. spring \ufffd\ufffd <code>cglib</code> \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd",id:"3-spring--cglib-",level:3},{value:"4. cglib \ufffd\ufffd\ufffd\u6dfd\ufffd\ufffd\ufffd\ufffd\u05b4\ufffd\ufffd",id:"4-cglib-\u6dfd\u05b4",level:3},{value:"5. \ufffd\u073d\ufffd",id:"5-\u073d",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.a,{href:"https://my.oschina.net/funcy/blog/4696654",title:"\ufffd\ufffd\u04bb\u01aa\ufffd\ufffd\ufffd\ufffd",children:"\ufffd\ufffd\u04bb\u01aa\ufffd\ufffd\ufffd\ufffd"}),"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd spring \ufffd\ufffd jdK \ufffd\ufffd\u032c\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd spring \ufffd\ufffd cglib \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd"]}),"\n",(0,c.jsx)(n.h3,{id:"1-cglib-",children:"1. cglib \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd"}),"\n",(0,c.jsxs)(n.p,{children:["jdk \ufffd\ufffd\u023b\ufffd\u1e69\ufffd\u02f6\ufffd\u032c\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u01f6\ufffd\u032c\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u04bb\ufffd\ufffd\ufffd\ufffd\ufffd\u38fa",(0,c.jsx)(n.strong,{children:"\ufffd\ufffd\ufffd\ufffd\ufffd\xfb\ufffd\ufffd\u02b5\ufffd\u05bd\u04ff\u06a3\ufffd\ufffd\ufffd\ufffd\u07b7\ufffd jdk \ufffd\ufffd\u032c\ufffd\ufffd\ufffd\ufffd"}),"\ufffd\ufffd\u03aa\ufffd\u02fd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u38ecspring \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd cglib \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd"]}),"\n",(0,c.jsxs)(n.p,{children:["cglib \ufffd\u05f2\ufffd\ufffd\u01fb\ufffd\ufffd\ufffd asm \ufffd\u0123\ufffd\u04b2\ufffd\ufffd\ufffd\ufffd\u05b1\ufffd\u04f2\ufffd\ufffd\ufffd\ufffd\u05bd\ufffd\ufffd\ub8ec\ufffd\u0d71\ufffd\u06b6\ufffd asm \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u04bb\ufffd\ufffd\ufffd\u05f0\ufffd\ufffd\u05b1\ufffd\u04f2\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ub8ec\ufffd\ufffd\u04aa\ufffd\ufffd java \u05b8\ufffd\ue862\ufffd\u05bd\ufffd\ufffd\ufffd\ufffd\u013c\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u073d\ufffd\ufffd\u0423\ufffd\ufffd\ufffd\ufffd\u05bd\ufffd\ufffd\ufffd\ufffd\u026c\ufffd\u0476\ufffd\ufffd\ufffd\u04bb\ufffd\u3cbb\ufffd\ufffd\ufffd\ufffd\u05b1\ufffd\u04f2\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd cglib \ufffd\ufffd\u05f0\ufffd\ufffd\ufffd\u05bd\ufffd\ufffd\ufffd\u0132\ufffd\ufffd\ufffd\ufffd\u0371\ufffd\xfc\uda96\udd76\ufffd\ufffd\u02e3\ufffd\ufffd\ufffd\ufffd",(0,c.jsx)(n.strong,{children:"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\xb6\ufffd\ufffd\ufffd\ufffd\ufffd\u02b9\ufffd\ufffd cglib \ufffd\ufffd\u05f0\ufffd\xf5\u0137\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05bd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd"}),"\ufffd\ufffd"]}),"\n",(0,c.jsxs)(n.p,{children:["spring cglib \ufffd\ufffd\ufffd\ufffd\u03bb\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"spring-core"})," \u0123\ufffd\u98fa"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/up-6b64440344221ca08ed8c822b5b22c1d341.png",alt:""})}),"\n",(0,c.jsx)(n.p,{children:"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd asm \ufffd\ufffd cglib \ufffd\ufffd\u02f5\ufffd\ufffd\ufffd\ufffd"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"/**\n * Spring's repackaging of\n * ASM 7.0\n * (with Spring-specific patches; for internal use only).\n *\n * <p>This repackaging technique avoids any potential conflicts with\n * dependencies on ASM at the application level or from third-party\n * libraries and frameworks.\n *\n * <p>As this repackaging happens at the class file level, sources\n * and javadocs are not available here.\n */\n package org.springframework.asm;\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\u05e2\ufffd\ufffd\ufffd\u04bb\ufffd\u48fa",(0,c.jsx)(n.code,{children:"Spring's repackaging of ASM 7.0"}),"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd spring \ufffd\ufffd ",(0,c.jsx)(n.code,{children:"asm7.0"})," \ufffd\ufffd\ufffd\xb4\ufffd\ufffd."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"/**\n * Spring's repackaging of\n * CGLIB 3.3\n * (with Spring-specific patches; for internal use only).\n *\n * <p>This repackaging technique avoids any potential conflicts with\n * dependencies on CGLIB at the application level or from third-party\n * libraries and frameworks.\n *\n * <p>As this repackaging happens at the class file level, sources\n * and javadocs are not available here.\n */\npackage org.springframework.cglib;\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\u05e2\ufffd\ufffd\ufffd\u04bb\ufffd\u48fa",(0,c.jsx)(n.code,{children:"Spring's repackaging of CGLIB 3.3"}),"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd spring \ufffd\ufffd ",(0,c.jsx)(n.code,{children:"CGLIB 3.3"})," \ufffd\ufffd\ufffd\xb4\ufffd\ufffd."]}),"\n",(0,c.jsxs)(n.p,{children:["\ufffd\ufffd\u03bd\ufffd\ufffd\ufffd\xb4\ufffd\ufffd\ufffd\u0623\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u28ec\ufffd\ufffd\ufffd\u01fd\ufffd ",(0,c.jsx)(n.code,{children:"asm7.0"})," \ufffd\ufffd ",(0,c.jsx)(n.code,{children:"CGLIB 3.3"})," \ufffd\ufffd\u0534\ufffd\ufffd\u0138\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u01b5\ufffd spring \ufffd\ufffd\u013f\ufffd\xa1\ufffd\ufffd\ufffd\ufffd spring \ufffd\ufffd\xfb\ufffd\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"gradle"})," \ufffd\u013c\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"asm"})," \ufffd\ufffd ",(0,c.jsx)(n.code,{children:"cglib"})," \ufffd\ufffd\ufffd\u0d71 jar \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u013f\ufffd\ufffd\u05b1\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u013f\ufffd\ufffd\u0534\ufffd\ub8e1"]}),"\n",(0,c.jsx)(n.h3,{id:"2-cglib-\u02be",children:"2. cglib \ufffd\ufffd\ufffd\ufffd\u02be\ufffd\ufffd"}),"\n",(0,c.jsx)(n.p,{children:"\ufffd\ufffd\ufffd\ufffd\u02bd\ufffd\ufffd\u02bc\u05ae\u01f0\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd cglib \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u03bd\ufffd\ufffd\u0435\u0121\ufffd"}),"\n",(0,c.jsx)(n.p,{children:"\ufffd\ufffd\ufffd\ufffd\u05fc\ufffd\ufffd\u04bb\ufffd\ufffd\ufffd\u08fa"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:'package org.springframework.learn.demo04;\n\npublic class CglibProxyService {\n    public void hello01() {\n        System.out.println("hello01");\n    }\n}\n\n'})}),"\n",(0,c.jsxs)(n.p,{children:["\ufffd\ufffd\u05fc\ufffd\ufffd\u04bb\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"MethodInterceptor"}),"\ufffd\ufffd\ufffd\ufffd\ufffd jdk \ufffd\ufffd\u032c\ufffd\ufffd\ufffd\ufffd\ufffd\u0435\ufffd ",(0,c.jsx)(n.code,{children:"InvocationHandler"}),"\ufffd\ufffd\ufffd\ufffd"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:'package org.springframework.learn.demo04;\n\nimport org.springframework.cglib.proxy.MethodInterceptor;\nimport org.springframework.cglib.proxy.MethodProxy;\n\nimport java.lang.reflect.Method;\n\npublic class MyMethodInterceptor implements MethodInterceptor {\n\n    /** \u013f\ufffd\ufffd\ufffd\ufffd\ufffd */\n    private Object target;\n\n    public MyMethodInterceptor(Object target){\n        this.target = target;\n    }\n\n    @Override\n    public Object intercept(Object proxyObj, Method method, Object[] objects, \n                MethodProxy proxy) throws Throwable {\n        System.out.println("\u05b4\ufffd\u0437\ufffd\ufffd\ufffd\u03aa:" + method.getName());\n        return proxy.invoke(target, objects);\n    }\n}\n\n'})}),"\n",(0,c.jsx)(n.p,{children:"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u08fa"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"package org.springframework.learn.demo04;\n\nimport org.springframework.cglib.proxy.Enhancer;\n\n/**\n * \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n *\n * @author fangchengyan\n * @date 2020-11-01 9:23 \ufffd\ufffd\ufffd\ufffd\n */\npublic class Demo04Main {\n\n    public static void main(String[] args) {\n        CglibProxyService target = new CglibProxyService();\n        MyMethodInterceptor interceptor = new MyMethodInterceptor(target);\n\n        Enhancer enhancer = new Enhancer();\n        // \ufffd\ufffd\ufffd\xf8\ufffd\ufffd\ufffd\n        enhancer.setSuperclass(CglibProxyService.class);\n        // \ufffd\ufffd\ufffd\ufffdcallback\ufffd\ufffd\ufffd\ufffd\ufffdcallback\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u1e69\ufffd\ufffd MyMethodInterceptor\n        enhancer.setCallback(interceptor);\n        // \u02b9\ufffd\ufffd enhancer \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n        CglibProxyService proxy = (CglibProxyService)enhancer.create();\n        proxy.hello01();\n    }\n}\n\n"})}),"\n",(0,c.jsx)(n.p,{children:"\ufffd\ufffd\ufffd\u0423\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\xa3\ufffd"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"\u05b4\ufffd\u0437\ufffd\ufffd\ufffd\u03aa:hello01\nhello01\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\ufffd\ufffd\ufffd\u053f\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"MyMethodInterceptor#intercept"})," \u05b4\ufffd\ufffd\u013f\ufffd\ufffd\ufffd\ufffd\ufffd\u0137\ufffd\ufffd\ufffd\ufffd\ufffd"]}),"\n",(0,c.jsx)(n.p,{children:"\u036c jdk \ufffd\ufffd\u032c\ufffd\ufffd\ufffd\ufffd\ufffd\u023d\u03fa\udb4e\udf37\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u07f4\ufffd\ufffd\ufffd\u07f6\ufffd\ufffd\ufffd\ufffd\u01a3\ufffd"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"InvocationHandler"})," \ufffd\ufffd ",(0,c.jsx)(n.code,{children:"InvocationHandler"}),"\ufffd\ufffd\ufffd\ufffd\ufffd\u07f4\ufffd\ufffd\ufffd\ufffd\ufffd\u02bd\ufffd\ufffd\ufffd\ufffd\u04bb\ufffd\ufffd ",(0,c.jsx)(n.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/up-6f3e8213e743554a7a8ffc587b98b1d7d3a.png",alt:""})]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0134\ufffd\ufffd\ufffd\ufffd\ufffd\u04bb\ufffd\ufffd\ufffd\ufffd\u02b9\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"Enhangcer"})," \ufffd\ufffd\ufffd\u0434\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\udb93\udd3d\ufffd\ufffd\ufffd\u04bb\ufffd\ufffd\ufffd\ufffd\u02b9\ufffd\xf7\ufffd\u05f0\ufffd\xf5\u0137\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0436\ufffd\ufffd\udb93\udd3d\ufffd\ufffd\ufffd ",(0,c.jsx)(n.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/up-8ee847f9cbb7ec7fa6c35b2ad5a5537ef3a.png",alt:""})]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["\ufffd\u04f4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\udb93\udd3d\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u053f\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"cglib"})," \ufffd\ufffd\ufffd\u0276\ufffd\ufffd\ufffd\u02b1\ufffd\ufffd\ufffd\ufffd\ufffd\xf5\u0132\ufffd\ufffd\ufffd\ufffd\u03f6\u08ec\ufffd\ufffd\ufffd\u073d\u03f7\u1e3b\ufffd\ufffd"]}),"\n",(0,c.jsxs)(n.p,{children:["\ufffd\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"Enhangcer"})," \ufffd\ufffd\ufffd\ufffd\u03b4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u053c\ufffd ",(0,c.jsx)(n.code,{children:"org.springframework.asm"})," \ufffd\ufffd ",(0,c.jsx)(n.code,{children:"org.springframework.cglib"})," \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\xb5\u0134\ufffd\ufffd\ub8ec\ufffd\ufffd\u0429\ufffd\ufffd\ufffd\ufffd cglib \ufffd\ufffd\ufffd\ufffd\ufffd\u0763\ufffd\ufffd\u0372\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u02e1\ufffd"]}),"\n",(0,c.jsxs)(n.h3,{id:"3-spring--cglib-",children:["3. spring \ufffd\ufffd ",(0,c.jsx)(n.code,{children:"cglib"})," \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd"]}),"\n",(0,c.jsx)(n.p,{children:"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd spring \ufffd\ufffd\ufffd\ufffd\u03b4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0123\ufffd"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"CglibAopProxy#getProxy(java.lang.ClassLoader)"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:'public Object getProxy(@Nullable ClassLoader classLoader) {\n    try {\n        Class<?> rootClass = this.advised.getTargetClass();\n        Assert.state(rootClass != null, "...");\n\n        Class<?> proxySuperClass = rootClass;\n        if (rootClass.getName().contains(ClassUtils.CGLIB_CLASS_SEPARATOR)) {\n            proxySuperClass = rootClass.getSuperclass();\n            Class<?>[] additionalInterfaces = rootClass.getInterfaces();\n            for (Class<?> additionalInterface : additionalInterfaces) {\n                this.advised.addInterface(additionalInterface);\n            }\n        }\n\n        // \ufffd\ufffd\u013f\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u043c\ufffd\u98ec\ufffd\ufffd\u04aa\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n        // 1\\. \u013f\ufffd\uadfd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u02b9\ufffd\ufffdfinal\ufffd\ufffd\ufffd\u03a3\ufffd\n        // 2\\. \u013f\ufffd\uadfd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdprivate\ufffd\ufffd\ufffd\u0375\u0123\ufffd\n        // 3\\. \u013f\ufffd\uadfd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u01f0\ufffd\ufffd\ufffd\ufffd\ufffd\u0228\ufffd\u07b5\u0123\ufffd\n        // \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u03ba\ufffd\u04bb\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u01f0\ufffd\ufffd\ufffd\ufffd\ufffd\u0372\ufffd\ufffd\u0731\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u02b1\ufffd\xf7\ufffd\ufffd\ufffd\ufffd\u037b\u1c7b\ufffd\u0539\ufffd\n        validateClassIfNecessary(proxySuperClass, classLoader);\n\n        Enhancer enhancer = createEnhancer();\n        if (classLoader != null) {\n            enhancer.setClassLoader(classLoader);\n            if (classLoader instanceof SmartClassLoader &&\n                    ((SmartClassLoader) classLoader).isClassReloadable(proxySuperClass)) {\n                enhancer.setUseCache(false);\n            }\n        }\n        // Superclass\ufffd\ufffd\ufffd\ufffd\u04aa\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n        enhancer.setSuperclass(proxySuperClass);\n        // \ufffd\ufffd\ufffd\ufffdAopProxyUtils.completeProxiedInterfaces()\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u04aa\u013f\ufffd\ufffd\ufffd\ufffd\u03aa\u04aa\ufffd\ufffd\ufffd\u0275\u0134\ufffd\ufffd\ufffd\ufffd\ufffd\n        // \ufffd\ufffd\ufffd\ufffdSpringProxy\ufffd\ufffdAdvised\ufffd\ufffdDecoratingProxy\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u04aa\u02b5\ufffd\u05b5\u013d\u04ff\u06a1\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u04ff\u06b5\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\xa3\ufffd\n        // 1\\. SpringProxy\ufffd\ufffd\ufffd\ufffd\u04bb\ufffd\ufffd\ufffd\u057d\u04ff\u06a3\ufffd\ufffd\ufffd\ufffd\u06b1\ufffd\u01f5\ufffd\u01f0\ufffd\ufffd\ufffd\u0275\u0134\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdSpring\ufffd\ufffd\ufffd\u0275\u0134\ufffd\ufffd\ufffd\ufffd\u08fb\n        // 2\\. Advised\ufffd\ufffdSpring\ufffd\ufffd\ufffd\u0274\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u02b9\ufffd\xf5\ufffd\ufffd\ufffd\ufffd\u0536\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u06b8\xfd\u04ff\ufffd\ufffd\u0423\ufffd\n        //    \ufffd\ufffd\ufffd\ufffdAdvisor\ufffd\ufffdAdvice\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0523\ufffd\n        // 3\\. DecoratingProxy\ufffd\ufffd\ufffd\xfd\u04ff\ufffd\ufffd\ufffd\ufffd\u06bb\ufffd\u0221\ufffd\ufffd\u01f0\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u013f\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdClass\ufffd\ufffd\ufffd\u0361\ufffd\n        enhancer.setInterfaces(AopProxyUtils.completeProxiedInterfaces(this.advised));\n        enhancer.setNamingPolicy(SpringNamingPolicy.INSTANCE);\n        enhancer.setStrategy(new ClassLoaderAwareGeneratorStrategy(classLoader));\n\n        // \ufffd\ufffd\ufffd\ufffdcallback\n        Callback[] callbacks = getCallbacks(rootClass);\n        Class<?>[] types = new Class<?>[callbacks.length];\n        for (int x = 0; x < types.length; x++) {\n            types[x] = callbacks[x].getClass();\n        }\n        // \ufffd\ufffd\ufffd\xf4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0438\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u04aa\u02b9\ufffd\xf5\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u07fc\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdProxyCallbackFilter.accept()\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n        // \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05b5\ufffd\ufffd\ufffd\ufffd\u04bb\u04bb\ufffd\ufffd\u04e6\ufffd\ufffd\ufffd\ufffdCallback\ufffd\ufffd\ufffd\ufffd\ufffd\u0438\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u07fc\ufffd\ufffd\ufffd\ufffd\xb1\ua8ec\u04b2\ufffd\ufffd\ufffd\ufffd\u02f5\ufffd\ufffd\ufffd\ufffd\ufffdCallbackFilter\n        // \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05b8\ufffd\ufffd\ufffd\u02f4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0438\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u04aa\u02b9\ufffd\ufffdCallback\ufffd\ufffd\ufffd\ufffd\ufffd\u0435\ufffd\ufffd\u0138\ufffd\ufffd\ufffd\ufffd\u013c\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u07fc\ufffd\n        enhancer.setCallbackFilter(new ProxyCallbackFilter( this.advised.getConfigurationOnlyCopy(),\n                this.fixedInterceptorMap, this.fixedInterceptorOffset));\n        enhancer.setCallbackTypes(types);\n\n        // \ufffd\ufffd\ufffd\u0274\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n        return createProxyClassAndInstance(enhancer, callbacks);\n    }\n    catch (...) {\n        ...\n    }\n}\n\n'})}),"\n",(0,c.jsxs)(n.p,{children:["\ufffd\ufffd\ufffd\u03f4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"Enhancer"})," \ufffd\ufffd\ufffd\ufffd\ufffd\u0523\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"classLoader"}),"\ufffd\ufffd",(0,c.jsx)(n.code,{children:"superclass"}),"\ufffd\ufffd",(0,c.jsx)(n.code,{children:"callbackFilter"})," \ufffd\u0223\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"createProxyClassAndInstance(xxx)"})," \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd"]}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"ObjenesisCglibAopProxy#createProxyClassAndInstance"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"protected Object createProxyClassAndInstance(Enhancer enhancer, Callback[] callbacks) {\n    // \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n    Class<?> proxyClass = enhancer.createClass();\n    Object proxyInstance = null;\n\n    // \ufffd\ufffd\ufffd\u0774\ufffd\ufffd\ufffd\ufffd\u08ec\u02b9\ufffd\xf7\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0276\ufffd\ufffd\ufffd\n    if (objenesis.isWorthTrying()) {\n        try {\n            proxyInstance = objenesis.newInstance(proxyClass, enhancer.getUseCache());\n        }\n        catch (Throwable ex) {\n            ...\n        }\n    }\n\n    if (proxyInstance == null) {\n        try {\n            Constructor<?> ctor = (this.constructorArgs != null ?\n                    proxyClass.getDeclaredConstructor(this.constructorArgTypes) :\n                    proxyClass.getDeclaredConstructor());\n            ReflectionUtils.makeAccessible(ctor);\n            proxyInstance = (this.constructorArgs != null ?\n                    ctor.newInstance(this.constructorArgs) : ctor.newInstance());\n        }\n        catch (Throwable ex) {\n            throw new AopConfigException(...);\n        }\n    }\n    // \ufffd\ufffd\ufffd\ufffdcallback\ufffd\ufffd\ufffd\ufffd\n    // \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u02f6\ufffd\ufffd callback \u02b1\ufffd\ufffd\ufffd\ufffd\u0368\ufffd\ufffd CallbackFilter \ufffd\ufffd\u0237\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u02b9\ufffd\ufffd\ufffd\u0138\ufffd callback\n    ((Factory) proxyInstance).setCallbacks(callbacks);\n    return proxyInstance;\n}\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\u0368\ufffd\ufffd\ufffd\u06b5\u06b6\ufffd\ufffd\ufffd\ufffd\u05b5\ufffd ",(0,c.jsx)(n.code,{children:"demo04"})," \ufffd\ufffd\ufffd\ufffd\u05aa\ufffd\ufffd\ufffd\ufffdcglib \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05b4\ufffd\u0423\ufffd\ufffd\u1fad\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"MethodInterceptor#intercept"})," \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\xf5\u0123\ufffd\u04b2\ufffd\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"Enhancer"})," \ufffd\ufffd ",(0,c.jsx)(n.code,{children:"callback"})," \ufffd\ufffd\ufffd\u0523\ufffd\ufffd\ufffd\u02fd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"callback"})," \ufffd\u013b\ufffd\u0221\ufffd\ufffd\ufffd\ufffd\u0634\ufffd\ufffd\ufffd\u03bb\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"CglibAopProxy#getCallbacks"}),"\ufffd\ufffd"]}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"CglibAopProxy#getCallbacks"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"private Callback[] getCallbacks(Class<?> rootClass) throws Exception {\n    boolean exposeProxy = this.advised.isExposeProxy();\n    boolean isFrozen = this.advised.isFrozen();\n    boolean isStatic = this.advised.getTargetSource().isStatic();\n\n    // \ufffd\xfb\ufffd\ufffd\u0536\ufffd\ufffd\ufffd\u0134\ufffd\ufffd\ufffd\ufffd\u07fc\ufffd\ufffd\ufffdcallback\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0423\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd @Before\ufffd\ufffd@Around\ufffd\ufffd@After\ufffd\ufffd\ufffd\ufffd\ufffd\u6dfd\ufffd\ufffd\ufffd\ufffd\n    // \ufffd\ufffd\ufffd\ufffdDynamicAdvisedInterceptor\ufffd\ufffd\ufffd\u0435\ufffd\ufffd\ufffd\n    Callback aopInterceptor = new DynamicAdvisedInterceptor(this.advised);\n\n    Callback targetInterceptor;\n    // \ufffd\u0436\ufffd\ufffd\ufffd\ufffd\u04aa\ufffd\ufffd\xb6\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u01e3\ufffd\ufffd\ufffd\u02b9\ufffd\ufffdAopContext\ufffd\ufffd\ufffd\xfd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\xf5\ufffdThreadLocal\ufffd\ufffd\n    // \ufffd\xfb\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0368\ufffd\ufffdAopContext\ufffd\ufffd\u0221\u013f\ufffd\ufffd\ufffd\ufffd\ufffd\n    if (exposeProxy) {\n        // \ufffd\u0436\u03f1\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0136\ufffd\ufffd\ufffd\ufffd\u01f7\ufffd\ufffd\u01fe\ufffd\u032c\ufffd\u0123\ufffd\ufffd\ufffd\ufffd\ufffd\u01fe\ufffd\u032c\ufffd\u0123\ufffd\ufffd\ufffd\u013f\ufffd\ufffd\ufffd\ufffd\udbaf\udeb4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\xff\ufffd\u03b6\ufffd\u02b9\ufffd\xf8\xf6\ufffd\ufffd\udbb3\udd3f\u0263\ufffd\n        // \ufffd\ufffd\ufffd\u013f\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u01f6\ufffd\u032c\ufffd\u0123\ufffd\ufffd\ufffd\ufffd\ufffdDynamicUnadvisedExposedInterceptor\ufffd\ufffd\xff\ufffd\u03b6\ufffd\ufffd\ufffd\ufffd\ufffd\u04bb\ufffd\ufffd\ufffd\xb5\ufffd\n        // \u013f\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05af\ufffd\ufffd\ufffd\ufffd\ufffd\u0134\ufffd\ufffd\ufffd\ufffd\u07fc\ufffd\n        targetInterceptor = (isStatic ?\n                new StaticUnadvisedExposedInterceptor(this.advised.getTargetSource().getTarget()) :\n                new DynamicUnadvisedExposedInterceptor(this.advised.getTargetSource()));\n    }\n    else {\n        // \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u03a8\u04bb\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u01f7\ufffd\u02b9\ufffd\ufffdAopContext\ufffd\ufffd\xb6\ufffd\ufffd\ufffd\u0275\u0134\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n        targetInterceptor = (isStatic ?\n                new StaticUnadvisedInterceptor(this.advised.getTargetSource().getTarget()) :\n                new DynamicUnadvisedInterceptor(this.advised.getTargetSource()));\n    }\n\n    // \ufffd\ufffd\u01f0Callback\ufffd\ufffd\ufffd\u06b2\ufffd\ufffd\xf1\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0137\ufffd\ufffd\ufffd\n    Callback targetDispatcher = (isStatic ?\n            new StaticDispatcher(this.advised.getTargetSource().getTarget()) : new SerializableNoOp());\n\n    // \ufffd\ufffd\ufffd\ufffd\u0221\ufffd\ufffd\ufffd\ufffdcallback\ufffd\ufffd\u05f0\u03aa\u04bb\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n    Callback[] mainCallbacks = new Callback[] {\n            // \ufffd\xfb\ufffd\ufffd\u053c\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n            aopInterceptor,  // for normal advice\n            // \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u01f7\ufffd\xb6\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n            targetInterceptor,  // invoke target without considering advice, if optimized\n            // \ufffd\ufffd\ufffd\ufffd\ufffd\u03ba\u03b2\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n            new SerializableNoOp(),  // no override for methods mapped to this\n            // \ufffd\ufffd\ufffd\u06b4\u6d22Advised\ufffd\ufffd\ufffd\ufffd\u0137\u05b7\ufffd\ufffd\ufffd\n            targetDispatcher, this.advisedDispatcher,\n            // \ufffd\ufffd\ufffdequals\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\xf5\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n            new EqualsInterceptor(this.advised),\n            // \ufffd\ufffd\ufffdhashcode\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\xf5\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n            new HashCodeInterceptor(this.advised)\n    };\n\n    Callback[] callbacks;\n\n    // \ufffd\ufffd\ufffd\u013f\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u01fe\ufffd\u032c\ufffd\u0123\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u07fc\ufffd\ufffd\u0135\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u01f9\u0336\ufffd\ufffd\u0123\ufffd\ufffd\ufffd\ufffd\u013f\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u043b\ufffd\ufffd\ufffd\n    if (isStatic && isFrozen) {\n        Method[] methods = rootClass.getMethods();\n        Callback[] fixedCallbacks = new Callback[methods.length];\n        this.fixedInterceptorMap = new HashMap<>(methods.length);\n\n        for (int x = 0; x < methods.length; x++) {\n            Method method = methods[x];\n            // \ufffd\ufffd\u0221\u013f\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u07fc\ufffd\n            List<Object> chain = this.advised\n                    .getInterceptorsAndDynamicInterceptionAdvice(method, rootClass);\n            fixedCallbacks[x] = new FixedChainStaticTargetInterceptor(\n                    chain, this.advised.getTargetSource().getTarget(), this.advised.getTargetClass());\n            // \ufffd\u0535\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u043b\ufffd\ufffd\ufffd\n            this.fixedInterceptorMap.put(method, x);\n        }\n\n        // \ufffd\ufffd\ufffd\ufffd\ufffd\u0275\u013e\ufffd\u032c\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdCallback\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n        callbacks = new Callback[mainCallbacks.length + fixedCallbacks.length];\n        System.arraycopy(mainCallbacks, 0, callbacks, 0, mainCallbacks.length);\n        System.arraycopy(fixedCallbacks, 0, callbacks, mainCallbacks.length, fixedCallbacks.length);\n        // \ufffd\ufffd\ufffd\ufffdfixedInterceptorOffset\ufffd\ufffd\xbc\ufffd\u02f5\ufffd\u01f0\ufffd\ufffd\u032c\ufffd\u0135\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u07fc\ufffd\ufffd\ufffd\ufffd\ufffd\u02bc\u03bb\ufffd\xe3\ufffd\n        // \ufffd\ufffd\ufffd\ufffd\ufffd\xbc\ufffd\ufffd\ufffd\xf4\ufffd\ufffd\ufffd\ufffd\u06ba\ufffd\ufffd\ufffd\u02b9\ufffd\ufffdCallbackFilter\ufffd\ufffd\u02b1\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u01fe\ufffd\u032c\ufffd\u0135\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n        // \ufffd\ufffd\u05b1\ufffd\ufffd\u0368\ufffd\ufffd\ufffd\xf2\ufffd\ufffd\ufffd\ufffd\ufffd\u0221\ufffd\ufffd\u04e6\ufffd\u0135\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05b1\ufffd\ufffd\ufffd\u0539\ufffd\ufffd\ufffd\u01f0\ufffd\ufffd\u0136\ufffd\u032c\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n        this.fixedInterceptorOffset = mainCallbacks.length;\n    }\n    else {\n        callbacks = mainCallbacks;\n    }\n    return callbacks;\n}\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\ufffd\ufffd\ufffd\u03f4\ufffd\ufffd\ufffd\u023d\u03f3\ufffd\ufffd\ufffd\ufffd\ufffd\u04aa\ufffd\ufffd\ufffd\xfe\ufffd\ufffd\u01fb\ufffd\u0221 ",(0,c.jsx)(n.code,{children:"callback"}),"\ufffd\ufffd\ufffd\ufffd\u023b spring \ufffd\u1e69\ufffd\ufffd\ufffd\u06b6\ufffd ",(0,c.jsx)(n.code,{children:"callback"}),"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0536\ufffd\ufffd\ufffd\u0368\u05aa\ufffd\ufffd\u0635\ufffd callback \u05bb\ufffd\ufffd\u04bb\ufffd\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"DynamicAdvisedInterceptor"}),"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"callback"})," \ufffd\ufffd ",(0,c.jsx)(n.code,{children:"CglibAopProxy.DynamicAdvisedInterceptor#intercept"})," \ufffd\ufffd\ufffd\ufffd\ufffd\u0423\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u06b4\ufffd\ufffd\ufffd\ufffd\u0435\ufffd\ufffd\u0536\ufffd\u0368\u05aa\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05b4\ufffd\u0435\u0121\ufffd"]}),"\n",(0,c.jsx)(n.p,{children:"\ufffd\ufffd\u04bb\ufffd\ufffd\ufffd\ufffd\ufffd\u01f5\xf5\ufffd cglib \ufffd\u0134\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\udb4e\udf3d\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u6dfd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05b4\ufffd\u0435\u0121\ufffd"}),"\n",(0,c.jsx)(n.h3,{id:"4-cglib-\u6dfd\u05b4",children:"4. cglib \ufffd\ufffd\ufffd\u6dfd\ufffd\ufffd\ufffd\ufffd\u05b4\ufffd\ufffd"}),"\n",(0,c.jsxs)(n.p,{children:["cglib \ufffd\ufffd\ufffd\u6dfd\ufffd\ufffd\ufffd\ufffd\u05b4\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"CglibAopProxy.DynamicAdvisedInterceptor#intercept"})," \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd"]}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.code,{children:"CglibAopProxy.DynamicAdvisedInterceptor#intercept"})}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"public Object intercept(Object proxy, Method method, Object[] args, MethodProxy methodProxy) \n        throws Throwable {\n    Object oldProxy = null;\n    boolean setProxyContext = false;\n    Object target = null;\n    // \u0368\ufffd\ufffdTargetSource\ufffd\ufffd\u0221\u013f\ufffd\ufffd\ufffd\ufffd\ufffd\n    TargetSource targetSource = this.advised.getTargetSource();\n    try {\n        // \ufffd\u0436\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u04aa\ufffd\ufffd\xb6\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\udab6\udef5\ufffd\u01f0\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\xf5\ufffdThreadLocal\ufffd\ufffd\n        if (this.advised.exposeProxy) {\n            oldProxy = AopContext.setCurrentProxy(proxy);\n            setProxyContext = true;\n        }\n        target = targetSource.getTarget();\n        Class<?> targetClass = (target != null ? target.getClass() : null);\n        // \ufffd\ufffd\u0221\u013f\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u07fc\ufffd\ufffd\u0135\ufffd\ufffd\ufffd\ufffd\ufffd\n        List<Object> chain = this.advised\n                .getInterceptorsAndDynamicInterceptionAdvice(method, targetClass);\n        Object retVal;\n        if (chain.isEmpty() && Modifier.isPublic(method.getModifiers())) {\n            Object[] argsToUse = AopProxyUtils.adaptArgumentsIfNecessary(method, args);\n            // \xfb\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05b1\ufffd\u04f5\ufffd\ufffd\ufffd\u013f\ufffd\ufffd\ufffd\ufffd\ufffd\u0137\ufffd\ufffd\ufffd\n            retVal = methodProxy.invoke(target, argsToUse);\n        }\n        else {\n            // \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u88fa\n            // 1\\. \ufffd\ufffd\ufffd\ufffd\u05b4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdnew CglibMethodInvocation()\n            // 2\\. \u05b4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdCglibMethodInvocation#proceed\n            retVal = new CglibMethodInvocation(proxy, target, method, args, \n                    targetClass, chain, methodProxy).proceed();\n        }\n        // \ufffd\u0537\ufffd\ufffd\ufffd\u05b5\ufffd\ufffd\ufffd\u0434\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05b5\ufffd\ufffd\ufffd\u01f5\ufffd\u01f0\u013f\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\xf4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0275\u0134\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\udb9f\udd7b\u0623\ufffd\n        // \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05b5\u03aa\ufffd\u0563\ufffd\ufffd\ufffd\ufffd\u04b7\ufffd\ufffd\ufffd\u05b5\ufffd\ufffd\ufffd\ufffd\ufffd\u01f7\ufffdvoid\ufffd\u013b\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0363\ufffd\ufffd\ufffd\ufffd\u05f3\ufffd\ufffd\ucce3\ufffd\ufffd\n        // \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u03e3\ufffd\ufffd\ufffd\u05b1\ufffd\u04fd\ufffd\ufffd\ufffd\ufffd\u0275\u0137\ufffd\ufffd\ufffd\u05b5\ufffd\ufffd\ufffd\ufffd\n        retVal = processReturnType(proxy, target, method, retVal);\n        return retVal;\n    }\n    finally {\n        if (target != null && !targetSource.isStatic()) {\n            targetSource.releaseTarget(target);\n        }\n        if (setProxyContext) {\n            AopContext.setCurrentProxy(oldProxy);\n        }\n    }\n}\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\ufffd\ufffd\ufffd\ufffd\u05b4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"new CglibMethodInvocation(proxy, target, method, args, targetClass, chain, methodProxy).proceed()"}),"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0225\ufffd\ufffd"]}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"CglibAopProxy.CglibMethodInvocation#proceed"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"public Object proceed() throws Throwable {\n    try {\n        return super.proceed();\n    }\n    catch (...) {\n        ....\n    }\n}\n\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\u05b1\ufffd\u04f5\ufffd\ufffd\xf5\ufffd\ufffd\u01f8\ufffd\ufffd\ufffd\u0137\ufffd\ufffd\ufffd\ufffd\ufffd",(0,c.jsx)(n.code,{children:"CglibAopProxy.CglibMethodInvocation"})," \ufffd\u0138\ufffd\ufffd\ufffd\ufffd\ufffd\u02ed\ufffd\u0623\ufffd\u04bb\ufffd\ufffd\ufffd\ufffd\u0225\ufffd\ufffd\ufffd\ufffd\ufffd\u05be\ufffd\u023b\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"ReflectiveMethodInvocation"}),"\ufffd\ufffd",(0,c.jsx)(n.code,{children:"super.proceed()"})," \ufffd\ufffd\ufffd\xf5\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"ReflectiveMethodInvocation#proceed"}),"\ufffd\ufffd"]}),"\n",(0,c.jsxs)(n.p,{children:["\ufffd\ufffd",(0,c.jsx)(n.a,{href:"https://my.oschina.net/funcy/blog/4696654",title:"\ufffd\ufffd\u04bb \u01aa\ufffd\ufffd\ufffd\ufffd",children:"\ufffd\ufffd\u04bb \u01aa\ufffd\ufffd\ufffd\ufffd"}),"\ufffd\u0423\ufffd\ufffd\ufffd\ufffd\u01fe\ufffd\ufffd\ufffd\u03f8\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"ReflectiveMethodInvocation#proceed"})," \ufffd\u0135\ufffd\ufffd\xf9\ufffd\ufffd\u0323\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u06a3\ufffd\ufffd\ufffd cglib \ufffd\ufffd\ufffd\ufffd\ufffd\uf8ec\ufffd\ufffd\ufffd\ufffd\u05b4\ufffd\u0435\ufffd\u04b2\ufffd\ufffd\u036c\ufffd\ufffd\ufffd\u0134\ufffd\ufffd\ub8ec\ufffd\ufffd\u04bb\ufffd\ufffd\ufffd\u05b4\ufffd\u0439\ufffd\ufffd\u033e\u0372\ufffd\ufffd\u0638\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u02e1\ufffd"]}),"\n",(0,c.jsx)(n.p,{children:"\ufffd\ufffd\ufffd\ufffd\ufffd\u04bb\ufffd\ufffd\u037c\ufffd\ufffd\u02f5\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0368\u05aa\ufffd\ufffd\u05b4\ufffd\u0439\ufffd\ufffd\u0323\ufffd"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/up-1c31c8e6279af4c150df18ebbd345c7f110.png",alt:""})}),"\n",(0,c.jsx)(n.p,{children:"\ufffd\ufffd\ufffd\u0575\ufffd\u05b4\ufffd\ufffd\u02f3\ufffd\ufffd"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/up-a1f3ccebe3b7335eaef88b8a39ca36b9e05.png",alt:""})}),"\n",(0,c.jsx)(n.h3,{id:"5-\u073d",children:"5. \ufffd\u073d\ufffd"}),"\n",(0,c.jsxs)(n.p,{children:["\ufffd\ufffd\ufffd\u0137\ufffd\ufffd\ufffd\ufffd\ufffd cglib \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05b4\ufffd\u0439\ufffd\ufffd\u0323\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05b4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u03bb\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"CglibAopProxy.DynamicAdvisedInterceptor#intercept"}),"\ufffd\ufffd\ufffd\ufffd\ufffd\u0575\ufffd\ufffd\xf5\ufffd\ufffd\ufffd ",(0,c.jsx)(n.code,{children:"ReflectiveMethodInvocation#proceed"}),"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd jdk \ufffd\ufffd\u032c\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05b4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u036c\ufffd\ufffd"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsxs)(n.em,{children:["\ufffd\ufffd\ufffd\ufffd\u052d\ufffd\ufffd\ufffd\ufffd\ufffd\u04e3\ufffd",(0,c.jsx)(n.a,{href:"https://my.oschina.net/funcy/blog/4696655",children:"https://my.oschina.net/funcy/blog/4696655"})," \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u07f8\ufffd\ufffd\ufffd\u02ee\u01bd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0434\ufffd\ufffd\ufffd\u05ae\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u04ed\u05b8\ufffd\ufffd\ufffd\ufffd\u052d\ufffd\ufffd\ufffd\ufffd\ufffd\u05e3\ufffd\ufffd\ufffd\u04b5\u05ea\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u03f5\ufffd\ufffd\ufffd\u07fb\ufffd\ufffd\ufffd\ufffd\u0228\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u04b5\u05ea\ufffd\ufffd\ufffd\ufffd\u05e2\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd"]})})]})}function p(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},88672:(e,n,r)=>{r.d(n,{Z:()=>i,a:()=>a});var c=r(50959);const t={},s=c.createContext(t);function a(e){const n=c.useContext(s);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),c.createElement(s.Provider,{value:n},e.children)}}}]);