"use strict";(self.webpackChunkcode_note_blog=self.webpackChunkcode_note_blog||[]).push([[6577],{51890:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var r=i(11527),t=i(88672);const s={},l=void 0,a={id:"monitor/SpringBoot Admin",title:"SpringBoot Admin",description:"\u6458\u8981",source:"@site/docs/monitor/SpringBoot Admin.md",sourceDirName:"monitor",slug:"/monitor/SpringBoot Admin",permalink:"/code-note-blog/docs/monitor/SpringBoot Admin",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/monitor/SpringBoot Admin.md",tags:[],version:"current",frontMatter:{}},c={},d=[{value:"\u6458\u8981",id:"\u6458\u8981",level:2},{value:"Spring Boot Admin \u7b80\u4ecb",id:"spring-boot-admin-\u7b80\u4ecb",level:2},{value:"\u521b\u5efaadmin-server\u6a21\u5757",id:"\u521b\u5efaadmin-server\u6a21\u5757",level:2},{value:"\u521b\u5efaadmin-client\u6a21\u5757",id:"\u521b\u5efaadmin-client\u6a21\u5757",level:2},{value:"\u76d1\u63a7\u4fe1\u606f\u6f14\u793a",id:"\u76d1\u63a7\u4fe1\u606f\u6f14\u793a",level:2},{value:"\u7ed3\u5408\u6ce8\u518c\u4e2d\u5fc3\u4f7f\u7528",id:"\u7ed3\u5408\u6ce8\u518c\u4e2d\u5fc3\u4f7f\u7528",level:2},{value:"\u4fee\u6539admin-server",id:"\u4fee\u6539admin-server",level:3},{value:"\u4fee\u6539admin-client",id:"\u4fee\u6539admin-client",level:3},{value:"\u529f\u80fd\u6f14\u793a",id:"\u529f\u80fd\u6f14\u793a",level:3},{value:"\u6dfb\u52a0\u767b\u5f55\u8ba4\u8bc1",id:"\u6dfb\u52a0\u767b\u5f55\u8ba4\u8bc1",level:2},{value:"\u521b\u5efaadmin-security-server\u6a21\u5757",id:"\u521b\u5efaadmin-security-server\u6a21\u5757",level:3},{value:"\u4f7f\u7528\u5230\u7684\u6a21\u5757",id:"\u4f7f\u7528\u5230\u7684\u6a21\u5757",level:2}];function o(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"\u6458\u8981",children:"\u6458\u8981"}),"\n",(0,r.jsx)(e.p,{children:"Spring Boot Admin \u53ef\u4ee5\u5bf9SpringBoot\u5e94\u7528\u7684\u5404\u9879\u6307\u6807\u8fdb\u884c\u76d1\u63a7\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u5fae\u670d\u52a1\u67b6\u6784\u4e2d\u7684\u76d1\u63a7\u4e2d\u5fc3\u6765\u4f7f\u7528\uff0c\u672c\u6587\u5c06\u5bf9\u5176\u7528\u6cd5\u8fdb\u884c\u8be6\u7ec6\u4ecb\u7ecd\u3002"}),"\n",(0,r.jsx)(e.h2,{id:"spring-boot-admin-\u7b80\u4ecb",children:"Spring Boot Admin \u7b80\u4ecb"}),"\n",(0,r.jsx)(e.p,{children:"SpringBoot\u5e94\u7528\u53ef\u4ee5\u901a\u8fc7Actuator\u6765\u66b4\u9732\u5e94\u7528\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u7684\u5404\u9879\u6307\u6807\uff0cSpring Boot Admin\u901a\u8fc7\u8fd9\u4e9b\u6307\u6807\u6765\u76d1\u63a7SpringBoot\u5e94\u7528\uff0c\u7136\u540e\u901a\u8fc7\u56fe\u5f62\u5316\u754c\u9762\u5448\u73b0\u51fa\u6765\u3002Spring Boot Admin\u4e0d\u4ec5\u53ef\u4ee5\u76d1\u63a7\u5355\u4f53\u5e94\u7528\uff0c\u8fd8\u53ef\u4ee5\u548cSpring Cloud\u7684\u6ce8\u518c\u4e2d\u5fc3\u76f8\u7ed3\u5408\u6765\u76d1\u63a7\u5fae\u670d\u52a1\u5e94\u7528\u3002"}),"\n",(0,r.jsx)(e.p,{children:"Spring Boot Admin \u53ef\u4ee5\u63d0\u4f9b\u5e94\u7528\u7684\u4ee5\u4e0b\u76d1\u63a7\u4fe1\u606f\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u76d1\u63a7\u5e94\u7528\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u7684\u6982\u89c8\u4fe1\u606f\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u5ea6\u91cf\u6307\u6807\u4fe1\u606f\uff0c\u6bd4\u5982JVM\u3001Tomcat\u53ca\u8fdb\u7a0b\u4fe1\u606f\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u73af\u5883\u53d8\u91cf\u4fe1\u606f\uff0c\u6bd4\u5982\u7cfb\u7edf\u5c5e\u6027\u3001\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u4ee5\u53ca\u5e94\u7528\u914d\u7f6e\u4fe1\u606f\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u67e5\u770b\u6240\u6709\u521b\u5efa\u7684Bean\u4fe1\u606f\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u67e5\u770b\u5e94\u7528\u4e2d\u7684\u6240\u6709\u914d\u7f6e\u4fe1\u606f\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u67e5\u770b\u5e94\u7528\u8fd0\u884c\u65e5\u5fd7\u4fe1\u606f\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u67e5\u770bJVM\u4fe1\u606f\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u67e5\u770b\u53ef\u4ee5\u8bbf\u95ee\u7684Web\u7aef\u70b9\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u67e5\u770bHTTP\u8ddf\u8e2a\u4fe1\u606f\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u521b\u5efaadmin-server\u6a21\u5757",children:"\u521b\u5efaadmin-server\u6a21\u5757"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u8fd9\u91cc\u6211\u4eec\u521b\u5efa\u4e00\u4e2aadmin-server\u6a21\u5757\u6765\u4f5c\u4e3a\u76d1\u63a7\u4e2d\u5fc3\u6f14\u793a\u5176\u529f\u80fd\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728pom.xml\u4e2d\u6dfb\u52a0\u76f8\u5173\u4f9d\u8d56\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"<dependency>\n <groupId>org.springframework.boot</groupId>\n <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n<dependency>\n <groupId>de.codecentric</groupId>\n <artifactId>spring-boot-admin-starter-server</artifactId>\n</dependency>\n\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728application.yml\u4e2d\u8fdb\u884c\u914d\u7f6e\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-spring:",children:" application:\n name: admin-server\nserver:\n port: 9301\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728\u542f\u52a8\u7c7b\u4e0a\u6dfb\u52a0@EnableAdminServer\u6765\u542f\u7528admin-server\u529f\u80fd\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"@EnableAdminServer\n@SpringBootApplication\npublic class AdminServerApplication {\n\n public static void main(String[] args) {\n SpringApplication.run(AdminServerApplication.class, args);\n }\n\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u521b\u5efaadmin-client\u6a21\u5757",children:"\u521b\u5efaadmin-client\u6a21\u5757"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u8fd9\u91cc\u6211\u4eec\u521b\u5efa\u4e00\u4e2aadmin-client\u6a21\u5757\u4f5c\u4e3a\u5ba2\u6237\u7aef\u6ce8\u518c\u5230admin-server\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728pom.xml\u4e2d\u6dfb\u52a0\u76f8\u5173\u4f9d\u8d56\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"<dependency>\n <groupId>org.springframework.boot</groupId>\n <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n<dependency>\n <groupId>de.codecentric</groupId>\n <artifactId>spring-boot-admin-starter-client</artifactId>\n</dependency>\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728application.yml\u4e2d\u8fdb\u884c\u914d\u7f6e\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"spring:\n application:\n name: admin-client\n boot:\n admin:\n client:\n url: http://localhost:9301 #\u914d\u7f6eadmin-server\u5730\u5740\nserver:\n port: 9305\nmanagement:\n endpoints:\n web:\n exposure:\n include: '*'\n endpoint:\n health:\n show-details: always\nlogging:\n file: admin-client.log #\u6dfb\u52a0\u5f00\u542fadmin\u7684\u65e5\u5fd7\u76d1\u63a7\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u542f\u52a8admin-server\u548cadmin-client\u670d\u52a1\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u76d1\u63a7\u4fe1\u606f\u6f14\u793a",children:"\u76d1\u63a7\u4fe1\u606f\u6f14\u793a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u8bbf\u95ee\u5982\u4e0b\u5730\u5740\u6253\u5f00Spring Boot Admin\u7684\u4e3b\u9875\uff1a",(0,r.jsx)(e.a,{href:"https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A9301",title:"http://localhost:9301",children:"http://localhost:9301"})]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/image-20230531001002163.png",alt:"image-20230531001002163"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u70b9\u51fbwallboard\u6309\u94ae\uff0c\u9009\u62e9admin-client\u67e5\u770b\u76d1\u63a7\u4fe1\u606f\uff1b"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u76d1\u63a7\u4fe1\u606f\u6982\u89c8\uff1b"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/image-20230531001023644.png",alt:"image-20230531001023644"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5ea6\u91cf\u6307\u6807\u4fe1\u606f\uff0c\u6bd4\u5982JVM\u3001Tomcat\u53ca\u8fdb\u7a0b\u4fe1\u606f\uff1b"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/image-20230531001053279.png",alt:"image-20230531001053279"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u73af\u5883\u53d8\u91cf\u4fe1\u606f\uff0c\u6bd4\u5982\u7cfb\u7edf\u5c5e\u6027\u3001\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u4ee5\u53ca\u5e94\u7528\u914d\u7f6e\u4fe1\u606f\uff1b"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/image-20230531001103093.png",alt:"image-20230531001103093"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u67e5\u770b\u6240\u6709\u521b\u5efa\u7684Bean\u4fe1\u606f\uff1b"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/image-20230531001111221.png",alt:"image-20230531001111221"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u67e5\u770b\u5e94\u7528\u4e2d\u7684\u6240\u6709\u914d\u7f6e\u4fe1\u606f\uff1b"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/image-20230531001124678.png",alt:"image-20230531001124678"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u67e5\u770b\u65e5\u5fd7\u4fe1\u606f\uff0c\u9700\u8981\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\u624d\u80fd\u5f00\u542f\uff1b"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.code,{children:"logging: file: admin-client.log #\u6dfb\u52a0\u5f00\u542fadmin\u7684\u65e5\u5fd7\u76d1\u63a7"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/image-20230531001136184.png",alt:"image-20230531001136184"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u67e5\u770bJVM\u4fe1\u606f\uff1b"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/image-20230531001144614.png",alt:"image-20230531001144614"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u67e5\u770b\u53ef\u4ee5\u8bbf\u95ee\u7684Web\u7aef\u70b9\uff1b"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/image-20230531001156191.png",alt:"image-20230531001156191"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u67e5\u770bHTTP\u8ddf\u8e2a\u4fe1\u606f\uff1b"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/image-20230531001206364.png",alt:"image-20230531001206364"})}),"\n",(0,r.jsx)(e.h2,{id:"\u7ed3\u5408\u6ce8\u518c\u4e2d\u5fc3\u4f7f\u7528",children:"\u7ed3\u5408\u6ce8\u518c\u4e2d\u5fc3\u4f7f\u7528"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Spring Boot Admin\u7ed3\u5408Spring Cloud \u6ce8\u518c\u4e2d\u5fc3\u4f7f\u7528\uff0c\u53ea\u9700\u5c06admin-server\u548c\u6ce8\u518c\u4e2d\u5fc3\u6574\u5408\u5373\u53ef\uff0cadmin-server \u4f1a\u81ea\u52a8\u4ece\u6ce8\u518c\u4e2d\u5fc3\u83b7\u53d6\u670d\u52a1\u5217\u8868\uff0c\u7136\u540e\u6328\u4e2a\u83b7\u53d6\u76d1\u63a7\u4fe1\u606f\u3002\u8fd9\u91cc\u4ee5Eureka\u6ce8\u518c\u4e2d\u5fc3\u4e3a\u4f8b\u6765\u4ecb\u7ecd\u4e0b\u8be5\u529f\u80fd\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"\u4fee\u6539admin-server",children:"\u4fee\u6539admin-server"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728pom.xml\u4e2d\u6dfb\u52a0\u76f8\u5173\u4f9d\u8d56\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"<dependency>\n <groupId>org.springframework.cloud</groupId>\n <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n</dependency>\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728application-eureka.yml\u4e2d\u8fdb\u884c\u914d\u7f6e\uff0c\u53ea\u9700\u6dfb\u52a0\u6ce8\u518c\u4e2d\u5fc3\u914d\u7f6e\u5373\u53ef\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"spring:\n application:\n name: admin-server\nserver:\n port: 9301\neureka:\n client:\n register-with-eureka: true\n fetch-registry: true\n service-url:\n defaultZone: http://localhost:8001/eureka/\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728\u542f\u52a8\u7c7b\u4e0a\u6dfb\u52a0@EnableDiscoveryClient\u6765\u542f\u7528\u670d\u52a1\u6ce8\u518c\u529f\u80fd\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"`@EnableDiscoveryClient\n@EnableAdminServer\n@SpringBootApplication\npublic class AdminServerApplication {\n\n public static void main(String[] args) {\n SpringApplication.run(AdminServerApplication.class, args);\n }\n\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u4fee\u6539admin-client",children:"\u4fee\u6539admin-client"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728pom.xml\u4e2d\u6dfb\u52a0\u76f8\u5173\u4f9d\u8d56\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"<dependency>\n <groupId>org.springframework.cloud</groupId>\n <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n</dependency>\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728application-eureka.yml\u4e2d\u8fdb\u884c\u914d\u7f6e\uff0c\u5220\u9664\u539f\u6765\u7684admin-server\u5730\u5740\u914d\u7f6e\uff0c\u6dfb\u52a0\u6ce8\u518c\u4e2d\u5fc3\u914d\u7f6e\u5373\u53ef\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"spring:\n application:\n name: admin-client\nserver:\n port: 9305\nmanagement:\n endpoints:\n web:\n exposure:\n include: '*'\n endpoint:\n health:\n show-details: always\nlogging:\n file: admin-client.log #\u6dfb\u52a0\u5f00\u542fadmin\u7684\u65e5\u5fd7\u76d1\u63a7\neureka:\n client:\n register-with-eureka: true\n fetch-registry: true\n service-url:\n defaultZone: http://localhost:8001/eureka/\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728\u542f\u52a8\u7c7b\u4e0a\u6dfb\u52a0@EnableDiscoveryClient\u6765\u542f\u7528\u670d\u52a1\u6ce8\u518c\u529f\u80fd\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"@EnableDiscoveryClient\n@SpringBootApplication\npublic class AdminClientApplication {\n\n public static void main(String[] args) {\n SpringApplication.run(AdminClientApplication.class, args);\n }\n\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u529f\u80fd\u6f14\u793a",children:"\u529f\u80fd\u6f14\u793a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u542f\u52a8eureka-server\uff0c\u4f7f\u7528application-eureka.yml\u914d\u7f6e\u542f\u52a8admin-server\uff0cadmin-client\uff1b"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u67e5\u770b\u6ce8\u518c\u4e2d\u5fc3\u53d1\u73b0\u670d\u52a1\u5747\u5df2\u6ce8\u518c\uff1a",(0,r.jsx)(e.a,{href:"https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8001%2F",title:"http://localhost:8001/",children:"http://localhost:8001/"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/image-20230531001221519.png",alt:"image-20230531001221519"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u67e5\u770bSpring Boot Admin \u4e3b\u9875\u53d1\u73b0\u53ef\u4ee5\u770b\u5230\u670d\u52a1\u4fe1\u606f\uff1a",(0,r.jsx)(e.a,{href:"https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A9301",title:"http://localhost:9301",children:"http://localhost:9301"})]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/image-20230531001232048.png",alt:"image-20230531001232048"})}),"\n",(0,r.jsx)(e.h2,{id:"\u6dfb\u52a0\u767b\u5f55\u8ba4\u8bc1",children:"\u6dfb\u52a0\u767b\u5f55\u8ba4\u8bc1"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u7ed9admin-server\u6dfb\u52a0Spring Security\u652f\u6301\u6765\u83b7\u5f97\u767b\u5f55\u8ba4\u8bc1\u529f\u80fd\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"\u521b\u5efaadmin-security-server\u6a21\u5757",children:"\u521b\u5efaadmin-security-server\u6a21\u5757"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728pom.xml\u4e2d\u6dfb\u52a0\u76f8\u5173\u4f9d\u8d56\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"<dependency>\n <groupId>org.springframework.cloud</groupId>\n <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n</dependency>\n<dependency>\n <groupId>de.codecentric</groupId>\n <artifactId>spring-boot-admin-starter-server</artifactId>\n <version>2.1.5</version>\n</dependency>\n<dependency>\n <groupId>org.springframework.boot</groupId>\n <artifactId>spring-boot-starter-security</artifactId>\n</dependency>\n<dependency>\n <groupId>org.springframework.boot</groupId>\n <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728application.yml\u4e2d\u8fdb\u884c\u914d\u7f6e\uff0c\u914d\u7f6e\u767b\u5f55\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5ffd\u7565admin-security-server\u7684\u76d1\u63a7\u4fe1\u606f\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"spring:\n application:\n name: admin-security-server\n security: # \u914d\u7f6e\u767b\u5f55\u7528\u6237\u540d\u548c\u5bc6\u7801\n user:\n name: macro\n password: 123456\n boot:  # \u4e0d\u663e\u793aadmin-security-server\u7684\u76d1\u63a7\u4fe1\u606f\n admin:\n discovery:\n ignored-services: ${spring.application.name}\nserver:\n port: 9301\neureka:\n client:\n register-with-eureka: true\n fetch-registry: true\n service-url:\n defaultZone: http://localhost:8001/eureka/\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5bf9SpringSecurity\u8fdb\u884c\u914d\u7f6e\uff0c\u4ee5\u4fbfadmin-client\u53ef\u4ee5\u6ce8\u518c\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"scss"}),"\n",(0,r.jsx)(e.p,{children:"\u590d\u5236\u4ee3\u7801"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'/**\n * Created by macro on 2019/9/30.\n */\n@Configuration\npublic class SecuritySecureConfig extends WebSecurityConfigurerAdapter {\n private final String adminContextPath;\n\n public SecuritySecureConfig(AdminServerProperties adminServerProperties) {\n this.adminContextPath = adminServerProperties.getContextPath();\n }\n\n @Override\n protected void configure(HttpSecurity http) throws Exception {\n SavedRequestAwareAuthenticationSuccessHandler successHandler = new SavedRequestAwareAuthenticationSuccessHandler();\n successHandler.setTargetUrlParameter("redirectTo");\n successHandler.setDefaultTargetUrl(adminContextPath + "/");\n\n http.authorizeRequests()\n //1.\u914d\u7f6e\u6240\u6709\u9759\u6001\u8d44\u6e90\u548c\u767b\u5f55\u9875\u53ef\u4ee5\u516c\u5f00\u8bbf\u95ee\n .antMatchers(adminContextPath + "/assets/**").permitAll()\n .antMatchers(adminContextPath + "/login").permitAll()\n .anyRequest().authenticated()\n .and()\n //2.\u914d\u7f6e\u767b\u5f55\u548c\u767b\u51fa\u8def\u5f84\n .formLogin().loginPage(adminContextPath + "/login").successHandler(successHandler).and()\n .logout().logoutUrl(adminContextPath + "/logout").and()\n //3.\u5f00\u542fhttp basic\u652f\u6301\uff0cadmin-client\u6ce8\u518c\u65f6\u9700\u8981\u4f7f\u7528\n .httpBasic().and()\n .csrf()\n //4.\u5f00\u542f\u57fa\u4e8ecookie\u7684csrf\u4fdd\u62a4\n .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\n //5.\u5ffd\u7565\u8fd9\u4e9b\u8def\u5f84\u7684csrf\u4fdd\u62a4\u4ee5\u4fbfadmin-client\u6ce8\u518c\n .ignoringAntMatchers(\n adminContextPath + "/instances",\n adminContextPath + "/actuator/**"\n );\n }\n}\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4fee\u6539\u542f\u52a8\u7c7b\uff0c\u5f00\u542fAdminServer\u53ca\u6ce8\u518c\u53d1\u73b0\u529f\u80fd\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"@EnableDiscoveryClient\n@EnableAdminServer\n@SpringBootApplication\npublic class AdminSecurityServerApplication {\n\n public static void main(String[] args) {\n SpringApplication.run(AdminSecurityServerApplication.class, args);\n }\n}\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u542f\u52a8eureka-server\uff0cadmin-security-server\uff0c\u8bbf\u95eeSpring Boot Admin \u4e3b\u9875\u53d1\u73b0\u9700\u8981\u767b\u5f55\u624d\u80fd\u8bbf\u95ee\uff1a",(0,r.jsx)(e.a,{href:"https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A9301",title:"http://localhost:9301",children:"http://localhost:9301"})]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://java-tutorial.oss-cn-shanghai.aliyuncs.com/image-20230531001242361.png",alt:"image-20230531001242361"})}),"\n",(0,r.jsx)(e.h2,{id:"\u4f7f\u7528\u5230\u7684\u6a21\u5757",children:"\u4f7f\u7528\u5230\u7684\u6a21\u5757"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"springcloud-learning\n\u251c\u2500\u2500 eureka-server -- eureka\u6ce8\u518c\u4e2d\u5fc3\n\u251c\u2500\u2500 admin-server -- admin\u76d1\u63a7\u4e2d\u5fc3\u670d\u52a1\n\u251c\u2500\u2500 admin-client -- admin\u76d1\u63a7\u4e2d\u5fc3\u76d1\u63a7\u7684\u5e94\u7528\u670d\u52a1\n\u2514\u2500\u2500 admin-security-server -- \u5e26\u767b\u5f55\u8ba4\u8bc1\u7684admin\u76d1\u63a7\u4e2d\u5fc3\u670d\u52a1` \n"})})]})}function p(n={}){const{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(o,{...n})}):o(n)}},88672:(n,e,i)=>{i.d(e,{Z:()=>a,a:()=>l});var r=i(50959);const t={},s=r.createContext(t);function l(n){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);