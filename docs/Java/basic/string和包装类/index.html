<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Java/basic/string和包装类" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">string和包装类 | Tommy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aiden-coding.github.io/code-note-blog/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://aiden-coding.github.io/code-note-blog/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://aiden-coding.github.io/code-note-blog/docs/Java/basic/string和包装类"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="string和包装类 | Tommy"><meta data-rh="true" name="description" content="本系列文章将整理到我在GitHub上的《Java面试指南》仓库，更多精彩内容请到我的仓库里查看"><meta data-rh="true" property="og:description" content="本系列文章将整理到我在GitHub上的《Java面试指南》仓库，更多精彩内容请到我的仓库里查看"><link data-rh="true" rel="icon" href="/code-note-blog/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aiden-coding.github.io/code-note-blog/docs/Java/basic/string和包装类"><link data-rh="true" rel="alternate" href="https://aiden-coding.github.io/code-note-blog/docs/Java/basic/string和包装类" hreflang="en"><link data-rh="true" rel="alternate" href="https://aiden-coding.github.io/code-note-blog/docs/Java/basic/string和包装类" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/code-note-blog/blog/rss.xml" title="Tommy RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/code-note-blog/blog/atom.xml" title="Tommy Atom Feed"><link rel="stylesheet" href="/code-note-blog/assets/css/styles.dd5372db.css">
<script src="/code-note-blog/assets/js/runtime~main.f999fb27.js" defer="defer"></script>
<script src="/code-note-blog/assets/js/main.a0bfbaed.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_XYiV" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/code-note-blog/"><b class="navbar__title text--truncate">Tommy</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/code-note-blog/docs/Java/basic/抽象类和接口">java</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/JavaWeb/走进JavaWeb技术世界：JavaWeb的由来和基础知识">javaweb</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/cache/探索Redis设计与实现：连接底层与表面的数据结构robj">cache</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/backend/后端技术杂谈：白话虚拟化技术">backend</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/cs/algorithms/剑指offer">cs</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/database/重新学习MySQL数据库：『浅入浅出』MySQL和InnoDB">database</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/distributed/basic/分布式系统理论基础 ：CAP">distributed</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/interview/BATJ-Experience/面阿里,终获offer">interview</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/mq/kafka/消息队列kafka详解：如何实现死信队列">mq</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/Spring全家桶/Spring/第一个Spring应用">spring</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/mianshi/collection">面试</a><a href="https://aiden-coding.github.io/code-note-blog/SpringCloud%E7%AC%AC3%E5%AD%A32024.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_XbAW colorModeToggle_r5NY"><button class="clean-btn toggleButton_Jx0n toggleButtonDisabled_zYO7" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_FjAw"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_qmEt"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_wJfS"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_LABv"><div class="docsWrapper_pdvB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Jioa" type="button"></button><div class="docRoot_qx_v"><aside class="theme-doc-sidebar-container docSidebarContainer_NHKT"><div class="sidebarViewport_uyYB"><div class="sidebar_SZG4"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_VP_k"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/code-note-blog/docs/Java/basic/抽象类和接口">基础</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/抽象类和接口">抽象类和接口</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/序列化和反序列化">序列化和反序列化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/代码块和代码执行顺序">代码块和代码执行顺序</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/多线程">多线程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/反射">反射</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/泛型">泛型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/继承、封装、多态的实现原理">继承、封装、多态的实现原理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/解读Java中的回调">解读Java中的回调</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/枚举类">枚举类</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/面向对象基础">面向对象基础</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/深入理解内部类">深入理解内部类</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/final关键字特性">final关键字特性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java8新特性终极指南">Java8新特性终极指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java基本数据类型">Java基本数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java集合框架梳理">Java集合框架梳理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java类和包">Java类和包</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java异常">Java异常</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java中的Class类和Object类">Java中的Class类和Object类</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java注解和最佳实践">Java注解和最佳实践</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java自动拆箱装箱里隐藏的秘密">Java自动拆箱装箱里隐藏的秘密</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/javac和javap">javac和javap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/JavaIO流">JavaIO流</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/code-note-blog/docs/Java/basic/string和包装类">string和包装类</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Java/collection/Java集合类总结">集合</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Java/concurrency/Java并发编程学习总结">并发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Java/design-parttern/初探Java设计模式：创建型模式（工厂，单例等）">设计模式</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Java/JVM/深入理解JVM虚拟机：垃圾回收器详解">jvm</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Java/network/Java网络编程与NIO详解：基于NIO的网络编程框架Netty">网络</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_SejT"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_j3Yw"><div class="docItemContainer_XOSC"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_F6gm" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/code-note-blog/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YCxa"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">基础</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">string和包装类</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ToOY theme-doc-toc-mobile tocMobile_suYB"><button type="button" class="clean-btn tocCollapsibleButton_VzP_">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>string和包装类</h1></header><p>本系列文章将整理到我在GitHub上的《Java面试指南》仓库，更多精彩内容请到我的仓库里查看</p>
<blockquote>
<p><a href="https://github.com/h2pl/Java-Tutorial" target="_blank" rel="noopener noreferrer">https://github.com/h2pl/Java-Tutorial</a></p>
</blockquote>
<p>喜欢的话麻烦点下Star哈</p>
<p>文章首发于我的个人博客：</p>
<blockquote>
<p><a href="http://www.how2playlife.com" target="_blank" rel="noopener noreferrer">www.how2playlife.com</a></p>
</blockquote>
<p>本文是微信公众号【Java技术江湖】的《夯实Java基础系列博文》其中一篇，本文部分内容来源于网络，为了把本文主题讲得清晰透彻，也整合了很多我认为不错的技术博客内容，引用其中了一些比较好的博客文章，如有侵权，请联系作者。
该系列博文会告诉你如何从入门到进阶，一步步地学习Java基础知识，并上手进行实战，接着了解每个Java知识点背后的实现原理，更完整地了解整个Java技术体系，形成自己的知识框架。为了更好地总结和检验你的学习成果，本系列文章也会提供每个知识点对应的面试题以及参考答案。</p>
<p>如果对本系列文章有什么建议，或者是有什么疑问的话，也可以关注公众号【Java技术江湖】联系作者，欢迎你参与本系列博文的创作和修订。</p>
<h2 class="anchor anchorWithStickyNavbar_HWLp" id="string基础">string基础<a href="#string基础" class="hash-link" aria-label="Direct link to string基础" title="Direct link to string基础">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="java-string-类">Java String 类<a href="#java-string-类" class="hash-link" aria-label="Direct link to Java String 类" title="Direct link to Java String 类">​</a></h3>
<p>字符串广泛应用 在 Java 编程中，在 Java 中字符串属于对象，Java 提供了 String 类来创建和操作字符串。</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="创建字符串">创建字符串<a href="#创建字符串" class="hash-link" aria-label="Direct link to 创建字符串" title="Direct link to 创建字符串">​</a></h3>
<p>创建字符串最简单的方式如下:</p>
<p>String greeting = &quot;菜鸟教程&quot;;</p>
<p>在代码中遇到字符串常量时，这里的值是 &quot;<strong>菜鸟教程</strong>&quot;&quot;，编译器会使用该值创建一个 String 对象。</p>
<p>和其它对象一样，可 以使用关键字和构造方法来创建 String 对象。</p>
<p>String 类有 11 种构造方法，这些方法提供不同的参数来初始化字符串，比如提供一个字符数组参数:</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="stringdemojava-文件代码">StringDemo.java 文件代码：<a href="#stringdemojava-文件代码" class="hash-link" aria-label="Direct link to StringDemo.java 文件代码：" title="Direct link to StringDemo.java 文件代码：">​</a></h3>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public class StringDemo{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static void main(String args[]){       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char[] helloArray = { &#x27;r&#x27;, &#x27;u&#x27;, &#x27;n&#x27;, &#x27;o&#x27;, &#x27;o&#x27;, &#x27;b&#x27;};       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String helloString = new String(helloArray);         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println( helloString );    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} }</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>以上实例编译运行结果如下：</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">runoob</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>**注意:**String 类是不可改变的，所以你一旦创建了 String 对象，那它的值就无法改变了（详看笔记部分解析）。</p>
<p>如果需要对字符串做很多修改，那么应该选择使用 <a href="https://www.runoob.com/java/java-stringbuffer.html" target="_blank" rel="noopener noreferrer">StringBuffer &amp; StringBuilder 类</a>。</p>
<h2 class="anchor anchorWithStickyNavbar_HWLp" id="string基本用法">String基本用法<a href="#string基本用法" class="hash-link" aria-label="Direct link to String基本用法" title="Direct link to String基本用法">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="创建string对象的常用方法">创建String对象的常用方法<a href="#创建string对象的常用方法" class="hash-link" aria-label="Direct link to 创建String对象的常用方法" title="Direct link to 创建String对象的常用方法">​</a></h3>
<p>(1) String s1 = &quot;mpptest&quot;</p>
<p>(2) String s2 = new String();</p>
<p>(3) String s3 = new String(&quot;mpptest&quot;)</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="string中常用的方法用法如图所示具体问度娘">String中常用的方法，用法如图所示，具体问度娘<a href="#string中常用的方法用法如图所示具体问度娘" class="hash-link" aria-label="Direct link to String中常用的方法，用法如图所示，具体问度娘" title="Direct link to String中常用的方法，用法如图所示，具体问度娘">​</a></h3>
<p><img loading="lazy" src="https://img2018.cnblogs.com/blog/710412/201902/710412-20190213220237169-1966705420.png" alt="" class="img_kGBN"></p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="三个方法的使用-lenth---substring---charat">三个方法的使用： lenth()   substring()   charAt()<a href="#三个方法的使用-lenth---substring---charat" class="hash-link" aria-label="Direct link to 三个方法的使用： lenth()   substring()   charAt()" title="Direct link to 三个方法的使用： lenth()   substring()   charAt()">​</a></h3>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">package com.mpp.string; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class StringDemo1 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) { //定义一个字符串&quot;晚来天欲雪 能饮一杯无&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String str = &quot;晚来天欲雪 能饮一杯无&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;字符串的长度是：&quot;+str.length()); //字符串的雪字打印输出  charAt(int index)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(str.charAt(4)); //取出子串  天欲</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(str.substring(2));   //取出从index2开始直到最后的子串，包含2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(str.substring(2,4));  //取出index从2到4的子串，包含2不包含4  顾头不顾尾</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>两个方法的使用,求字符或子串第一次/最后一次在字符串中出现的位置：
indexOf()   lastIndexOf()</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">package com.mpp.string; public class StringDemo2 { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String str = new String(&quot;赵客缦胡缨 吴钩胡缨霜雪明&quot;); //查找胡在字符串中第一次出现的位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;\&quot;胡\&quot;在字符串中第一次出现的位置：&quot;+str.indexOf(&quot;胡&quot;)); //查找子串&quot;胡缨&quot;在字符串中第一次出现的位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;\&quot;胡缨\&quot;在字符串中第一次出现的位置&quot;+str.indexOf(&quot;胡缨&quot;)); //查找胡在字符串中最后一次次出现的位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(str.lastIndexOf(&quot;胡&quot;)); //查找子串&quot;胡缨&quot;在字符串中最后一次出现的位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(str.lastIndexOf(&quot;胡缨&quot;)); //从indexof为5的位置，找第一次出现的&quot;吴&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(str.indexOf(&quot;吴&quot;,5));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="字符串与byte数组间的相互转换">字符串与byte数组间的相互转换<a href="#字符串与byte数组间的相互转换" class="hash-link" aria-label="Direct link to 字符串与byte数组间的相互转换" title="Direct link to 字符串与byte数组间的相互转换">​</a></h3>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">package com.mpp.string; import java.io.UnsupportedEncodingException; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class StringDemo3 { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws UnsupportedEncodingException { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //字符串和byte数组之间的相互转换</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String str = new String(&quot;hhhabc银鞍照白马 飒沓如流星&quot;); //将字符串转换为byte数组，并打印输出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        byte[] arrs = str.getBytes(&quot;GBK&quot;); </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for(int i=0;i){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.print(arrs[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //将byte数组转换成字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String str1 = new String(arrs,&quot;GBK&quot;);  //保持字符集的一致，否则会出现乱码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(str1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="运算符和equals之间的区别">==运算符和equals之间的区别：<a href="#运算符和equals之间的区别" class="hash-link" aria-label="Direct link to ==运算符和equals之间的区别：" title="Direct link to ==运算符和equals之间的区别：">​</a></h3>
<p>引用指向的内容和引用指向的地址</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">package com.mpp.string; public class StringDemo5 { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String str1 = &quot;mpp&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String str2 = &quot;mpp&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String str3 = new String(&quot;mpp&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(str1.equals(str2)); //true  内容相同</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(str1.equals(str3));   //true  内容相同</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(str1==str2);   //true   地址相同</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(str1==str3);   //false  地址不同</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="字符串的不可变性">字符串的不可变性<a href="#字符串的不可变性" class="hash-link" aria-label="Direct link to 字符串的不可变性" title="Direct link to 字符串的不可变性">​</a></h3>
<p>String的对象一旦被创建，则不能修改，是不可变的</p>
<p>所谓的修改其实是创建了新的对象，所指向的内存空间不变</p>
<p><img loading="lazy" src="https://java-tutorial.oss-cn-shanghai.aliyuncs.com/blog/Java%E6%8A%80%E6%9C%AF%E6%B1%9F%E6%B9%96/%E4%BA%8C%E7%BB%B4%E7%A0%81/710412-20190214224055939-746946317.png" alt="" class="img_kGBN"></p>
<p>上图中，s1不再指向imooc所在的内存空间，而是指向了hello,imooc</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="string的连接">String的连接<a href="#string的连接" class="hash-link" aria-label="Direct link to String的连接" title="Direct link to String的连接">​</a></h3>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">    @Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void contact () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1连接方式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String s1 = &quot;a&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String s2 = &quot;a&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String s3 = &quot;a&quot; + s2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String s4 = &quot;a&quot; + &quot;a&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String s5 = s1 + s2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //表达式只有常量时，编译期完成计算</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //表达式有变量时，运行期才计算，所以地址不一样</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(s3 == s4); //f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(s3 == s5); //f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(s4 == &quot;aa&quot;); //t</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="stringstring-builder和string-buffer的区别">String、String builder和String buffer的区别<a href="#stringstring-builder和string-buffer的区别" class="hash-link" aria-label="Direct link to String、String builder和String buffer的区别" title="Direct link to String、String builder和String buffer的区别">​</a></h3>
<p>String是Java中基础且重要的类，并且String也是Immutable类的典型实现，被声明为final class，除了hash这个属性其它属性都声明为final,因为它的不可变性，所以例如拼接字符串时候会产生很多无用的中间对象，如果频繁的进行这样的操作对性能有所影响。</p>
<p>StringBuffer就是为了解决大量拼接字符串时产生很多中间对象问题而提供的一个类，提供append和add方法，可以将字符串添加到已有序列的末尾或指定位置，它的本质是一个线程安全的可修改的字符序列，把所有修改数据的方法都加上了synchronized。但是保证了线程安全是需要性能的代价的。</p>
<p>在很多情况下我们的字符串拼接操作不需要线程安全，这时候StringBuilder登场了，StringBuilder是JDK1.5发布的，它和StringBuffer本质上没什么区别，就是去掉了保证线程安全的那部分，减少了开销。</p>
<p>StringBuffer 和 StringBuilder 二者都继承了 AbstractStringBuilder ，底层都是利用可修改的char数组(JDK 9 以后是 byte数组)。</p>
<p>所以如果我们有大量的字符串拼接，如果能预知大小的话最好在new StringBuffer 或者StringBuilder 的时候设置好capacity，避免多次扩容的开销。扩容要抛弃原有数组，还要进行数组拷贝创建新的数组。</p>
<p>我们平日开发通常情况下少量的字符串拼接其实没太必要担心，例如</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">String str = &quot;aa&quot;+&quot;bb&quot;+&quot;cc&quot;;</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>像这种没有变量的字符串，编译阶段就直接合成&quot;aabbcc&quot;了，然后看字符串常量池（下面会说到常量池）里有没有，有也直接引用，没有就在常量池中生成，返回引用。</p>
<p>如果是带变量的，其实影响也不大，JVM会帮我们优化了。</p>
<blockquote>
<p>1、在字符串不经常发生变化的业务场景优先使用String(代码更清晰简洁)。如常量的声明，少量的字符串操作(拼接，删除等)。</p>
<p>2、在单线程情况下，如有大量的字符串操作情况，应该使用StringBuilder来操作字符串  。不能使用String&quot;+&quot;来拼接而是使用，避免产生大量无用的中间对象，耗费空间且执行效率低下（新建对象、回收对象花费大量时间）。如JSON的封装等。</p>
<p>3、在多线程情况下，如有大量的字符串操作情况，应该使用StringBuffer。如HTTP参数解析和封装等。</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_HWLp" id="string类的源码分析">String类的源码分析<a href="#string类的源码分析" class="hash-link" aria-label="Direct link to String类的源码分析" title="Direct link to String类的源码分析">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="string类型的intern">String类型的intern<a href="#string类型的intern" class="hash-link" aria-label="Direct link to String类型的intern" title="Direct link to String类型的intern">​</a></h3>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public void intern () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //2：string的intern使用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //s1是基本类型，比较值。s2是string实例，比较实例地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //字符串类型用equals方法比较时只会比较值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String s1 = &quot;a&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String s2 = new String(&quot;a&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //调用intern时,如果s2中的字符不在常量池，则加入常量池并返回常量的引用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String s3 = s2.intern();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(s1 == s2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(s1 == s3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="string类型的equals">String类型的equals<a href="#string类型的equals" class="hash-link" aria-label="Direct link to String类型的equals" title="Direct link to String类型的equals">​</a></h3>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">//字符串的equals方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    public boolean equals(Object anObject) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//            if (this == anObject) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//            if (anObject instanceof String) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                String anotherString = (String)anObject;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                int n = value.length;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                if (n == anotherString.value.length) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                    char v1[] = value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                    char v2[] = anotherString.value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                    int i = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                    while (n-- != 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                        if (v1[i] != v2[i])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                            return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                        i++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                    return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//            return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//        }</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="stringbuffer和stringbuilder">StringBuffer和Stringbuilder<a href="#stringbuffer和stringbuilder" class="hash-link" aria-label="Direct link to StringBuffer和Stringbuilder" title="Direct link to StringBuffer和Stringbuilder">​</a></h3>
<p>底层是继承父类的可变字符数组value</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- The value is used for character storage.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  char[] value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  初始化容量为16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Constructs a string builder with no characters in it and an</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- initial capacity of 16 characters.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public StringBuilder() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  super(16);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  这两个类的append方法都是来自父类AbstractStringBuilder的方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public AbstractStringBuilder append(String str) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (str == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return appendNull();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int len = str.length();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ensureCapacityInternal(count + len);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    str.getChars(0, len, value, count);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    count += len;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public StringBuilder append(String str) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    super.append(str);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public synchronized StringBuffer append(String str) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    toStringCache = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    super.append(str);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="append方法">append方法<a href="#append方法" class="hash-link" aria-label="Direct link to append方法" title="Direct link to append方法">​</a></h3>
<p>Stringbuffer在大部分涉及字符串修改的操作上加了synchronized关键字来保证线程安全，效率较低。</p>
<p>String类型在使用 + 运算符例如</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">String a = &quot;a&quot;</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>a = a + a;时，实际上先  把a封装成stringbuilder，调用append方法后再用tostring返回，所以当大量使用字符串加法时，会大量地生成stringbuilder实例，这是十分浪费的，这种时候应该用stringbuilder来代替string。</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="扩容">扩容<a href="#扩容" class="hash-link" aria-label="Direct link to 扩容" title="Direct link to 扩容">​</a></h3>
<p>#注意在append方法中调用到了一个函数</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">ensureCapacityInternal(count + len);</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>该方法是计算append之后的空间是否足够，不足的话需要进行扩容</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public void ensureCapacity(int minimumCapacity) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (minimumCapacity &gt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ensureCapacityInternal(minimumCapacity);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private void ensureCapacityInternal(int minimumCapacity) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // overflow-conscious code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (minimumCapacity - value.length &gt; 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        value = Arrays.copyOf(value,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                newCapacity(minimumCapacity));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果新字符串长度大于value数组长度则进行扩容</p>
<p>扩容后的长度一般为原来的两倍 + 2；</p>
<p>假如扩容后的长度超过了jvm支持的最大数组长度MAX_ARRAY_SIZE。</p>
<p>考虑两种情况</p>
<p>如果新的字符串长度超过int最大值，则抛出异常，否则直接使用数组最大长度作为新数组的长度。</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">private int hugeCapacity(int minCapacity) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (Integer.MAX_VALUE - minCapacity &lt; 0) { // overflow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new OutOfMemoryError();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (minCapacity &gt; MAX_ARRAY_SIZE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ? minCapacity : MAX_ARRAY_SIZE;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="删除">删除<a href="#删除" class="hash-link" aria-label="Direct link to 删除" title="Direct link to 删除">​</a></h3>
<p>这两个类型的删除操作：</p>
<p>都是调用父类的delete方法进行删除</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public AbstractStringBuilder delete(int start, int end) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (start &lt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new StringIndexOutOfBoundsException(start);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (end &gt; count)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        end = count;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (start &gt; end)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new StringIndexOutOfBoundsException();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int len = end - start;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (len &gt; 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.arraycopy(value, start+len, value, start, count-end);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        count -= len;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>事实上是将剩余的字符重新拷贝到字符数组value。</p>
<p>这里用到了system.arraycopy来拷贝数组，速度是比较快的</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="systemarraycopy方法">system.arraycopy方法<a href="#systemarraycopy方法" class="hash-link" aria-label="Direct link to system.arraycopy方法" title="Direct link to system.arraycopy方法">​</a></h3>
<p>转自知乎：</p>
<blockquote>
<p>在主流高性能的JVM上（HotSpot VM系、IBM J9 VM系、JRockit系等等），可以认为System.arraycopy()在拷贝数组时是可靠高效的——如果发现不够高效的情况，请报告performance bug，肯定很快就会得到改进。</p>
<p>java.lang.System.arraycopy()方法在Java代码里声明为一个native方法。所以最naïve的实现方式就是通过JNI调用JVM里的native代码来实现。</p>
<p>String的不可变性
关于String的不可变性，这里转一个不错的回答</p>
<p>什么是不可变？
String不可变很简单，如下图，给一个已有字符串&quot;abcd&quot;第二次赋值成&quot;abcedl&quot;，不是在原内存地址上修改数据，而是重新指向一个新对象，新地址。</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_HWLp" id="string和jvm的关系">String和JVM的 关系<a href="#string和jvm的关系" class="hash-link" aria-label="Direct link to String和JVM的关系" title="Direct link to String和JVM的关系">​</a></h2>
<p>下面我们了解下Java栈、Java堆、方法区和常量池：</p>
<p>Java栈（线程私有数据区）：</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">    每个Java虚拟机线程都有自己的Java虚拟机栈，Java虚拟机栈用来存放栈帧，每个方法被执行的时候都会同时创建一个栈帧（Stack Frame）用于存储局部变量表、操作栈、动态链接、方法出口等信息。每一个方法被调用直至执行完成的过程，就对应着一个栈帧在虚拟机栈中从入栈到出栈的过程。</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Java堆（线程共享数据区）：</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">   在虚拟机启动时创建，此内存区域的唯一目的就是存放对象实例，几乎所有的对象实例都在这里分配。</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>方法区（线程共享数据区）：</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">   方法区在虚拟机启动的时候被创建，它存储了每一个类的结构信息，例如运行时常量池、字段和方法数据、构造函数和普通方法的字节码内容、还包括在类、实例、接口初始化时用到的特殊方法。在JDK8之前永久代是方法区的一种实现，而JDK8元空间替代了永久代，永久代被移除，也可以理解为元空间是方法区的一种实现。</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>常量池（线程共享数据区）：</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">    常量池常被分为两大类：静态常量池和运行时常量池。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    静态常量池也就是Class文件中的常量池，存在于Class文件中。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    运行时常量池（Runtime Constant Pool）是方法区的一部分，存放一些运行时常量数据。</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>下面重点了解的是字符串常量池：</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">    字符串常量池存在运行时常量池之中（在JDK7之前存在运行时常量池之中，在JDK7已经将其转移到堆中）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    字符串常量池的存在使JVM提高了性能和减少了内存开销。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    使用字符串常量池，每当我们使用字面量（String s=”1”;）创建字符串常量时，JVM会首先检查字符串常量池，如果该字符串已经存在常量池中，那么就将此字符串对象的地址赋值给引用s（引用s在Java栈中）。如果字符串不存在常量池中，就会实例化该字符串并且将其放到常量池中，并将此字符串对象的地址赋值给引用s（引用s在Java栈中）。</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">    使用字符串常量池，每当我们使用关键字new（String s=new String(”1”);）创建字符串常量时，JVM会首先检查字符串常量池，如果该字符串已经存在常量池中，那么不再在字符串常量池创建该字符串对象，而直接堆中复制该对象的副本，然后将堆中对象的地址赋值给引用s，如果字符串不存在常量池中，就会实例化该字符串并且将其放到常量池中，然后在堆中复制该对象的副本，然后将堆中对象的地址赋值给引用s。</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_HWLp" id="string为什么不可变">String为什么不可变？<a href="#string为什么不可变" class="hash-link" aria-label="Direct link to String为什么不可变？" title="Direct link to String为什么不可变？">​</a></h2>
<p>翻开JDK源码，java.lang.String类起手前三行，是这样写的：</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public final class String implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence {   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /** String本质是个char数组. 而且用final关键字修饰.*/     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private final char value[];  ...  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> } </span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>首先String类是用final关键字修饰，这说明String不可继承。再看下面，String类的主力成员字段value是个char[]数组，而且是用final修饰的。</p>
<p>final修饰的字段创建以后就不可改变。 有的人以为故事就这样完了，其实没有。因为虽然value是不可变，也只是value这个引用地址不可变。挡不住Array数组是可变的事实。</p>
<p>Array的数据结构看下图。</p>
<p>也就是说Array变量只是stack上的一个引用，数组的本体结构在heap堆。</p>
<p>String类里的value用final修饰，只是说stack里的这个叫value的引用  地址不可变。没有说堆里array本身数据不可变。看下面这个例子，</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">final int[] value={1,2,3} ；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int[] another={4,5,6};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> value=another;    //编译器报错，final不可变 value用final修饰，编译器不允许我把value指向堆区另一个地址。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">但如果我直接对数组元素动手，分分钟搞定。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> final int[] value={1,2,3};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> value[2]=100;  //这时候数组里已经是{1,2,100}   所以String是不可变，关键是因为SUN公司的工程师。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 在后面所有String的方法里很小心的没有去动Array里的元素，没有暴露内部成员字段。private final char value[]这一句里，private的私有访问权限的作用都比final大。而且设计师还很小心地把整个String设成final禁止继承，避免被其他人继承后破坏。所以String是不可变的关键都在底层的实现，而不是一个final。考验的是工程师构造数据类型，封装数据的功力。 </span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="不可变有什么好处">不可变有什么好处？<a href="#不可变有什么好处" class="hash-link" aria-label="Direct link to 不可变有什么好处？" title="Direct link to 不可变有什么好处？">​</a></h3>
<p>这个最简单地原因，就是为了安全。看下面这个场景（有评论反应例子不够清楚，现在完整地写出来），一个函数appendStr( )在不可变的String参数后面加上一段“bbb”后返回。appendSb( )负责在可变的StringBuilder后面加“bbb”。</p>
<p>总结以下String的不可变性。</p>
<blockquote>
<p>1 首先final修饰的类只保证不能被继承，并且该类的对象在堆内存中的地址不会被改变。</p>
<p>2 但是持有String对象的引用本身是可以改变的，比如他可以指向其他的对象。</p>
<p>3 final修饰的char数组保证了char数组的引用不可变。但是可以通过char[0] = &#x27;a’来修改值。不过String内部并不提供方法来完成这一操作，所以String的不可变也是基于代码封装和访问控制的。</p>
</blockquote>
<p>举个例子</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">final class Fi {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int a;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    final int b = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Integer s;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">final char[]a = {&#x27;a&#x27;};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">final int[]b = {1};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void final修饰类() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //引用没有被final修饰，所以是可变的。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //final只修饰了Fi类型，即Fi实例化的对象在堆中内存地址是不可变的。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //虽然内存地址不可变，但是可以对内部的数据做改变。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Fi f = new Fi();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    f.a = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    f.a = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //改变实例中的值并不改变内存地址。</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">Fi ff = f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//让引用指向新的Fi对象，原来的f对象由新的引用ff持有。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//引用的指向改变也不会改变原来对象的地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">f = new Fi();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(ff);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这里的对f.a的修改可以理解为char[0] = &#x27;a&#x27;这样的操作。只改变数据值，不改变内存值。</p>
<h2 class="anchor anchorWithStickyNavbar_HWLp" id="string常用工具类">String常用工具类<a href="#string常用工具类" class="hash-link" aria-label="Direct link to String常用工具类" title="Direct link to String常用工具类">​</a></h2>
<p>问题描述
很多时候我们需要对字符串进行很多固定的操作,而这些操作在JDK/JRE中又没有预置,于是我们想到了apache-commons组件,但是它也不能完全覆盖我们的业务需求,所以很多时候还是要自己写点代码的,下面就是基于apache-commons组件写的部分常用方法:</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    	&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    	&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    	&lt;version&gt;${commons-lang3.version}&lt;/version&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     &lt;/dependency&gt;</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>代码成果</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public class StringUtils extends org.apache.commons.lang3.StringUtils {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/** 值为&quot;NULL&quot;的字符串 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private static final String NULL_STRING = &quot;NULL&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private static final char SEPARATOR = &#x27;_&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 满足一下情况返回true&lt;br/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ①.入参为空</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ②.入参为空字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ③.入参为&quot;null&quot;字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param string 需要判断的字符型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static boolean isNullOrEmptyOrNULLString(String string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return isBlank(string) || NULL_STRING.equalsIgnoreCase(string);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 把字符串转为二进制码&lt;br/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 本方法不会返回null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param str 需要转换的字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return 二进制字节码数组</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static byte[] toBytes(String str) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return isBlank(str) ? new byte[]{} : str.getBytes();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 把字符串转为二进制码&lt;br/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 本方法不会返回null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param str     需要转换的字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param charset 编码类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return 二进制字节码数组</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @throws UnsupportedEncodingException 字符串转换的时候编码不支持时出现</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static byte[] toBytes(String str, Charset charset) throws UnsupportedEncodingException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return isBlank(str) ? new byte[]{} : str.getBytes(charset.displayName());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 把字符串转为二进制码&lt;br/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 本方法不会返回null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param str     需要转换的字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param charset 编码类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param locale  编码类型对应的地区</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return 二进制字节码数组</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @throws UnsupportedEncodingException 字符串转换的时候编码不支持时出现</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static byte[] toBytes(String str, Charset charset, Locale locale) throws UnsupportedEncodingException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return isBlank(str) ? new byte[]{} : str.getBytes(charset.displayName(locale));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 二进制码转字符串&lt;br/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 本方法不会返回null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param bytes 二进制码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return 字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String bytesToString(byte[] bytes) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return bytes == null || bytes.length == 0 ? EMPTY : new String(bytes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 二进制码转字符串&lt;br/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 本方法不会返回null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param bytes   二进制码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param charset 编码集</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return 字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @throws UnsupportedEncodingException 当前二进制码可能不支持传入的编码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String byteToString(byte[] bytes, Charset charset) throws UnsupportedEncodingException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return bytes == null || bytes.length == 0 ? EMPTY : new String(bytes, charset.displayName());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 二进制码转字符串&lt;br/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 本方法不会返回null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param bytes   二进制码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param charset 编码集</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param locale  本地化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return 字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @throws UnsupportedEncodingException 当前二进制码可能不支持传入的编码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String byteToString(byte[] bytes, Charset charset, Locale locale) throws UnsupportedEncodingException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return bytes == null || bytes.length == 0 ? EMPTY : new String(bytes, charset.displayName(locale));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 把对象转为字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param object 需要转化的字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return 字符串, 可能为空</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String parseString(Object object) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (object == null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (object instanceof byte[]) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return bytesToString((byte[]) object);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return object.toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 把字符串转为int类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param str 需要转化的字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @throws NumberFormatException 字符串格式不正确时抛出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static int parseInt(String str) throws NumberFormatException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return isBlank(str) ? 0 : Integer.parseInt(str);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 把字符串转为double类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param str 需要转化的字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return double</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @throws NumberFormatException 字符串格式不正确时抛出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static double parseDouble(String str) throws NumberFormatException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return isBlank(str) ? 0D : Double.parseDouble(str);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 把字符串转为long类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param str 需要转化的字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return long</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @throws NumberFormatException 字符串格式不正确时抛出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static long parseLong(String str) throws NumberFormatException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return isBlank(str) ? 0L : Long.parseLong(str);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 把字符串转为float类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param str 需要转化的字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return float</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @throws NumberFormatException 字符串格式不正确时抛出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static float parseFloat(String str) throws NumberFormatException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return isBlank(str) ? 0L : Float.parseFloat(str);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 获取i18n字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param args</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String getI18NMessage(String code, Object[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //LocaleResolver localLocaleResolver = (LocaleResolver) SpringContextHolder.getBean(LocaleResolver.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //HttpServletRequest request = ((ServletRequestAttributes)RequestContextHolder.getRequestAttributes()).getRequest();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Locale locale = localLocaleResolver.resolveLocale(request);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //return SpringContextHolder.getApplicationContext().getMessage(code, args, locale);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 获得用户远程地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param request 请求头</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return 用户ip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String getRemoteAddr(HttpServletRequest request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String remoteAddr = request.getHeader(&quot;X-Real-IP&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (isNotBlank(remoteAddr)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        remoteAddr = request.getHeader(&quot;X-Forwarded-For&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else if (isNotBlank(remoteAddr)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        remoteAddr = request.getHeader(&quot;Proxy-Client-IP&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else if (isNotBlank(remoteAddr)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        remoteAddr = request.getHeader(&quot;WL-Proxy-Client-IP&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return remoteAddr != null ? remoteAddr : request.getRemoteAddr();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 驼峰命名法工具</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return toCamelCase(&quot; hello_world &quot;) == &quot;helloWorld&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * toCapitalizeCamelCase(&quot;hello_world&quot;) == &quot;HelloWorld&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * toUnderScoreCase(&quot;helloWorld&quot;) = &quot;hello_world&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String toCamelCase(String s, Locale locale, char split) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (isBlank(s)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s = s.toLowerCase(locale);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    StringBuilder sb = new StringBuilder();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (char c : s.toCharArray()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sb.append(c == split ? Character.toUpperCase(c) : c);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return sb.toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String toCamelCase(String s) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return toCamelCase(s, Locale.getDefault(), SEPARATOR);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String toCamelCase(String s, Locale locale) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return toCamelCase(s, locale, SEPARATOR);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String toCamelCase(String s, char split) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return toCamelCase(s, Locale.getDefault(), split);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String toUnderScoreCase(String s, char split) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (isBlank(s)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    StringBuilder sb = new StringBuilder();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (int i = 0; i &lt; s.length(); i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        char c = s.charAt(i);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        boolean nextUpperCase = (i &lt; (s.length() - 1)) &amp;&amp; Character.isUpperCase(s.charAt(i + 1));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        boolean upperCase = (i &gt; 0) &amp;&amp; Character.isUpperCase(c);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sb.append((!upperCase || !nextUpperCase) ? split : &quot;&quot;).append(Character.toLowerCase(c));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return sb.toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String toUnderScoreCase(String s) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return toUnderScoreCase(s, SEPARATOR);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 把字符串转换为JS获取对象值的三目运算表达式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param objectString 对象串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 例如：入参:row.user.id/返回：!row?&#x27;&#x27;:!row.user?&#x27;&#x27;:!row.user.id?&#x27;&#x27;:row.user.id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String toJsGetValueExpression(String objectString) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    StringBuilder result = new StringBuilder();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    StringBuilder val = new StringBuilder();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String[] fileds = split(objectString, &quot;.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (int i = 0; i &lt; fileds.length; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        val.append(&quot;.&quot; + fileds[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        result.append(&quot;!&quot; + (val.substring(1)) + &quot;?&#x27;&#x27;:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result.append(val.substring(1));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return result.toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_HWLp" id="参考文章">参考文章<a href="#参考文章" class="hash-link" aria-label="Direct link to 参考文章" title="Direct link to 参考文章">​</a></h2>
<p><a href="https://blog.csdn.net/qq_34490018/article/details/82110578" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_34490018/article/details/82110578</a>
<a href="https://www.runoob.com/java/java-string.html" target="_blank" rel="noopener noreferrer">https://www.runoob.com/java/java-string.html</a>
<a href="https://www.cnblogs.com/zhangyinhua/p/7689974.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/zhangyinhua/p/7689974.html</a>
<a href="https://blog.csdn.net/sinat_21925975/article/details/86493248" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/sinat_21925975/article/details/86493248</a>
<a href="https://www.cnblogs.com/niew/p/9597379.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/niew/p/9597379.html</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Java/basic/string和包装类.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_EYjg" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_eevz"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/code-note-blog/docs/Java/basic/JavaIO流"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">JavaIO流</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/code-note-blog/docs/Java/collection/Java集合类总结"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Java集合类总结</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_lc2k thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#string基础" class="table-of-contents__link toc-highlight">string基础</a><ul><li><a href="#java-string-类" class="table-of-contents__link toc-highlight">Java String 类</a></li><li><a href="#创建字符串" class="table-of-contents__link toc-highlight">创建字符串</a></li><li><a href="#stringdemojava-文件代码" class="table-of-contents__link toc-highlight">StringDemo.java 文件代码：</a></li></ul></li><li><a href="#string基本用法" class="table-of-contents__link toc-highlight">String基本用法</a><ul><li><a href="#创建string对象的常用方法" class="table-of-contents__link toc-highlight">创建String对象的常用方法</a></li><li><a href="#string中常用的方法用法如图所示具体问度娘" class="table-of-contents__link toc-highlight">String中常用的方法，用法如图所示，具体问度娘</a></li><li><a href="#三个方法的使用-lenth---substring---charat" class="table-of-contents__link toc-highlight">三个方法的使用： lenth()   substring()   charAt()</a></li><li><a href="#字符串与byte数组间的相互转换" class="table-of-contents__link toc-highlight">字符串与byte数组间的相互转换</a></li><li><a href="#运算符和equals之间的区别" class="table-of-contents__link toc-highlight">==运算符和equals之间的区别：</a></li><li><a href="#字符串的不可变性" class="table-of-contents__link toc-highlight">字符串的不可变性</a></li><li><a href="#string的连接" class="table-of-contents__link toc-highlight">String的连接</a></li><li><a href="#stringstring-builder和string-buffer的区别" class="table-of-contents__link toc-highlight">String、String builder和String buffer的区别</a></li></ul></li><li><a href="#string类的源码分析" class="table-of-contents__link toc-highlight">String类的源码分析</a><ul><li><a href="#string类型的intern" class="table-of-contents__link toc-highlight">String类型的intern</a></li><li><a href="#string类型的equals" class="table-of-contents__link toc-highlight">String类型的equals</a></li><li><a href="#stringbuffer和stringbuilder" class="table-of-contents__link toc-highlight">StringBuffer和Stringbuilder</a></li><li><a href="#append方法" class="table-of-contents__link toc-highlight">append方法</a></li><li><a href="#扩容" class="table-of-contents__link toc-highlight">扩容</a></li><li><a href="#删除" class="table-of-contents__link toc-highlight">删除</a></li><li><a href="#systemarraycopy方法" class="table-of-contents__link toc-highlight">system.arraycopy方法</a></li></ul></li><li><a href="#string和jvm的关系" class="table-of-contents__link toc-highlight">String和JVM的关系</a></li><li><a href="#string为什么不可变" class="table-of-contents__link toc-highlight">String为什么不可变？</a><ul><li><a href="#不可变有什么好处" class="table-of-contents__link toc-highlight">不可变有什么好处？</a></li></ul></li><li><a href="#string常用工具类" class="table-of-contents__link toc-highlight">String常用工具类</a></li><li><a href="#参考文章" class="table-of-contents__link toc-highlight">参考文章</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/code-note-blog/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/code-note-blog/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>