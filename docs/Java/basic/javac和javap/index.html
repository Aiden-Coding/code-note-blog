<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Java/basic/javac和javap" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">javac和javap | Tommy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aiden-coding.github.io/code-note-blog/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://aiden-coding.github.io/code-note-blog/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://aiden-coding.github.io/code-note-blog/docs/Java/basic/javac和javap"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="javac和javap | Tommy"><meta data-rh="true" name="description" content="本系列文章将整理到我在GitHub上的《Java面试指南》仓库，更多精彩内容请到我的仓库里查看"><meta data-rh="true" property="og:description" content="本系列文章将整理到我在GitHub上的《Java面试指南》仓库，更多精彩内容请到我的仓库里查看"><link data-rh="true" rel="icon" href="/code-note-blog/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aiden-coding.github.io/code-note-blog/docs/Java/basic/javac和javap"><link data-rh="true" rel="alternate" href="https://aiden-coding.github.io/code-note-blog/docs/Java/basic/javac和javap" hreflang="en"><link data-rh="true" rel="alternate" href="https://aiden-coding.github.io/code-note-blog/docs/Java/basic/javac和javap" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/code-note-blog/blog/rss.xml" title="Tommy RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/code-note-blog/blog/atom.xml" title="Tommy Atom Feed"><link rel="stylesheet" href="/code-note-blog/assets/css/styles.dd5372db.css">
<script src="/code-note-blog/assets/js/runtime~main.f999fb27.js" defer="defer"></script>
<script src="/code-note-blog/assets/js/main.a0bfbaed.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_XYiV" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/code-note-blog/"><b class="navbar__title text--truncate">Tommy</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/code-note-blog/docs/Java/basic/抽象类和接口">java</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/JavaWeb/走进JavaWeb技术世界：JavaWeb的由来和基础知识">javaweb</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/cache/探索Redis设计与实现：连接底层与表面的数据结构robj">cache</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/backend/后端技术杂谈：白话虚拟化技术">backend</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/cs/algorithms/剑指offer">cs</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/database/重新学习MySQL数据库：『浅入浅出』MySQL和InnoDB">database</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/distributed/basic/分布式系统理论基础 ：CAP">distributed</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/interview/BATJ-Experience/面阿里,终获offer">interview</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/mq/kafka/消息队列kafka详解：如何实现死信队列">mq</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/Spring全家桶/Spring/第一个Spring应用">spring</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/mianshi/collection">面试</a><a href="https://aiden-coding.github.io/code-note-blog/SpringCloud%E7%AC%AC3%E5%AD%A32024.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_XbAW colorModeToggle_r5NY"><button class="clean-btn toggleButton_Jx0n toggleButtonDisabled_zYO7" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_FjAw"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_qmEt"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_wJfS"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_LABv"><div class="docsWrapper_pdvB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Jioa" type="button"></button><div class="docRoot_qx_v"><aside class="theme-doc-sidebar-container docSidebarContainer_NHKT"><div class="sidebarViewport_uyYB"><div class="sidebar_SZG4"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_VP_k"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/code-note-blog/docs/Java/basic/抽象类和接口">基础</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/抽象类和接口">抽象类和接口</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/序列化和反序列化">序列化和反序列化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/代码块和代码执行顺序">代码块和代码执行顺序</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/多线程">多线程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/反射">反射</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/泛型">泛型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/继承、封装、多态的实现原理">继承、封装、多态的实现原理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/解读Java中的回调">解读Java中的回调</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/枚举类">枚举类</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/面向对象基础">面向对象基础</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/深入理解内部类">深入理解内部类</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/final关键字特性">final关键字特性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java8新特性终极指南">Java8新特性终极指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java基本数据类型">Java基本数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java集合框架梳理">Java集合框架梳理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java类和包">Java类和包</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java异常">Java异常</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java中的Class类和Object类">Java中的Class类和Object类</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java注解和最佳实践">Java注解和最佳实践</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/Java自动拆箱装箱里隐藏的秘密">Java自动拆箱装箱里隐藏的秘密</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/code-note-blog/docs/Java/basic/javac和javap">javac和javap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/JavaIO流">JavaIO流</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Java/basic/string和包装类">string和包装类</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Java/collection/Java集合类总结">集合</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Java/concurrency/Java并发编程学习总结">并发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Java/design-parttern/初探Java设计模式：创建型模式（工厂，单例等）">设计模式</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Java/JVM/深入理解JVM虚拟机：垃圾回收器详解">jvm</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Java/network/Java网络编程与NIO详解：基于NIO的网络编程框架Netty">网络</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_SejT"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_j3Yw"><div class="docItemContainer_XOSC"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_F6gm" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/code-note-blog/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YCxa"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">基础</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">javac和javap</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ToOY theme-doc-toc-mobile tocMobile_suYB"><button type="button" class="clean-btn tocCollapsibleButton_VzP_">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>javac和javap</h1></header><p>本系列文章将整理到我在GitHub上的《Java面试指南》仓库，更多精彩内容请到我的仓库里查看</p>
<blockquote>
<p><a href="https://github.com/h2pl/Java-Tutorial" target="_blank" rel="noopener noreferrer">https://github.com/h2pl/Java-Tutorial</a></p>
</blockquote>
<p>喜欢的话麻烦点下Star哈</p>
<p>文章首发于我的个人博客：</p>
<blockquote>
<p><a href="http://www.how2playlife.com" target="_blank" rel="noopener noreferrer">www.how2playlife.com</a></p>
</blockquote>
<p>本文是微信公众号【Java技术江湖】的《夯实Java基础系列博文》其中一篇，本文部分内容来源于网络，为了把本文主题讲得清晰透彻，也整合了很多我认为不错的技术博客内容，引用其中了一些比较好的博客文章，如有侵权，请联系作者。
该系列博文会告诉你如何从入门到进阶，一步步地学习Java基础知识，并上手进行实战，接着了解每个Java知识点背后的实现原理，更完整地了解整个Java技术体系，形成自己的知识框架。为了更好地总结和检验你的学习成果，本系列文章也会提供每个知识点对应的面试题以及参考答案。</p>
<p>如果对本系列文章有什么建议，或者是有什么疑问的话，也可以关注公众号【Java技术江湖】联系作者，欢迎你参与本系列博文的创作和修订。</p>
<h2 class="anchor anchorWithStickyNavbar_HWLp" id="聊聊ide的实现原理">聊聊IDE的实现原理<a href="#聊聊ide的实现原理" class="hash-link" aria-label="Direct link to 聊聊IDE的实现原理" title="Direct link to 聊聊IDE的实现原理">​</a></h2>
<blockquote>
<p>IDE是把双刃剑，它可以什么都帮你做了，你只要敲几行代码，点几下鼠标，程序就跑起来了，用起来相当方便。</p>
<p>你不用去关心它后面做了些什么，执行了哪些命令，基于什么原理。然而也是这种过分的依赖往往让人散失了最基本的技能，当到了一个没有IDE的地方，你便觉得无从下手，给你个代码都不知道怎么去跑。好比给你瓶水，你不知道怎么打开去喝，然后活活给渴死。</p>
<p>之前用惯了idea，Java文件编译运行的命令基本忘得一干二净。</p>
</blockquote>
<p>那好，不如咱们先来了解一下IDE的实现原理，这样一来，即使离开IDE，我们还是知道如何运行Java程序了。</p>
<p>像Eclipse等java IDE是怎么编译和查找java源代码  的呢？</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="源代码保存">源代码保存<a href="#源代码保存" class="hash-link" aria-label="Direct link to 源代码保存" title="Direct link to 源代码保存">​</a></h3>
<p>这个无需多说，在编译器写入代码，并保存到文件。这个利用流来实现。</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="编译为class文件">编译为class文件<a href="#编译为class文件" class="hash-link" aria-label="Direct link to 编译为class文件" title="Direct link to 编译为class文件">​</a></h3>
<p>java提供了JavaCompiler，我们可以通过它来编译java源文件为class文件。</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="查找class">查找class<a href="#查找class" class="hash-link" aria-label="Direct link to 查找class" title="Direct link to 查找class">​</a></h3>
<p>可以通过Class.forName(fullClassPath)或自定义类加载器来实现。</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="生成对象并调用对象方法">生成对象，并调用对象方法<a href="#生成对象并调用对象方法" class="hash-link" aria-label="Direct link to 生成对象，并调用对象方法" title="Direct link to 生成对象，并调用对象方法">​</a></h3>
<p>通过上面一个查找class，得到Class对象后，可以通过newInstance()或构造器的newInstance()得到对象。然后得到Method，最后调用方法，传入相关参数即可。</p>
<p>示例代码：</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public class MyIDE {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws IOException, ClassNotFoundException, NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 定义java代码，并保存到文件（Test.java）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        StringBuilder sb = new StringBuilder();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sb.append(&quot;package com.tommy.core.test.reflect;\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sb.append(&quot;public class Test {\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sb.append(&quot;    private String name;\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sb.append(&quot;    public Test(String name){\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sb.append(&quot;        this.name = name;\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sb.append(&quot;        System.out.println(\&quot;hello,my name is \&quot; + name);\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sb.append(&quot;    }\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sb.append(&quot;    public String sayHello(String name) {\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sb.append(&quot;        return \&quot;hello,\&quot; + name;\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sb.append(&quot;    }\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sb.append(&quot;}\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(sb.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String baseOutputDir = &quot;F:\\output\\classes\\&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String baseDir = baseOutputDir + &quot;com\\tommy\\core\\test\\reflect\\&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String targetJavaOutputPath = baseDir + &quot;Test.java&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 保存为java文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        FileWriter fileWriter = new FileWriter(targetJavaOutputPath);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fileWriter.write(sb.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fileWriter.flush();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fileWriter.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 编译为class文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        StandardJavaFileManager manager = compiler.getStandardFileManager(null,null,null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;File&gt; files = new ArrayList&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        files.add(new File(targetJavaOutputPath));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Iterable compilationUnits = manager.getJavaFileObjectsFromFiles(files);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 编译</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 设置编译选项，配置class文件输出路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Iterable&lt;String&gt; options = Arrays.asList(&quot;-d&quot;,baseOutputDir);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        JavaCompiler.CompilationTask task = compiler.getTask(null, manager, null, options, null, compilationUnits);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 执行编译任务</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        task.call();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 通过反射得到对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//        Class clazz = Class.forName(&quot;com.tommy.core.test.reflect.Test&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 使用自定义的类加载器加载class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class clazz = new MyClassLoader(baseOutputDir).loadClass(&quot;com.tommy.core.test.reflect.Test&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 得到构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Constructor constructor = clazz.getConstructor(String.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 通过构造器new一个对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object test = constructor.newInstance(&quot;jack.tsing&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 得到sayHello方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method method = clazz.getMethod(&quot;sayHello&quot;, String.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 调用sayHello方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String result = (String) method.invoke(test, &quot;jack.ma&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(result);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>自定义类加载器代码：</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyClassLoader extends ClassLoader {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String baseDir;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public MyClassLoader(String baseDir) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.baseDir = baseDir;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String fullClassFilePath = this.baseDir + name.replace(&quot;\\.&quot;,&quot;/&quot;) + &quot;.class&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        File classFilePath = new File(fullClassFilePath);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (classFilePath.exists()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            FileInputStream fileInputStream = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ByteArrayOutputStream byteArrayOutputStream = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                fileInputStream = new FileInputStream(classFilePath);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                byte[] data = new byte[1024];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                int len = -1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                byteArrayOutputStream = new ByteArrayOutputStream();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                while ((len = fileInputStream.read(data)) != -1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    byteArrayOutputStream.write(data,0,len);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return defineClass(name,byteArrayOutputStream.toByteArray(),0,byteArrayOutputStream.size());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } catch (FileNotFoundException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } catch (IOException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } finally {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (null != fileInputStream) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        fileInputStream.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    } catch (IOException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (null != byteArrayOutputStream) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        byteArrayOutputStream.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    } catch (IOException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return super.findClass(name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}    </span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_HWLp" id="javac命令初窥">javac命令初窥<a href="#javac命令初窥" class="hash-link" aria-label="Direct link to javac命令初窥" title="Direct link to javac命令初窥">​</a></h2>
<p>注：以 下红色标记的参数在下文中有所讲解。</p>
<p>本部分参考<a href="https://www.cnblogs.com/xiazdong/p/3216220.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/xiazdong/p/3216220.html</a></p>
<p>用法: <code>javac &lt;options&gt; &lt;source files&gt;</code></p>
<p>其中, 可能的选项包括:</p>
<blockquote>
<p>-g                         生成所有调试信息</p>
<p>-g<!-- -->:none<!-- -->                    不生成任何调试信息</p>
<p><code>-g:{lines,vars,source} </code>    只生成某些调试信息</p>
<p>-nowarn                    不生成任何警告</p>
<p>-verbose                   输出有关编译器正在执行的操作的消息</p>
<p>-deprecation               输出使用已过时的 API 的源位置</p>
<p><code>-classpath &lt;路径&gt; </code>           指定查找用户类文件和注释处理程序的位置</p>
<p><code>-cp &lt;路径&gt;   </code>                指定查找用户类文件和注释处理程序的位置</p>
<p><code>-sourcepath &lt;路径&gt; </code>          指定查找输入源文件的位置</p>
<p><code>-bootclasspath &lt;路径&gt; </code>       覆盖引导类文件的位置</p>
<p><code>-extdirs &lt;目录&gt;  </code>            覆盖所安装扩展的位置</p>
<p><code>-endorseddirs &lt;目录&gt;</code>         覆盖签名的标准路径的位置</p>
<p><code>-proc:{none,only} </code>         控制是否执行注释处理和/或编译。</p>
<p><code>-processor &lt;class1&gt;[,&lt;class2&gt;,&lt;class3&gt;...]</code> 要运行的注释处理程序的名称; 绕过默认的搜索进程</p>
<p><code>-processorpath &lt;路径&gt; </code>       指定查找注释处理程序的位置</p>
<p><code>-d &lt;目录&gt;   </code>                 指定放置生成的类文件的位置</p>
<p><code>-s &lt;目录&gt;    </code>                指定放置生成的源文件的位置</p>
<p><code>-implicit:{none,class}</code>     指定是否为隐式引用文件生成类文件</p>
<p><code>-encoding &lt;编码&gt; </code>            指定源文件使用的字符编码</p>
<p><code>-source &lt;发行版&gt;  </code>            提供与指定发行版的源兼容性</p>
<p><code>-target &lt;发行版&gt; </code>             生成特定 VM 版本的类文件</p>
<p>-version                   版本信息</p>
<p>-help                      输出标准选项的提要</p>
<p><code>-A关键字[=值] </code>                 传递给注释处理程序的选项</p>
<p>-X                         输出非标准选项的提要</p>
<p><code>-J&lt;标记&gt;  </code>                   <code>直接将 &lt;标记&gt; 传递给运行时系统</code></p>
<p>-Werror                    出现警告时终止编译</p>
<p><code>@&lt;文件名&gt;  </code>                   从文件读取选项和文件名</p>
</blockquote>
<p>在详细介绍javac命令之前，先看看这个classpath是什么</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="classpath是什么">classpath是什么<a href="#classpath是什么" class="hash-link" aria-label="Direct link to classpath是什么" title="Direct link to classpath是什么">​</a></h3>
<p>在dos下编译java程序，就要用到classpath这个概念，尤其是在没有设置环境变量的时候。classpath就是存放.class等编译后文件的路径。</p>
<p>javac：如果当前你要编译的java文件中引用了其它的类(比如说：继承)，但该引用类的.class文件不在当前目录下，这种情况下就需要在javac命令后面加上-classpath参数，通过使用以下三种类型的方法 来指导编译器在编译的时候去指定的路径下查找引用类。</p>
<blockquote>
<p>(1).绝对路径：javac -classpath c:/junit3.8.1/junit.jar   Xxx.java</p>
<p>(2).相对路径：javac -classpath ../junit3.8.1/Junit.javr  Xxx.java</p>
<p>(3).系统变量：javac -classpath %CLASSPATH% Xxx.java (注意：%CLASSPATH%表示使用系统变量CLASSPATH的值进行查找，这里假设Junit.jar的路径就包含在CLASSPATH系统变量中)</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="ide中的classpath">IDE中的classpath<a href="#ide中的classpath" class="hash-link" aria-label="Direct link to IDE中的classpath" title="Direct link to IDE中的classpath">​</a></h4>
<p>对于一个普通的Javaweb项目，一般有这样的配置：</p>
<blockquote>
<p>1 WEB-INF/classes,lib才是classpath，WEB-INF/ 是资源目录, 客户端不能直接访问。</p>
<p>2、WEB-INF/classes目录存放src目录java文件编译之后的class文件，xml、properties等资源配置文件，这是一个定位资源的入口。</p>
<p>3、引用classpath路径下的文件，只需在文件名前加classpath:</p>
<param-value>classpath:applicationContext-*.xml</param-value>
<param-value>classpath<!-- -->:context<!-- -->/conf/controller.xml</param-value>
<p>4、lib和classes同属classpath，两者的访问优先级为: lib&gt;classes。</p>
<p>5、classpath 和 classpath* 区别：</p>
<p>classpath：只会到你的class路径中查找找文件;
classpath*：不仅包含class路径，还包括jar文件中(class路径)进行查找。</p>
</blockquote>
<p>总结：</p>
<p>(1).何时需要使用-classpath：当你要编译或执行的类引用了其它的类，但被引用类的.class文件不在当前目录下时，就需要通过-classpath来引入类</p>
<p>(2).何时需要指定路径：当你要编译的类所在的目录和你执行javac命令的目录不是同一个目录时，就需要指定源文件的路径(CLASSPATH是用来指定.class路径的，不是用来指定.java文件的路径的)</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="java项目和java-web项目的本质区别">Java项目和Java web项目的本质区别<a href="#java项目和java-web项目的本质区别" class="hash-link" aria-label="Direct link to Java项目和Java web项目的本质区别" title="Direct link to Java项目和Java web项目的本质区别">​</a></h4>
<p>（看清IDE及classpath本质）</p>
<blockquote>
<p>现在只是说说Java Project和Web Project，那么二者有区别么？回答 ：没有！都是Java语言的应用，只是应用场合不同罢了，那么他们的本质到底是什么？</p>
</blockquote>
<blockquote>
<p>回答：编译后路径！虚拟机执行的是class文件而不是java文件，那么我们不管是何种项目都是写的java文件，怎么就不一样了呢？分成java和web两种了呢？</p>
</blockquote>
<blockquote>
<p>从.classpath文件入手来看，这个文件在每个项目目录下都是存在的，很少有人打开看吧，那么我们就来一起看吧。这是一个XML文件，使用文本编辑器打开即可。</p>
<p>这里展示一个web项目的.classpath</p>
</blockquote>
<p>Xml代码</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;classpath&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;classpathentry kind=&quot;src&quot; path=&quot;resources&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;classpathentry kind=&quot;src&quot; path=&quot;test&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/servlet-api.jar&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;classpathentry kind=&quot;lib&quot; path=&quot;webapp/WEB-INF/lib/struts2-core-2.1.8.1.jar&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ……</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;classpathentry kind=&quot;output&quot; path=&quot;webapp/WEB-INF/classes&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/classpath&gt;</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>XML文档包含一个根元素，就是classpath，类路径，那么这里面包含了什么信息呢？子元素是classpathentry，kind属性区别了种 类信息，src源码，con你看看后面的path就知道是JRE容器的信息。lib是项目依赖的第三方类库，output是src编译后的位置。</p>
</blockquote>
<blockquote>
<p>既然是web项目，那么就是WEB-INF/classes目录，可能用MyEclipse的同学会说他们那里是WebRoot或者是WebContext而不是webapp，有区别么？回答：完全没有！</p>
</blockquote>
<blockquote>
<p>既然看到了编译路径的本来面目后，还区分什么java项目和web项目么？回答:不区分！普通的java 项目你这样写就行了：<classpathentry kind="output" path="bin"></classpathentry>，看看Eclipse是不是这样生成的？这个问题解决了吧。</p>
</blockquote>
<blockquote>
<p>再说说webapp目录命名的问题，这个无所谓啊，web项目是要发布到服务器上的对吧，那么服务器读取的是类文件和页面文件吧，它不管源文件，它也无法去理解源文件。那么webapp目录的命名有何关系呢？只要让服务器找到不就行了。</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="javac命令后缀">javac命令后缀<a href="#javac命令后缀" class="hash-link" aria-label="Direct link to javac命令后缀" title="Direct link to javac命令后缀">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="-g-g-glinesvarssource">-g、-g<!-- -->:none<!-- -->、-g:<code>{lines,vars,source}</code><a href="#-g-g-glinesvarssource" class="hash-link" aria-label="Direct link to -g-g-glinesvarssource" title="Direct link to -g-g-glinesvarssource">​</a></h4>
<blockquote>
<p>•-g：在生成的class文件中包含所有调试信息（行号、变量、源文件）
•-g<!-- -->:none<!-- --> ：在生成的class文件中不包含任何调试信息。</p>
<p>这个参数在javac编译中是看不到什么作用的，因为调试信息都在class文件中，而我们看不懂这个class文件。</p>
<p>为了看出这个参数的作用，我们在eclipse中进行实验。在eclipse中，我们经常做的事就是“debug”，而在debug的时候，我们会
•加入“断点”，这个是靠-g<!-- -->:lines<!-- -->起作用，如果不记录行号，则不能加断点。
•在“variables”窗口中查看当前的变量，如下图所示，这是靠-g<!-- -->:vars<!-- -->起作用，否则不能查看变量信息。
•在多个文件之间来回调用，比如 A.java的main()方法中调用了B.java的fun()函数，而我想看看程序进入fun()后的状态，这是靠-g<!-- -->:source<!-- -->，如果没有这个参数，则不能查看B.java的源代码。</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="-bootclasspath-extdirs">-bootclasspath、-extdirs<a href="#-bootclasspath-extdirs" class="hash-link" aria-label="Direct link to -bootclasspath、-extdirs" title="Direct link to -bootclasspath、-extdirs">​</a></h4>
<blockquote>
<p>-bootclasspath和-extdirs 几乎不需要用的，因为他是用来改变 “引导类”和“扩展类”。
•引导类(组成Java平台的类)：Java\jdk1.7.0_25\jre\lib\rt.jar等，用-bootclasspath设置。
•扩展类：Java\jdk1.7.0_25\jre\lib\ext目录中的文件，用-extdirs设置。
•用户自定义类：用-classpath设置。</p>
<p>我们用-verbose编译后出现的“类文件的搜索路径”，就是由上面三个路径组成，如下：</p>
</blockquote>
<p>[类文件的搜索路径: C:\Java\jdk1.7.0_25\jre\lib\resources.jar,C:\Java\jdk1.7.0_25</p>
<p>\jre\lib\rt.jar,C:\Java\jdk1.7.0_25\jre\lib\sunrsasign.jar,C:\Java\jdk1.7.0_25\j</p>
<p>re\lib\jsse.jar,C:\Java\jdk1.7.0_25\jre\lib\jce.jar,C:\Java\jdk1.7.0_25\jre\lib\</p>
<p>charsets.jar,C:\Java\jdk1.7.0_25\jre\lib\jfr.jar,C:\Java\jdk1.7.0_25\jre\classes</p>
<p>,C:\Java\jdk1.7.0_25\jre\lib\ext\access-bridge-32.jar,C:\Java\jdk1.7.0_25\jre\li</p>
<p>b\ext\dnsns.jar,C:\Java\jdk1.7.0_25\jre\lib\ext\jaccess.jar,C:\Java\jdk1.7.0_25\</p>
<p>jre\lib\ext\localedata.jar,C:\Java\jdk1.7.0_25\jre\lib\ext\sunec.jar,C:\Java\jdk</p>
<p>1.7.0_25\jre\lib\ext\sunjce_provider.jar,C:\Java\jdk1.7.0_25\jre\lib\ext\sunmsca</p>
<p>pi.jar,C:\Java\jdk1.7.0_25\jre\lib\ext\sunpkcs11.jar,C:\Java\jdk1.7.0_25\jre\lib
\ext\zipfs.jar,..\bin]</p>
<p>如果利用 -bootclasspath 重新定义： javac -bootclasspath src Xxx.java，则会出现下面错误：</p>
<p>致命错误: 在类路径或引导类路径中找不到程序包 java.lang</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="-sourcepath和-classpath-cp">-sourcepath和-classpath（-cp）<a href="#-sourcepath和-classpath-cp" class="hash-link" aria-label="Direct link to -sourcepath和-classpath（-cp）" title="Direct link to -sourcepath和-classpath（-cp）">​</a></h4>
<p>•-classpath(-cp)指定你依赖的类的class文件的查找位置。在Linux中，用“:”分隔classpath，而在windows中，用“;”分隔。
•-sourcepath指定你依赖的类的java文件的查找位置。</p>
<p>举个例子，</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public class A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        B b = new B();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        b.print();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void print()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;old&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>目录结构如下：</p>
<p>sourcepath          //此处为当前目录</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">|-src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">　　　　|-com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">　　　　　　|- B.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">　　　　|- A.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">　　|-bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">　　　　|- B.class               //是 B.java</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>编译后的类文件</p>
<p>如果要编译 A.java，则必须要让编译器找到类B的位置，你可以指定B.class的位置，也可以是B.java的位置，也可以同时都存在。</p>
<p>javac -classpath bin src/A.java                            //查找到B.class</p>
<p>javac -sourcepath src/com src/A.java                   //查找到B.java</p>
<p>javac -sourcepath src/com -classpath bin src/A.java    //同时查找到B.class和B.java</p>
<p>如果同时找到了B.class和B.java，则：
•如果B.class和B.java内容一致，则遵循B.class。
•如果B.class和B.java内容不一致，则遵循B.java，并编译B.java。</p>
<p>以上规则可以通过 -verbose选项看出。</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="-d">-d<a href="#-d" class="hash-link" aria-label="Direct link to -d" title="Direct link to -d">​</a></h4>
<p>•d就是 destination，用于指定.class文件的生成目录，在eclipse中，源文件都在src中，编译的class文件都是在bin目录中。</p>
<p>这里我用来实现一下这个功能，假设项目名称为project，此目录为当前目录，且在src/com目录中有一个Main.java文件。‘</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">    package com;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public class Main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;Hello&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>javac -d bin src/com/Main.java</p>
<p>上面的语句将Main.class生成在bin/com目录下。</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="-implicitnoneclass"><code>-implicit:{none,class}</code><a href="#-implicitnoneclass" class="hash-link" aria-label="Direct link to -implicitnoneclass" title="Direct link to -implicitnoneclass">​</a></h4>
<p>•如果有文件为A.java（其中有类A），且在类A中使用了类B，类B在B.java中，则编译A.java时，默认会自动编译B.java，且生成B.class。
•implicit<!-- -->:none<!-- -->：不自动生成隐式引用的类文件。
•implicit<!-- -->:class<!-- -->（默认）：自动生成隐式引用的类文件。</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public class A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        B b = new B();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果使用：</p>
<p>javac -implicit<!-- -->:none<!-- --> A.java</p>
<p>则不会生成 B.class。</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="-source和-target">-source和-target<a href="#-source和-target" class="hash-link" aria-label="Direct link to -source和-target" title="Direct link to -source和-target">​</a></h4>
<p>•-source：使用指定版本的JDK编译，比如：-source 1.4表示用JDK1.4的标准编译，如果在源文件中使用了泛型，则用JDK1.4是不能编译通过的。
•-target：指定生成的class文件要运行在哪个JVM版本，以后实际运行的JVM版本必须要高于这个指定的版本。</p>
<p>javac -source 1.4 Xxx.java</p>
<p>javac -target 1.4 Xxx.java</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="-encoding">-encoding<a href="#-encoding" class="hash-link" aria-label="Direct link to -encoding" title="Direct link to -encoding">​</a></h4>
<p>默认会使用系统环境的编码，比如我们一般用的中文windows就是GBK编码，所以直接javac时会用GBK编码，而Java文件一般要使用utf-8，如果用GBK就会出现乱码。</p>
<p>•指定源文件的编码格式，如果源文件是UTF-8编码的，而-encoding GBK，则源文件就变成了乱码（特别是有中文时）。</p>
<p>javac -encoding UTF-8 Xxx.java</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="-verbose">-verbose<a href="#-verbose" class="hash-link" aria-label="Direct link to -verbose" title="Direct link to -verbose">​</a></h4>
<p>输出详细的编译信息，包括：classpath、加载的类文件信息。</p>
<p>比如，我写了一个最简单的HelloWorld程序，在命令行中输入：</p>
<p>D:\Java&gt;javac -verbose -encoding UTF-8 HelloWorld01.java</p>
<p>输出：</p>
<p>[语法分析开始时间 RegularFileObject[HelloWorld01.java]]
[语法分析已完成, 用时 21 毫秒]
[源文件的搜索路径: .,D:\大三下\编译原理\cup\java-cup-11a.jar,E:\java\jflex\lib\J           //-sourcepath
Flex.jar]
[类文件的搜索路径: C:\Java\jdk1.7.0_25\jre\lib\resources.jar,C:\Java\jdk1.7.0_25      //-classpath、-bootclasspath、-extdirs
省略............................................
[正在加载ZipFileIndexFileObject[C:\Java\jdk1.7.0_25\lib\ct.sym(META-INF/sym/rt.j
ar/java/lang/Object.class)]]
[正在加载ZipFileIndexFileObject[C:\Java\jdk1.7.0_25\lib\ct.sym(META-INF/sym/rt.j
ar/java/lang/String.class)]]
[正在检查Demo]
省略............................................
[已写入RegularFileObject[Demo.class]]
[共 447 毫秒]</p>
<p>编写一个程序时，比如写了一句：System.out.println(&quot;hello&quot;)，实际上还需要加载：Object、PrintStream、String等类文件，而上面就显示了加载的全部类文件。</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="其他命令">其他命令<a href="#其他命令" class="hash-link" aria-label="Direct link to 其他命令" title="Direct link to 其他命令">​</a></h4>
<p><code>-J &lt;标记&gt;</code>
•传递一些信息给 Java Launcher.</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    javac -J-Xms48m   Xxx.java          //set the startup memory to 48M.</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>-@&lt;文件名&gt;</code></p>
<blockquote>
<p>如果同时需要编译数量较多的源文件(比如1000个)，一个一个编译是不现实的（当然你可以直接 javac *.java ），比较好的方法是：将你想要编译的源文件名都写在一个文件中（比如sourcefiles.txt），其中每行写一个文件名，如下所示：</p>
<p>HelloWorld01.java
HelloWorld02.java
HelloWorld03.java</p>
</blockquote>
<p>则使用下面的命令：</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">javac @sourcefiles.txt</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>编译这三个源文件。</p>
<h2 class="anchor anchorWithStickyNavbar_HWLp" id="使用javac构建项目">使用javac构建项目<a href="#使用javac构建项目" class="hash-link" aria-label="Direct link to 使用javac构建项目" title="Direct link to 使用javac构建项目">​</a></h2>
<p>这部分参考：
<a href="https://blog.csdn.net/mingover/article/details/57083176" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/mingover/article/details/57083176</a></p>
<p>一个简单的javac编译</p>
<p>新建两个文件夹,src和 build
src/com/yp/test/HelloWorld.java
build/</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">├─build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └─com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └─yp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            └─test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    HelloWorld.java</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>java文件非常简单</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">    package com.yp.test;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public class HelloWorld {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;helloWorld&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>编译:
javac src/com/yp/test/HelloWorld.java -d build</p>
<p>-d 表示编译到 build文件夹下</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">查看build文件夹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│      └─yp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          └─test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  HelloWorld.class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └─com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └─yp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            └─test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    HelloWorld.java</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>运行文件</p>
<blockquote>
<p>E:\codeplace\n_learn\java\javacmd&gt; java com/yp/test/HelloWorld.class
错误: 找不到或无法加载主类 build.com.yp.test.HelloWorld.class</p>
<p>运行时要指定main
E:\codeplace\n_learn\java\javacmd\build&gt; java com.yp.test.HelloWorld
helloWorld</p>
</blockquote>
<p>如果引用到多个其他的类，应该怎么做呢 ？</p>
<blockquote>
<p>编译</p>
<p>E:\codeplace\n_learn\java\javacmd&gt;javac src/com/yp/test/HelloWorld.java -sourcepath src -d build -g
1
-sourcepath 表示 从指定的源文件目录中找到需要的.java文件并进行编译。
也可以用-cp指定编译好的class的路径
运行,注意:运行在build目录下</p>
<p>E:\codeplace\n_learn\java\javacmd\build&gt;java com.yp.test.HelloWorld</p>
</blockquote>
<p>怎么打成jar包?</p>
<blockquote>
<p>生成:
E:\codeplace\n_learn\java\javacmd\build&gt;jar cvf h.jar *
运行:
E:\codeplace\n_learn\java\javacmd\build&gt;java h.jar
错误: 找不到或无法加载主类 h.jar</p>
</blockquote>
<blockquote>
<p>这个错误是没有指定main类，所以类似这样来指定:
E:\codeplace\n_learn\java\javacmd\build&gt;java -cp h.jar com.yp.test.HelloWorld</p>
</blockquote>
<p>生成可以运行的jar包</p>
<p>需要指定jar包的应用程序入口点，用-e选项：</p>
<p>E:\codeplace\n_learn\java\javacmd\build&gt; jar cvfe h.jar com.yp.test.HelloWorld *
已添加清单
正在添加: com/(输入 = 0) (输出 = 0)(存储了 0%)
正在添加: com/yp/(输入 = 0) (输出 = 0)(存储了 0%)
正在添加: com/yp/test/(输入 = 0) (输出 = 0)(存储了 0%)
正在添加: com/yp/test/entity/(输入 = 0) (输出 = 0)(存储了 0%)
正在添加: com/yp/test/entity/Cat.class(输入 = 545) (输出 = 319)(压缩了 41%)
正在添加: com/yp/test/HelloWorld.class(输入 = 844) (输出 = 487)(压缩了 42%)</p>
<p>直接运行</p>
<p>java -jar h.jar</p>
<p>额外发现
指定了Main类后，jar包里面的 META-INF/MANIFEST.MF 是这样的， 比原来多了一行Main-Class….
Manifest-Version: 1.0
Created-By: 1.8.0 (Oracle Corporation)
Main-Class: com.yp.test.HelloWorld</p>
<p>如果类里有引用jar包呢?</p>
<p>先下一个jar包 这里直接下 log4j</p>
<ul>
<li>main函数改成</li>
</ul>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">import com.yp.test.entity.Cat;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.apache.log4j.Logger;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class HelloWorld {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static Logger log = Logger.getLogger(HelloWorld.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cat c = new Cat(&quot;keyboard&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log.info(&quot;这是log4j&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;hello,&quot; + c.getName());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>现的文件是这样的</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">├─build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│      log4j-1.2.17.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └─com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └─yp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            └─test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                │  HelloWorld.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                └─entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        Cat.java</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这个时候 javac命令要接上 -cp ./lib/<em>.jar
E:\codeplace\n_learn\java\javacmd&gt;javac -encoding &quot;utf8&quot; src/com/yp/test/HelloWorld.java -sourcepath src -d build -g -cp ./lib/</em>.jar</p>
<p>运行要加上-cp, -cp 选项貌似会把工作目录给换了， 所以要加上 ;../build
E:\codeplace\n_learn\java\javacmd\build&gt;java -cp ../lib/log4j-1.2.17.jar;../build com.yp.test.HelloWorld</p>
<p>结果:</p>
<p>log4j<!-- -->:WARN<!-- --> No appenders could be found for logger(com.yp.test.HelloWorld).
log4j<!-- -->:WARN<!-- --> Please initialize the log4j system properly.
log4j<!-- -->:WARN<!-- --> See <a href="http://logging.apache.org/log4j/1.2/faq.html#noconfig" target="_blank" rel="noopener noreferrer">http://logging.apache.org/log4j/1.2/faq.html#noconfig</a> for more info.
hello,keyboard</p>
<p>由于没有 log4j的配置文件，所以提示上面的问题,往 build 里面加上 log4j.xml</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;log4j:configuration xmlns:log4j=&#x27;http://jakarta.apache.org/log4j/&#x27;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;appender name=&quot;stdout&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{ABSOLUTE} %-5p [%c{1}] %m%n&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/layout&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/appender&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;root&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;level value=&quot;info&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;appender-ref ref=&quot;stdout&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/root&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/log4j:configuration&gt;</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>再运行</p>
<p>E:\codeplace\n_learn\java\javacmd&gt;java -cp lib/log4j-1.2.17.jar;build com.yp.tes t.HelloWorld
15:19:57,359 INFO  [HelloWorld] 这是log4j
hello,keyboard</p>
<p>说明:
这个log4j配置文件，习惯的做法是放在src目录下, 在编译过程中 copy到build中的,但根据ant的做法，不是用javac的，而是用来处理,我猜测javac是不能copy的，如果想在命令行直接 使用，应该是用cp命令主动去执行 copy操作</p>
<p>ok 一个简单的java 工程就运行完了
但是  貌似有些繁琐,  需要手动键入 java文件 以及相应的jar包 很是麻烦,
so 可以用 shell 来脚本来简化相关操作
shell 文件整理如下:</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">    #!/bin/bash  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;build start&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    JAR_PATH=libs  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BIN_PATH=bin  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SRC_PATH=src  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # java文件列表目录  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SRC_FILE_LIST_PATH=src/sources.list  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #生所有的java文件列表 放入列表文件中 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rm -f $SRC_PATH/sources  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    find $SRC_PATH/ -name *.java &gt; $SRC_FILE_LIST_PATH  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #删除旧的编译文件 生成bin目录  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rm -rf $BIN_PATH/  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mkdir $BIN_PATH/  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #生成依赖jar包 列表  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for file in  ${JAR_PATH}/*.jar;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    do  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    jarfile=${jarfile}:${file}  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    done  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;jarfile = &quot;$jarfile  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #编译 通过-cp指定所有的引用jar包，将src下的所有java文件进行编译</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    javac -d $BIN_PATH/ -cp $jarfile @$SRC_FILE_LIST_PATH  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #运行 通过-cp指定所有的引用jar包，指定入口函数运行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    java -cp $BIN_PATH$jarfile com.zuiapps.danmaku.server.Main  </span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>有一点需要注意的是,  javac -d $BIN_PATH/ -cp $jarfile @$SRC_FILE_LIST_PATH
在要编译的文件很多时候，一个个敲命令会显得很长，也不方便修改，</p>
</blockquote>
<blockquote>
<p>可以把要编译的源文件列在文件中，在文件名前加@，这样就可以对多个文件进行编译，</p>
</blockquote>
<blockquote>
<p>以上就是吧java文件放到 $SRC_FILE_LIST_PATH 中去了</p>
</blockquote>
<p>编译 :</p>
<ol>
<li>
<p>需要编译所有的java文件</p>
</li>
<li>
<p>依赖的java 包都需要加入到 classpath 中去</p>
</li>
<li>
<p>最后设置 编译后的 class 文件存放目录  即 -d bin/</p>
</li>
<li>
<p>java文件过多是可以使用  @$SRC_FILE_LIST_PATH 把他们放到一个文件中去
运行:
1.需要吧 编译时设置的bin目录和 所有jar包加入到 classpath 中去</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_HWLp" id="javap-的使用">javap 的使用<a href="#javap-的使用" class="hash-link" aria-label="Direct link to javap 的使用" title="Direct link to javap 的使用">​</a></h2>
<blockquote>
<p>javap是jdk自带的一个工具，可以对代码反编译，也可以查看java编译器生成的字节码。</p>
<p>情况下，很少有人使用javap对class文件进行反编译，因为有很多成熟的反编译工具可以使用，比如jad。但是，javap还可以查看java编译器为我们生成的字节码。通过它，可以对照源代码和字节码，从而了解很多编译器内部的工作。</p>
<p>javap命令分解一个class文件，它根据options来决定到底输出什么。如果没有使用options,那么javap将会输出包，类里的protected和public域以及类里的所有方法。javap将会把它们输出在标准输出上。来看这个例子，先编译(javac)下面这个类 。</p>
</blockquote>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">import java.awt.*;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.applet.*;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class DocFooter extends Applet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String date;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String email;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void init() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                resize(500,100);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                date = getParameter(&quot;LAST_UPDATED&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                email = getParameter(&quot;EMAIL&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在命令行上键入javap DocFooter后，输出结果如下</p>
<p>Compiled from &quot;DocFooter.java&quot;</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public class DocFooter extends java.applet.Applet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  java.lang.String date;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  java.lang.String email;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public DocFooter();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果加入了-c，即javap -c DocFooter，那么输出结果如下</p>
<p>Compiled from &quot;DocFooter.java&quot;</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">    public class DocFooter extends java.applet.Applet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      java.lang.String date;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      java.lang.String email;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      public DocFooter();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Code:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           0: aload_0       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           1: invokespecial #1                  // Method java/applet/Applet.&quot;&lt;init&gt;&quot;:()V</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           4: return       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      public void init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Code:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           0: aload_0       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           1: sipush        500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           4: bipush        100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           6: invokevirtual #2                  // Method resize:(II)V</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           9: aload_0       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          10: aload_0       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          11: ldc           #3                  // String LAST_UPDATED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          13: invokevirtual #4                  // Method getParameter:(Ljava/lang/String;)Ljava/lang/String;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          16: putfield      #5                  // Field date:Ljava/lang/String;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          19: aload_0       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          20: aload_0       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          21: ldc           #6                  // String EMAIL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          23: invokevirtual #4                  // Method getParameter:(Ljava/lang/String;)Ljava/lang/String;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          26: putfield      #7                  // Field email:Ljava/lang/String;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          29: return       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>上面输出的内容就是字节码。</p>
<p>用法摘要</p>
<p>-help 帮助
-l 输出行和变量的表
-public 只输出public方法和域
-protected 只输出public和protected类和成员
-package 只输出包，public和protected类和成员，这是默认的
-p -private 输出所有类和成员
-s 输出内部类型签名
-c 输出分解后的代码，例如，类中每一个方法内，包含java字节码的指令，
-verbose 输出栈大小，方法参数的个数
-constants 输出静态final常量
总结</p>
<p>javap可以用于反编译和查看编译器编译后的字节码。平时一般用javap -c比较多，该命令用于列出每个方法所执行的JVM指令，并显示每个方法的字节码的实际作用。可以通过字节码和源代码的对比，深入分析java的编译原理，了解和解决各种Java原理级别的问题。</p>
<h2 class="anchor anchorWithStickyNavbar_HWLp" id="参考文章">参考文章<a href="#参考文章" class="hash-link" aria-label="Direct link to 参考文章" title="Direct link to 参考文章">​</a></h2>
<p><a href="https://blog.csdn.net/Anbernet/article/details/81449390" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/Anbernet/article/details/81449390</a>
<a href="https://www.cnblogs.com/luobiao320/p/7975442.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/luobiao320/p/7975442.html</a>
<a href="https://www.jianshu.com/p/f7330dbdc051" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/f7330dbdc051</a>
<a href="https://www.jianshu.com/p/6a8997560b05" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/6a8997560b05</a>
<a href="https://blog.csdn.net/w372426096/article/details/81664431" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/w372426096/article/details/81664431</a>
<a href="https://blog.csdn.net/qincidong/article/details/82492140" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qincidong/article/details/82492140</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Java/basic/javac和javap.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_EYjg" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_eevz"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/code-note-blog/docs/Java/basic/Java自动拆箱装箱里隐藏的秘密"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Java自动拆箱装箱里隐藏的秘密</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/code-note-blog/docs/Java/basic/JavaIO流"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">JavaIO流</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_lc2k thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#聊聊ide的实现原理" class="table-of-contents__link toc-highlight">聊聊IDE的实现原理</a><ul><li><a href="#源代码保存" class="table-of-contents__link toc-highlight">源代码保存</a></li><li><a href="#编译为class文件" class="table-of-contents__link toc-highlight">编译为class文件</a></li><li><a href="#查找class" class="table-of-contents__link toc-highlight">查找class</a></li><li><a href="#生成对象并调用对象方法" class="table-of-contents__link toc-highlight">生成对象，并调用对象方法</a></li></ul></li><li><a href="#javac命令初窥" class="table-of-contents__link toc-highlight">javac命令初窥</a><ul><li><a href="#classpath是什么" class="table-of-contents__link toc-highlight">classpath是什么</a></li><li><a href="#javac命令后缀" class="table-of-contents__link toc-highlight">javac命令后缀</a></li></ul></li><li><a href="#使用javac构建项目" class="table-of-contents__link toc-highlight">使用javac构建项目</a></li><li><a href="#javap-的使用" class="table-of-contents__link toc-highlight">javap 的使用</a></li><li><a href="#参考文章" class="table-of-contents__link toc-highlight">参考文章</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/code-note-blog/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/code-note-blog/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>