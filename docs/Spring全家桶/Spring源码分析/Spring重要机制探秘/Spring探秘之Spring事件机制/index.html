<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Spring全家桶/Spring源码分析/Spring重要机制探秘/Spring探秘之Spring事件机制" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Spring探秘之Spring事件机制 | Tommy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aiden-coding.github.io/code-note-blog/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://aiden-coding.github.io/code-note-blog/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://aiden-coding.github.io/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/Spring探秘之Spring事件机制"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Spring探秘之Spring事件机制 | Tommy"><meta data-rh="true" name="description" content="1\. demo ׼��"><meta data-rh="true" property="og:description" content="1\. demo ׼��"><link data-rh="true" rel="icon" href="/code-note-blog/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aiden-coding.github.io/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/Spring探秘之Spring事件机制"><link data-rh="true" rel="alternate" href="https://aiden-coding.github.io/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/Spring探秘之Spring事件机制" hreflang="en"><link data-rh="true" rel="alternate" href="https://aiden-coding.github.io/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/Spring探秘之Spring事件机制" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/code-note-blog/blog/rss.xml" title="Tommy RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/code-note-blog/blog/atom.xml" title="Tommy Atom Feed"><link rel="stylesheet" href="/code-note-blog/assets/css/styles.dd5372db.css">
<script src="/code-note-blog/assets/js/runtime~main.f999fb27.js" defer="defer"></script>
<script src="/code-note-blog/assets/js/main.a0bfbaed.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_XYiV" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/code-note-blog/"><b class="navbar__title text--truncate">Tommy</b></a><a class="navbar__item navbar__link" href="/code-note-blog/docs/Java/basic/抽象类和接口">java</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/JavaWeb/走进JavaWeb技术世界：JavaWeb的由来和基础知识">javaweb</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/cache/探索Redis设计与实现：连接底层与表面的数据结构robj">cache</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/backend/后端技术杂谈：白话虚拟化技术">backend</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/cs/algorithms/剑指offer">cs</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/database/重新学习MySQL数据库：『浅入浅出』MySQL和InnoDB">database</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/distributed/basic/分布式系统理论基础 ：CAP">distributed</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/interview/BATJ-Experience/面阿里,终获offer">interview</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/mq/kafka/消息队列kafka详解：如何实现死信队列">mq</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/code-note-blog/docs/Spring全家桶/Spring/第一个Spring应用">spring</a><a class="navbar__item navbar__link" href="/code-note-blog/docs/mianshi/collection">面试</a><a href="https://aiden-coding.github.io/code-note-blog/SpringCloud%E7%AC%AC3%E5%AD%A32024.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_XbAW colorModeToggle_r5NY"><button class="clean-btn toggleButton_Jx0n toggleButtonDisabled_zYO7" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_FjAw"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_qmEt"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_wJfS"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_LABv"><div class="docsWrapper_pdvB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Jioa" type="button"></button><div class="docRoot_qx_v"><aside class="theme-doc-sidebar-container docSidebarContainer_NHKT"><div class="sidebarViewport_uyYB"><div class="sidebar_SZG4"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_VP_k"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Spring全家桶/Spring/第一个Spring应用">Spring</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring源码剖析：初探SpringIOC核心流程">Spring源码分析</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring源码剖析：初探SpringIOC核心流程">Spring源码剖析：初探SpringIOC核心流程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring源码剖析：懒加载的单例Bean获取过程分析">Spring源码剖析：懒加载的单例Bean获取过程分析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring源码剖析：AOP实现原理详解">Spring源码剖析：AOP实现原理详解</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring源码剖析：JDK和cglib动态代理原理详解">Spring源码剖析：JDK和cglib动态代理原理详解</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring源码剖析：Spring事务概述">Spring源码剖析：Spring事务概述</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring源码剖析：Spring事务源码剖析">Spring源码剖析：Spring事务源码剖析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring源码剖析：SpringAOP概述">Spring源码剖析：SpringAOP概述</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring源码剖析：SpringIOC容器的加载过程">Spring源码剖析：SpringIOC容器的加载过程</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring启动流程/Spring启动流程（八）：完成BeanFactory的初始化">Spring启动流程</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring事务/Spring事务（二）：事务的执行流程">Spring事务</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/ConfigurationClassPostProcessor（二）：处理@Bean注解">Spring重要机制探秘</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/ConfigurationClassPostProcessor（二）：处理@Bean注解">ConfigurationClassPostProcessor（二）：处理@Bean注解</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/ConfigurationClassPostProcessor（三）：处理@Import注解">ConfigurationClassPostProcessor（三）：处理@Import注解</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/ConfigurationClassPostProcessor（四）：处理@Conditional注解">ConfigurationClassPostProcessor（四）：处理@Conditional注解</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/ConfigurationClassPostProcessor（一）：处理@ComponentScan注解">ConfigurationClassPostProcessor（一）：处理@ComponentScan注解</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/Spring探秘之监听器注解EventListener">Spring探秘之监听器注解EventListener</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/Spring探秘之循环依赖的解决（二）：源码分析">Spring探秘之循环依赖的解决（二）：源码分析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/Spring探秘之循环依赖的解决（一）：理论基石">Spring探秘之循环依赖的解决（一）：理论基石</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/Spring探秘之组合注解的处理">Spring探秘之组合注解的处理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/Spring探秘之AOP的执行顺序">Spring探秘之AOP的执行顺序</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/Spring探秘之Spring事件机制">Spring探秘之Spring事件机制</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring组件分析/Spring组件之ApplicationContext">Spring组件分析</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/SpringAOP/AnnotationAwareAspectJAutoProxyCreator分析（上）">SpringAOP</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Spring全家桶/SpringBoot/给你一份SpringBoot知识清单">SpringBoot</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Spring全家桶/SpringBoot源码解析/SpringBoot启动流程（四）：启动IOC容器">SpringBoot源码解析</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Spring全家桶/SpringCloud/SpringCloudConsul">SpringCloud</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Spring全家桶/SpringCloud源码分析/SpringCloudConfig源码分析">SpringCloud源码分析</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Spring全家桶/SpringCloudAlibaba/SpringCloudAlibaba概览">SpringCloudAlibaba</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Spring全家桶/SpringCloudAlibaba源码分析/SpringCloudAlibabaNacos源码分析：服务发现">SpringCloudAlibaba源码分析</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Spring全家桶/SpringMVC/SpringMVC常见注解">SpringMVC</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/code-note-blog/docs/Spring全家桶/SpringMVC源码分析/请求执行流程（二）之执行Handler方法">SpringMVC源码分析</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_SejT"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_j3Yw"><div class="docItemContainer_XOSC"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_F6gm" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/code-note-blog/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YCxa"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Spring源码分析</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Spring重要机制探秘</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Spring探秘之Spring事件机制</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ToOY theme-doc-toc-mobile tocMobile_suYB"><button type="button" class="clean-btn tocCollapsibleButton_VzP_">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Spring探秘之Spring事件机制</h1></header><h3 class="anchor anchorWithStickyNavbar_HWLp" id="1-demo-">1. demo ׼��<a href="#1-demo-" class="hash-link" aria-label="Direct link to 1. demo ׼��" title="Direct link to 1. demo ׼��">​</a></h3>
<p>����ʽ�����¼�����ǰ����������׼��һ�� demo��</p>
<ol>
<li>׼��һ���¼��� <code>MyApplicationEvent</code>��</li>
</ol>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public class MyApplicationEvent extends ApplicationEvent {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static final long serialVersionUID = -1L;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public MyApplicationEvent(Object source) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        super(source);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>׼��һ�������� <code>MyApplicationEventListener</code>�����¼� <code>MyApplicationEvent</code> ���м�����</li>
</ol>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">@Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyApplicationEventListener </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        implements ApplicationListener&lt;MyApplicationEvent&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onApplicationEvent(MyApplicationEvent event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(Thread.currentThread().getName() + &quot; | &quot; + event.getSource());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>׼��һ�������࣬�Ȳ�ָ�����ݣ�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">@Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ComponentScan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Demo08Config {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>��������ࣺ</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">@ComponentScan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Demo08Main {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AnnotationConfigApplicationContext context </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            = new AnnotationConfigApplicationContext(Demo08Config.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // �����¼�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        context.publishEvent(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new MyApplicationEvent(Thread.currentThread().getName() + &quot; | �Զ����¼� ...&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>���ϴ��붨����һ���¼� <code>MyApplicationEvent</code>��Ȼ������һ�������� <code>MyApplicationEventListener</code>���������� <code>MyApplicationEvent</code> �¼���Ȼ���� <code>main()</code> �����У����� <code>context.publishEvent(...)</code> �������������¼���</p>
<p>���У�������£�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">main | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>���Կ������¼��ɹ��������ˡ�</p>
<p>�����п�֪���¼��ķ����߳�Ϊ <code>main</code>���¼��ļ��������߳�Ҳ�� <code>main</code>��</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="2-">2. �¼��������<a href="#2-" class="hash-link" aria-label="Direct link to 2. �¼��������" title="Direct link to 2. �¼��������">​</a></h3>
<p>��ʽ����ǰ�����������������¼���ص�������¼���ص������ 4 ����</p>
<ol>
<li>�¼�������������</li>
<li>�����������������¼������</li>
<li>�㲥�������շ������������¼����������յ����¼��㲥��������</li>
<li>�������������¼�</li>
</ol>
<p>��������һһ��������</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="21-">2.1 �¼�<a href="#21-" class="hash-link" aria-label="Direct link to 2.1 �¼�" title="Direct link to 2.1 �¼�">​</a></h4>
<p>spring �ṩ���¼�Ϊ <code>ApplicationEvent</code>������һ�������࣬�̳��� jdk �ṩ�� <code>EventObject</code> �࣬�����Զ����¼�ʱ���ɼ̳� <code>ApplicationEvent</code>��</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public abstract class ApplicationEvent extends EventObject {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static final long serialVersionUID = 7099057708183571937L;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /** ���� timestamp ����*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final long timestamp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ApplicationEvent(Object source) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        super(source);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.timestamp = System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public final long getTimestamp() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return this.timestamp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>ApplicationEvent</code> �� <code>EventObject</code>�����Ǽ�����</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * EventObject ��jdk�ṩ��λ�� java.util ����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class EventObject implements java.io.Serializable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static final long serialVersionUID = 5516075349620653480L;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // �¼�����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected transient Object  source;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public EventObject(Object source) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (source == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new IllegalArgumentException(&quot;null source&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.source = source;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * ��ȡ�¼�����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Object getSource() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return source;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String toString() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return getClass().getName() + &quot;[source=&quot; + source + &quot;]&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>��� <code>ApplicationEvent</code> �� <code>EventObject</code> ������<code>ApplicationEvent</code> �ṩ���������ԣ�</p>
<ul>
<li><code>source</code>������ <code>EventObject</code> �����ԣ��������¼������ݣ�</li>
<li><code>timestamp</code>: ʱ�����������¼���¼�������ʱ�䡣</li>
</ul>
<p>ʵ���ϣ�spring �����ܷ��� <code>ApplicationEvent</code> ���͵��¼��⣬�����Է��� <code>Object</code> ���͵��¼���������鿴�������Ϳ��Է� ����һ�㡣</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="22-">2.2 ������<a href="#22-" class="hash-link" aria-label="Direct link to 2.2 ������" title="Direct link to 2.2 ������">​</a></h4>
<p>spring �ṩ�ķ�����Ϊ <code>ApplicationEventPublisher</code>���������£�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public interface ApplicationEventPublisher {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * ����ApplicationEvent���͵��¼�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    default void publishEvent(ApplicationEvent event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        publishEvent((Object) event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * ����Object���͵��¼�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void publishEvent(Object event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>���Ǹ��ӿڣ����ڶ���������������</p>
<ul>
<li><code>void publishEvent(ApplicationEvent event)</code>: �������� <code>ApplicationEvent</code> ���͵��¼�</li>
<li><code>void publishEvent(Object event)</code>: �������� <code>Object</code> ���͵��¼�</li>
</ul>
<p><code>AbstractApplicationContext</code> �� <code>ApplicationEventPublisher</code> �����࣬������ǿ���ֱ�ӵ��� <code>AbstractApplicationContext#publishEvent</code> �������¼���</p>
<p>���� <code>AbstractApplicationContext</code> ������������  ��ʵ�֣����Ǻ��������������ʱ�پ��������</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="23-㲥">2.3 �㲥��<a href="#23-㲥" class="hash-link" aria-label="Direct link to 2.3 �㲥��" title="Direct link to 2.3 �㲥��">​</a></h4>
<p>�㲥���������ǽ��շ������¼���Ȼ���¼��㲥�����������������£�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public interface ApplicationEventMulticaster {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * ���Ӽ�����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void addApplicationListener(ApplicationListener&lt;?&gt; listener);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * ���Ӽ������� beanName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void addApplicationListenerBean(String listenerBeanName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * �Ƴ�������</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void removeApplicationListener(ApplicationListener&lt;?&gt; listener);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * �Ƴ��������� beanName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void removeApplicationListenerBean(String listenerBeanName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * �Ƴ����еļ�����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void removeAllListeners();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * �㲥�¼�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void multicastEvent(ApplicationEvent event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * �㲥�¼�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void multicastEvent(ApplicationEvent event, @Nullable ResolvableType eventType);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>�Ӵ������������㲥����Ҫ�������� ����</p>
<ol>
<li>ά�������������ԶԼ�����������ɾ����</li>
<li>�㲥�¼�</li>
</ol>
<p>spring Ĭ�ϵĹ㲥��Ϊ <code>SimpleApplicationEventMulticaster</code>��������Ǻ�����ٷ�����</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="24-">2.4 ������<a href="#24-" class="hash-link" aria-label="Direct link to 2.4 ������" title="Direct link to 2.4 ������">​</a></h4>
<p>���������������������¼���Ȼ����һЩ�����������������£�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">@FunctionalInterface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface ApplicationListener&lt;E extends ApplicationEvent&gt; extends EventListener {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * �����¼�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void onApplicationEvent(E event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>�ڴ����¼�����ʱ��������Ҫʵ�� <code>ApplicationListener</code>��Ȼ���� <code>onApplicationEvent(...)</code> �����б�д���ǵ��¼������߼���</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="3-عˣ㲥ĳʼע">3. �عˣ�<code>�㲥���ĳ�ʼ��</code>��<code>��������ע��</code><a href="#3-عˣ㲥ĳʼע" class="hash-link" aria-label="Direct link to 3-عˣ㲥ĳʼע" title="Direct link to 3-عˣ㲥ĳʼע">​</a></h3>
<p>�����������ع���<code>�¼��㲥���ĳ�ʼ��</code>��<code>��������ע��</code>�����̡�</p>
<p>�ڴ��� spring ���������� <code>AbstractApplicationContext#refresh</code> �����У�<code>�¼��㲥���ĳ�ʼ��</code>��<code>��������ע��</code>�ֱ����ڵ� 8 ����� 10 ����</p>
<p><img loading="lazy" src="https://java-tutorial.oss-cn-shanghai.aliyuncs.com/up-c4d4ac83c23e41a706b7ba545fd8d0f7681.png" alt="" class="img_kGBN"></p>
<p>��ش������£�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public abstract class AbstractApplicationContext extends DefaultResourceLoader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        implements ConfigurableApplicationContext {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * ��ʼ���㲥��</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * ������������¼��㲥������ʹ�������õģ������ʹ��Ĭ�ϵ��¼��㲥��</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected void initApplicationEventMulticaster() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigurableListableBeanFactory beanFactory = getBeanFactory();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ����û��������Զ����¼��㲥������ʹ���û���</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (beanFactory.containsLocalBean(APPLICATION_EVENT_MULTICASTER_BEAN_NAME)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.applicationEventMulticaster =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    beanFactory.getBean(APPLICATION_EVENT_MULTICASTER_BEAN_NAME, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            ApplicationEventMulticaster.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // �û�û�����ù㲥������ʹ��Ĭ�ϵ��¼��㲥��</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.applicationEventMulticaster = new SimpleApplicationEventMulticaster(beanFactory);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            beanFactory.registerSingleton(APPLICATION_EVENT_MULTICASTER_BEAN_NAME, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    this.applicationEventMulticaster);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * ע�������</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected void registerListeners() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 1\. �Ƚ��ֶ����ӵļ������ŵ��㲥����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ����AbstractApplicationContext#addApplicationListener��������</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (ApplicationListener&lt;?&gt; listener : getApplicationListeners()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            getApplicationEventMulticaster().addApplicationListener(listener);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 2\. ��beanFactory�л�ȡȡ�����������ƣ����ӵ��㲥����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String[] listenerBeanNames = getBeanNamesForType(ApplicationListener.class, true, false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (String listenerBeanName : listenerBeanNames) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            getApplicationEventMulticaster().addApplicationListenerBean(listenerBeanName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 3\. �����������Ӧ���¼�������</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Set&lt;ApplicationEvent&gt; earlyEventsToProcess = this.earlyApplicationEvents;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // �� earlyApplicationEvents ����Ϊ null���ٷ��������¼�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.earlyApplicationEvents = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (earlyEventsToProcess != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for (ApplicationEvent earlyEvent : earlyEventsToProcess) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                getApplicationEventMulticaster().multicastEvent(earlyEvent);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>�㲥���ĳ�ʼ���߼��ܼ򵥣���������������¼��㲥������ʹ�������õģ������ʹ��Ĭ�ϵ��¼��㲥����Ĭ�ϵ��¼��㲥���� <code>SimpleApplicationEventMulticaster</code>��</p>
<p>ע����������������£�</p>
<ol>
<li>�Ƚ��ֶ����ӵļ������ŵ��㲥���У����ǿ��Ե��� <code>AbstractApplicationContext#addApplicationListener</code> ���Ӽ�������</li>
<li>�� <code>beanFactory</code> �л�ȡȡ�����������ƣ����ӵ��㲥���У�ע�⣺��ʱ <code>beanFactory</code> �е� bean ��û�г�ʼ�������ֻ������ <code>beanName</code>;</li>
<li>������������¼����ͷ��������¼���</li>
</ol>
<p>�ع������������̺����Ǵ�������Ҫ����������������㣺</p>
<ol>
<li>�㲥�����������ʼ����</li>
<li>��������������ע�ᵽ�㲥���е�</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="4-">4. �¼���������<a href="#4-" class="hash-link" aria-label="Direct link to 4. �¼���������" title="Direct link to 4. �¼���������">​</a></h3>
<p>����ǰ�����ڵ��̵棬���Ƕ��¼�������Ѿ����˸���ŵĸ��Ҳ�������¼��㲥���ĳ�ʼ�����������ע�  ����̣������� ���Ǿ���ʽ�����¼��ķ��������ˡ�</p>
<p>�� demo �У����ǵ��� <code>context.publishEvent(...)</code> �������¼������Ǹ������������</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public abstract class AbstractApplicationContext extends DefaultResourceLoader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        implements ConfigurableApplicationContext {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void publishEvent(ApplicationEvent event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        publishEvent(event, null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected void publishEvent(Object event, @Nullable ResolvableType eventType) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Assert.notNull(event, &quot;Event must not be null&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // � ����¼�����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ApplicationEvent applicationEvent;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (event instanceof ApplicationEvent) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            applicationEvent = (ApplicationEvent) event;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            applicationEvent = new PayloadApplicationEvent&lt;&gt;(this, event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (eventType == null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                eventType = ((PayloadApplicationEvent&lt;?&gt;) applicationEvent).getResolvableType();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // earlyApplicationEvents ��Ϊ null����applicationEvent���ӵ� earlyApplicationEvents</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ��ע��������󣬻�� earlyApplicationEvents ����Ϊ null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (this.earlyApplicationEvents != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.earlyApplicationEvents.add(applicationEvent);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // �����Ƿ����¼��Ĳ���</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            getApplicationEventMulticaster().multicastEvent(applicationEvent, eventType);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ���ڸ�������һ������</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (this.parent != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (this.parent instanceof AbstractApplicationContext) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ((AbstractApplicationContext) this.parent).publishEvent(event, eventType);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                this.parent.publishEvent(event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>��������ܼ򵥣��ؼ�����Ϊ</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">// �����Ƿ����¼��Ĳ���</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">getApplicationEventMulticaster().multicastEvent(applicationEvent, eventType);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>���д����Ȼ�ȡ���¼��㲥����Ȼ��㲥�¼���</p>
<p>ǰ���ᵽ��spring �ṩ��Ĭ�ϵ��¼��㲥���� <code>SimpleApplicationEventMulticaster</code>�����ǽ��� <code>SimpleApplicationEventMulticaster#multicastEvent(ApplicationEvent, ResolvableType)</code> �������¼��Ĺ㲥���̣�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * �㲥�¼�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void multicastEvent(final ApplicationEvent event, @Nullable ResolvableType eventType) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ResolvableType type = (eventType != null ? eventType : resolveDefaultEventType(event));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 1\. ��ȡ TaskExecutor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Executor executor = getTaskExecutor();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 2\. getApplicationListeners(...) ��ȡ�ܼ������¼��ļ�����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (ApplicationListener&lt;?&gt; listener : getApplicationListeners(event, type)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 3\. ��������������һ���� invokeListener(...) ����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (executor != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            executor.execute(() -&gt; invokeListener(listener, event));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            invokeListener(listener, event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>���Ϸ������� 3 ��������</p>
<ol>
<li>��ȡִ������<code>getTaskExecutor()</code></li>
<li>��ȡ�¼��ļ�������<code>getApplicationListeners(...)</code></li>
<li>���ü������ļ���������<code>invokeListener(...)</code></li>
</ol>
<p>���ϲ����������¼��㲥���������̣������������ú÷����¡�</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="1-ȡִgettaskexecutor">1. ��ȡִ������<code>getTaskExecutor()</code><a href="#1-ȡִgettaskexecutor" class="hash-link" aria-label="Direct link to 1-ȡִgettaskexecutor" title="Direct link to 1-ȡִgettaskexecutor">​</a></h4>
<p><code>taskExecutor</code> �� <code>SimpleApplicationEventMulticaster</code> ��һ�����ԣ�<code>getTaskExecutor()</code> �� <code>taskExecutor</code> �� <code>getter</code> ������</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">    private Executor taskExecutor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void setTaskExecutor(@Nullable Executor taskExecutor) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.taskExecutor = taskExecutor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Nullable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected Executor getTaskExecutor() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return this.taskExecutor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>spring Ϊ�����ṩ���������͵� <code>taskExecutor</code>��</p>
<ol>
<li>
<p><code>SyncTaskExecutor</code>��ͬ���� <code>taskExecutor</code>���� <code>execute(...)</code> ����Ϊ��</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain"> @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> public void execute(Runnable task) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     Assert.notNull(task, &quot;Runnable must not be null&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     task.run();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>���Կ�������ȷʵ�Ǹ�ͬ��������ֱ�ӵ��� <code>Runnable#run</code> ��������û�������µ��߳�</p>
</li>
<li>
<p><code>SimpleAsyncTaskExecutor</code>���첽�� <code>taskExecutor</code>���� <code>execute(...)</code> ����Ϊ��</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> public void execute(Runnable task, long startTimeout) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     Assert.notNull(task, &quot;Runnable must not be null&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     Runnable taskToUse = (this.taskDecorator != null </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             ? this.taskDecorator.decorate(task) : task);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     // doExecute(...) ���������ɻ�ķ���</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     if (isThrottleActive() &amp;&amp; startTimeout &gt; TIMEOUT_IMMEDIATE) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         this.concurrencyThrottle.beforeAccess();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         doExecute(new ConcurrencyThrottlingRunnable(taskToUse));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         doExecute(taskToUse);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  * �����ɻ�ķ���</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  * �Ӵ�����������������ᴴ���´�����ִ�����񣬵���û��ʹ���̳߳�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> protected void doExecute(Runnable task) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     // ���Կ��������ﴴ�����̣߳������������߳�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     Thread thread = (this.threadFactory != null </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             ? this.threadFactory.newThread(task) : createThread(task));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     thread.start();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>���Կ����� <code>SimpleAsyncTaskExecutor</code> �У��ᴴ���µ��߳���ִ������</p>
</li>
</ol>
<p>�����ܲ��ܻ�ȡ��ִ���� �أ�ͨ�����Է��֣�ִ�����Ļ�ȡ���Ϊ <code>null</code>��</p>
<p><img loading="lazy" src="https://java-tutorial.oss-cn-shanghai.aliyuncs.com/up-2e6ba6389e603a6373287dac26a89a24109.png" alt="" class="img_kGBN"></p>
<p>���������ִ�� <code>invokeListener(...)</code> ����ʱ����ֱ�ӵ��õģ�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            invokeListener(listener, event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="2-ȡļgetapplicationlisteners">2. ��ȡ�¼�  �ļ�������<code>getApplicationListeners(...)</code><a href="#2-ȡļgetapplicationlisteners" class="hash-link" aria-label="Direct link to 2-ȡļgetapplicationlisteners" title="Direct link to 2-ȡļgetapplicationlisteners">​</a></h4>
<p>׼����˵�������ȡ�����ܼ��������¼��ļ�����������Ϊ <code>AbstractApplicationEventMulticaster#getApplicationListeners(ApplicationEvent, ResolvableType)</code>��</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ����������������裺</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 1\. �ӻ����л�ȡ���ܻ�ȡ����ֱ�ӷ���</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 2\. ���ܴӻ����л�ȡ������ retrieveApplicationListeners(...) ������ȡ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">protected Collection&lt;ApplicationListener&lt;?&gt;&gt; getApplicationListeners(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ApplicationEvent event, ResolvableType eventType) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Object source = event.getSource();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Class&lt;?&gt; sourceType = (source != null ? source.getClass() : null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ListenerCacheKey cacheKey = new ListenerCacheKey(eventType, sourceType);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 1\. �ӻ����л�ȡ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ListenerRetriever retriever = this.retrieverCache.get(cacheKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (retriever != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return retriever.getApplicationListeners();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (this.beanClassLoader == null ||</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            (ClassUtils.isCacheSafe(event.getClass(), this.beanClassLoader) &amp;&amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            (sourceType == null || ClassUtils.isCacheSafe(sourceType, this.beanClassLoader)))) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synchronized (this.retrievalMutex) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            retriever = this.retrieverCache.get(cacheKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (retriever != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return retriever.getApplicationListeners();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            retriever = new ListenerRetriever(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 2\. ��ȡ������������ǹؼ�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Collection&lt;ApplicationListener&lt;?&gt;&gt; listeners =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    retrieveApplicationListeners(eventType, sourceType, retriever);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.retrieverCache.put(cacheKey, retriever);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return listeners;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return retrieveApplicationListeners(eventType, sourceType, null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>����������ų������ؼ�������������</p>
<ol>
<li>�ӻ����л�ȡ���ܻ�ȡ����ֱ�ӷ���</li>
<li>���ܴӻ����л�ȡ������ <code>retrieveApplicationListeners(...)</code> ������ȡ</li>
</ol>
<p>���Ǽ������� <code>retrieveApplicationListeners(...)</code>��</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ������������ȡ������</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private Collection&lt;ApplicationListener&lt;?&gt;&gt; retrieveApplicationListeners(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ResolvableType eventType, @Nullable Class&lt;?&gt; sourceType, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Nullable ListenerRetriever retriever) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    List&lt;ApplicationListener&lt;?&gt;&gt; allListeners = new ArrayList&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Set&lt;ApplicationListener&lt;?&gt;&gt; listeners;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Set&lt;String&gt; listenerBeans;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    synchronized (this.retrievalMutex) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        listeners = new LinkedHashSet&lt;&gt;(this.defaultRetriever.applicationListeners);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        listenerBeans = new LinkedHashSet&lt;&gt;(this.defaultRetriever.applicationListenerBeans);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // �� listeners �л�ȡ�ܴ�����ǰ�¼��� lister</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (ApplicationListener&lt;?&gt; listener : listeners) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // �������жϵ�ǰlistener�Ƿ�֧�ִ���event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (supportsEvent(listener, eventType, sourceType)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (retriever != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                retriever.applicationListeners.add(listener);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            allListeners.add(listener);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // �� listenerBeans �л�ȡ�ܴ�����ǰ�¼��� lister</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!listenerBeans.isEmpty()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigurableBeanFactory beanFactory = getBeanFactory();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (String listenerBeanName : listenerBeans) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // �����жϵ�ǰ listenerBeanName �Ƿ��ܼ��������¼�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (supportsEvent(beanFactory, listenerBeanName, eventType)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // �������л�ȡ��Ӧ��bean�����������¼����������������ǰ��ʼ��</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ApplicationListener&lt;?&gt; listener = beanFactory.getBean(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            listenerBeanName, ApplicationListener.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (!allListeners.contains(listener) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &amp;&amp; supportsEvent(listener, eventType, sourceType)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        if (retriever != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            // ע�ⵥ����ǵ���������</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            if (beanFactory.isSingleton(listenerBeanName)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                retriever.applicationListeners.add(listener);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                retriever.applicationListenerBeans.add(listenerBeanName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        allListeners.add(listener);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Object listener = beanFactory.getSingleton(listenerBeanName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (retriever != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        retriever.applicationListeners.remove(listener);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    allListeners.remove(listener);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            catch (NoSuchBeanDefinitionException ex) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AnnotationAwareOrderComparator.sort(allListeners);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (retriever != null &amp;&amp; retriever.applicationListenerBeans.isEmpty()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        retriever.applicationListeners.clear();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        retriever.applicationListeners.addAll(allListeners);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return allListeners;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>�� <code>AbstractApplicationContext#registerListeners</code> �����У�������ע�������ʱ ��ע�����������������</p>
<ol>
<li>ע���ֶ����ӵļ�������������һ����ʵ����</li>
<li>�������л�ȡ�������� beanName������ע�᣻</li>
</ol>
<p><code>retrieveApplicationListeners()</code> �г��ֵ� <code>listeners</code> �� <code>listenerBeans</code> ���Ǵ������������͵ļ������ġ�</p>
<p>���Ϸ�����Ȼ�е㳤�����߼��ǳ�������</p>
<ol>
<li>���� <code>listeners</code>����һ���� <code>supportsEvent(listener, eventType, sourceType)</code> ���жϵ�ǰ listener �ܷ���������¼���</li>
<li>���� <code>listenerBeans</code>����һ���� <code>supportsEvent(beanFactory, listenerBeanName, eventType)</code> ���жϵ�ǰ listener �ܷ���������¼���</li>
</ol>
<p>���������������Ĵ����Ƚϸ��ӣ�����Ͳ�һһ���з����ˣ�������������Ĵ���˼·��</p>
<ol>
<li>
<p>�Ӵ���� <code>listener</code> �� <code>listenerBeanName</code> ��ȡ <code>listener</code> �� Class��<code>listener</code> ֻ�� <code>listener.getClass()</code> ���ɣ�<code>listenerBeanName</code> ��ͨ�� <code>beanFactory.getType(listenerBeanName)</code> ��ȡ��</p>
</li>
<li>
<p>��ȡ <code>listener</code> �������¼����ͣ�һ������������������ģ�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">public class MyApplicationEventListener </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        implements ApplicationListener&lt;MyApplicationEvent&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onApplicationEvent(MyApplicationEvent event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>���ǿ���������ȡ�� <code>MyApplicationEvent</code>��</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">// ��Щ�඼��jdk�ṩ��</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ParameterizedType parameterizedType = (ParameterizedType) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MyApplicationEventListener.class.getGenericInterfaces()[0];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Class&lt;?&gt; type = (Class)parameterizedType.getActualTypeArguments()[0];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>��Ȼ��spring �ڴ����ⲿ���߼�ʱ�ر��ӣ��Ͼ���� <code>MyApplicationEventListener</code> ͬʱʵ���˶���ӿڣ����� <code>MyApplicationEventListener</code> �ĸ� - �� - �� -... �ӿڲ��� <code>ApplicationListener</code>����Щ�����Ҫ���ǵ���</p>
</li>
<li>
<p>��ȡ���������ܼ������¼��ˣ������жϵ�ǰ�жϼ����Ƿ��ܼ��������¼��ˣ�spring ����ƥ��ķ���Ϊ <code>ResolvableType#isAssignableFrom(ResolvableType)</code>����ע������������ʵ�������� <code>Class.isAssignableFrom</code> �����Ĺ��ܣ�ͬʱ���Դ������ϵķ���Ҳʵ�������� <code>Class.isAssignableFrom</code> �Ĺ��ܡ�</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="3-üinvokelistener">3. ���ü���������<code>invokeListener(...)</code><a href="#3-üinvokelistener" class="hash-link" aria-label="Direct link to 3-üinvokelistener" title="Direct link to 3-üinvokelistener">​</a></h4>
<p>���ڵ����ü��������ˣ��������£�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ִ�м�����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">protected void invokeListener(ApplicationListener&lt;?&gt; listener, ApplicationEvent event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ErrorHandler errorHandler = getErrorHandler();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ���յ��õ��� doInvokeListener(...)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (errorHandler != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            doInvokeListener(listener, event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        catch (Throwable err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            errorHandler.handleError(err);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        doInvokeListener(listener, event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * �����ִ�в��������յ��õ��� ApplicationListener#onApplicationEvent ����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private void doInvokeListener(ApplicationListener listener, ApplicationEvent event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        listener.onApplicationEvent(event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    catch (ClassCastException ex) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String msg = ex.getMessage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (msg == null || matchesClassCastMessage(msg, event.getClass())) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // ʡ����־��ӡ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw ex;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>��һ��ܼ򵥣����Ǳ�����һ����ȡ�ļ���������һ������ <code>onApplicationEvent(...)</code> ������</p>
<p>������Ҫע����ǣ���ǰ��<code>��ȡִ����</code>�ķ����У������ᵽ <code>getTaskExecutor()</code> �Ľ��Ϊ <code>null</code>������� <code>invokeListener(...)</code> ��ֱ��ִ�еģ���û������һ���߳���ִ�У������Ҫ����ע�⡣</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="5-ӧ">5. �¼���Ӧ��<a href="#5-ӧ" class="hash-link" aria-label="Direct link to 5. �¼���Ӧ��" title="Direct link to 5. �¼���Ӧ��">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="51-">5.1 ����������������¼�<a href="#51-" class="hash-link" aria-label="Direct link to 5.1 ����������������¼�" title="Direct link to 5.1 ����������������¼�">​</a></h4>
<p>�� spring ���������У�����������ɻᷢ�� <code>ContextRefreshed</code> �¼���</p>
<p><img loading="lazy" src="https://java-tutorial.oss-cn-shanghai.aliyuncs.com/up-f60ea2710c59e2ce9e1401f1b54cbd9d700.png" alt="" class="img_kGBN"></p>
<p>����Ҫ���������¼�Ҳʮ�ּ򵥣���Ӧ�� <code>Listener</code> ���£�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">@Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ContextRefreshedListener </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        implements ApplicationListener&lt;ContextRefreshedEvent&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onApplicationEvent(ContextRefreshedEvent event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;�����������&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="52-">5.2 ���������¼�<a href="#52-" class="hash-link" aria-label="Direct link to 5.2 ���������¼�" title="Direct link to 5.2 ���������¼�">​</a></h4>
<p>һ��ʼ������Ϊ�����¼�������������</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">AnnotationConfigApplicationContext context </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        = new AnnotationConfigApplicationContext();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context.register(Demo08Config.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// �����¼�������������ǰ����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context.publishEvent(new MyApplicationEvent(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Thread.currentThread().getName() + &quot; | �Զ����¼� ...&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context.refresh();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>���к󣬻ᱨ���� <img loading="lazy" src="https://java-tutorial.oss-cn-shanghai.aliyuncs.com/up-4fc18c95f69d8c3d65be2a0f603d42e19ce.png" alt="" class="img_kGBN"></p>
<p>�Ӵ�����Ϣ��������˵�㲥��δ��ʼ����</p>
<p>��ô�㲥�����������ʼ�����أ�������ǰ��ķ������������֪������ <code>refresh()</code> ���̵ĵ� 8 �����������¼��ķ������ڵ� 10 ��������һ���������¼���ֻ���ڵ� 9 ���ˣ�</p>
<p><img loading="lazy" src="https://java-tutorial.oss-cn-shanghai.aliyuncs.com/up-1fecd516c6d58d628937b20ebd806065891.png" alt="" class="img_kGBN"></p>
<p>��������Կ����������¼�����Ϊ <code>onRefresh()</code> �����չ��׼���ģ�</p>
<p>�����¼��ķ���Ҳ�ͼ��ˣ�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">ApplicationContext context = </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new AnnotationConfigApplicationContext(Demo08Config.class) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onRefresh() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ���﷢�����������¼�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        publishEvent(new MyApplicationEvent(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Thread.currentThread().getName() + &quot; | �Զ����¼� ...&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="53-첽㲥">5.3 �첽�㲥�¼�<a href="#53-첽㲥" class="hash-link" aria-label="Direct link to 5.3 �첽�㲥�¼�" title="Direct link to 5.3 �첽�㲥�¼�">​</a></h4>
<p>��ǰ���Դ������������¼���ִ������ͬһ���߳��н��еģ������ demo �����н����Ҳ�ܿ�������</p>
<p><img loading="lazy" src="https://java-tutorial.oss-cn-shanghai.aliyuncs.com/up-afed97c136df717ba3d9397ff142ae0675f.png" alt="" class="img_kGBN"></p>
<p>ǰ���Ѿ����������㲥�¼�ʱ�����Ȼ�ȡ <code>executor</code>����� <code>executor</code> ���ڣ��� <code>executor</code> ִ�У������ֱ��ִ�У����㲥���е� <code>executor</code> Ϊ <code>null</code>����˺����׽��ۣ�Ҫ��ʵ���첽ִ�У���Ҫ�ڹ㲥�������� <code>executor</code> ���ԡ�</p>
<p>ǰ��ͬ��Ҳ��������spring �ڳ�ʼ���㲥��ʱ�������ж��������Ƿ���ڹ㲥����<code>beanName</code> Ϊ <code>applicationEventMulticaster</code>������������ʹ�� <code>SimpleApplicationEventMulticaster</code> ����Ĭ�ϵĹ㲥����</p>
<p>���һ��������ֻ��Ҫ�Զ��� <code>beanName</code> Ϊ <code>applicationEventMulticaster</code> �� bean �����У���������</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">@Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ComponentScan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Demo08Config {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * �����Զ���㲥��</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * ע�⣺���Ʊ���Ϊ applicationEventMulticaster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Bean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ApplicationEventMulticaster applicationEventMulticaster() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SimpleApplicationEventMulticaster applicationEventMulticaster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                = new SimpleApplicationEventMulticaster();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // SimpleAsyncTaskExecutor ��spring���ṩ���첽����ִ����</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        applicationEventMulticaster.setTaskExecutor(new SimpleAsyncTaskExecutor());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return applicationEventMulticaster;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>SimpleApplicationEventMulticaster</code> ʹ���� spring �ṩ���첽����ִ������<code>SimpleAsyncTaskExecutor</code>�����У�������£�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">SimpleAsyncTaskExecutor-2 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>���Կ����������߳�������̲߳�����ͬһ���ˡ�</p>
<p>�����鵽�⻹���꣬ǰ���Ѿ������� <code>SimpleAsyncTaskExecutor</code> ������ִ�й��̣���ִ��ʱ���᲻�ϴ������̣߳�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">   protected void doExecute(Runnable task) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ���Կ��������ﴴ�����̣߳������������߳�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Thread thread = (this.threadFactory != null </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ? this.threadFactory.newThread(task) : createThread(task));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        thread.start();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>��������������� 100 ���¼���</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">for(int i = 0; i &lt; 100; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context.publishEvent(new MyApplicationEvent(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Thread.currentThread().getName() + &quot; | �Զ����¼� ...&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>���н����������</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">SimpleAsyncTaskExecutor-2 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SimpleAsyncTaskExecutor-3 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SimpleAsyncTaskExecutor-4 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SimpleAsyncTaskExecutor-99 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SimpleAsyncTaskExecutor-100 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SimpleAsyncTaskExecutor-101 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>���Կ���������ÿһ���¼������ᴴ��һ�����߳���ִ�У��̱߳�������˱������Դ������Ƶ���ش�������һ��������˷ѣ�����������߳��أ������̳߳ء�</p>
<p>���ǿ��� <code>SimpleApplicationEventMulticaster#setTaskExecutor</code> �����Ĳ������������� <code>java.util.concurrent.Executor</code>������������ͱ�ü��ˣ�����ֱ��ʹ�� jdk �ṩ���̳߳أ�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">@Bean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public ApplicationEventMulticaster applicationEventMulticaster() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SimpleApplicationEventMulticaster applicationEventMulticaster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            = new SimpleApplicationEventMulticaster();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ʹ��jdk�ṩ���̳߳�</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    applicationEventMulticaster.setTaskExecutor(Executors.newFixedThreadPool(4));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return applicationEventMulticaster;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>����ʹ�õ��� jdK �ṩ�� <code>newFixedThreadPool</code>�������� 4 ���̣߳����У�������£�</p>
<div class="codeBlockContainer_Ty55 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zoWS"><pre tabindex="0" class="prism-code language-text codeBlock_Po6r thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Llrq"><span class="token-line" style="color:#393A34"><span class="token plain">pool-1-thread-2 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pool-1-thread-3 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pool-1-thread-4 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pool-1-thread-4 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pool-1-thread-1 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pool-1-thread-3 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pool-1-thread-3 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pool-1-thread-2 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pool-1-thread-1 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pool-1-thread-3 | main | �Զ����¼� ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_EjFN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_RXpO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_sabX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_WdXf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>���Կ�������ʼ����ֻ�� 4 ���߳��ڹ㲥�¼���</p>
<p>����Щ����淶�У��ǽ�ֱֹ��ʹ�� jdk �ṩ���̵߳ĳأ����Ǹ��ᳫ�Զ����̳߳أ�������㣬���ڱ��Ĳ����������̳߳ؼ����ģ���˾ͼ򵥵�ʹ�  � jdk �ṩ���߳�ʾ���¡�</p>
<h4 class="anchor anchorWithStickyNavbar_HWLp" id="54-զ">5.4 �Զ����¼�<a href="#54-զ" class="hash-link" aria-label="Direct link to 5.4 �Զ����¼�" title="Direct link to 5.4 �Զ����¼�">​</a></h4>
<p>ʵ���ϣ�ǰ���ṩ��ʾ�� demo �����Զ����¼�������Ͳ��ظ��ˡ�</p>
<h3 class="anchor anchorWithStickyNavbar_HWLp" id="6-ܽ">6. �ܽ�<a href="#6-ܽ" class="hash-link" aria-label="Direct link to 6. �ܽ�" title="Direct link to 6. �ܽ�">​</a></h3>
<p>���ķ����� spring �¼����ƣ��������¼����Ĵ����������¼������������㲥���������������Ҵ�Դ�����������ĳ�ʼ�����¼��ķ������̡�</p>
<hr>
<p><em>����ԭ�����ӣ�<a href="https://my.oschina.net/funcy/blog/4713339" target="_blank" rel="noopener noreferrer">https://my.oschina.net/funcy/blog/4713339</a> ���������߸���ˮƽ�����������д���֮������ӭָ����ԭ�����ף���ҵת������ϵ���߻����Ȩ������ҵת����ע��������</em></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/Spring探秘之Spring事件机制.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_EYjg" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_eevz"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring重要机制探秘/Spring探秘之AOP的执行顺序"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Spring探秘之AOP的执行顺序</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/code-note-blog/docs/Spring全家桶/Spring源码分析/Spring组件分析/Spring组件之ApplicationContext"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Spring组件之ApplicationContext</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_lc2k thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-demo-" class="table-of-contents__link toc-highlight">1. demo ׼��</a></li><li><a href="#2-" class="table-of-contents__link toc-highlight">2. �¼��������</a></li><li><a href="#3-عˣ㲥ĳʼע" class="table-of-contents__link toc-highlight">3. �عˣ�<code>�㲥���ĳ�ʼ��</code>��<code>��������ע��</code></a></li><li><a href="#4-" class="table-of-contents__link toc-highlight">4. �¼���������</a></li><li><a href="#5-ӧ" class="table-of-contents__link toc-highlight">5. �¼���Ӧ��</a></li><li><a href="#6-ܽ" class="table-of-contents__link toc-highlight">6. �ܽ�</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/code-note-blog/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/code-note-blog/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_B3Gq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>